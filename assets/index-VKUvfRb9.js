(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function i(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=i(o);fetch(o.href,u)}})();function C_(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var Ed={exports:{}},co={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var H0;function $x(){if(H0)return co;H0=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:a,type:s,key:f,ref:o!==void 0?o:null,props:u}}return co.Fragment=e,co.jsx=i,co.jsxs=i,co}var F0;function Xx(){return F0||(F0=1,Ed.exports=$x()),Ed.exports}var _=Xx(),xd={exports:{}},St={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var G0;function Zx(){if(G0)return St;G0=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),S=Symbol.iterator;function L(k){return k===null||typeof k!="object"?null:(k=S&&k[S]||k["@@iterator"],typeof k=="function"?k:null)}var K={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$=Object.assign,H={};function st(k,W,ot){this.props=k,this.context=W,this.refs=H,this.updater=ot||K}st.prototype.isReactComponent={},st.prototype.setState=function(k,W){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,W,"setState")},st.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function rt(){}rt.prototype=st.prototype;function it(k,W,ot){this.props=k,this.context=W,this.refs=H,this.updater=ot||K}var mt=it.prototype=new rt;mt.constructor=it,$(mt,st.prototype),mt.isPureReactComponent=!0;var bt=Array.isArray;function _t(){}var N={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function C(k,W,ot){var ft=ot.ref;return{$$typeof:a,type:k,key:W,ref:ft!==void 0?ft:null,props:ot}}function O(k,W){return C(k.type,W,k.props)}function V(k){return typeof k=="object"&&k!==null&&k.$$typeof===a}function D(k){var W={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(ot){return W[ot]})}var R=/\/+/g;function gt(k,W){return typeof k=="object"&&k!==null&&k.key!=null?D(""+k.key):W.toString(36)}function et(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(_t,_t):(k.status="pending",k.then(function(W){k.status==="pending"&&(k.status="fulfilled",k.value=W)},function(W){k.status==="pending"&&(k.status="rejected",k.reason=W)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function M(k,W,ot,ft,Tt){var Nt=typeof k;(Nt==="undefined"||Nt==="boolean")&&(k=null);var Pt=!1;if(k===null)Pt=!0;else switch(Nt){case"bigint":case"string":case"number":Pt=!0;break;case"object":switch(k.$$typeof){case a:case e:Pt=!0;break;case E:return Pt=k._init,M(Pt(k._payload),W,ot,ft,Tt)}}if(Pt)return Tt=Tt(k),Pt=ft===""?"."+gt(k,0):ft,bt(Tt)?(ot="",Pt!=null&&(ot=Pt.replace(R,"$&/")+"/"),M(Tt,W,ot,"",function(Ja){return Ja})):Tt!=null&&(V(Tt)&&(Tt=O(Tt,ot+(Tt.key==null||k&&k.key===Tt.key?"":(""+Tt.key).replace(R,"$&/")+"/")+Pt)),W.push(Tt)),1;Pt=0;var Ie=ft===""?".":ft+":";if(bt(k))for(var se=0;se<k.length;se++)ft=k[se],Nt=Ie+gt(ft,se),Pt+=M(ft,W,ot,Nt,Tt);else if(se=L(k),typeof se=="function")for(k=se.call(k),se=0;!(ft=k.next()).done;)ft=ft.value,Nt=Ie+gt(ft,se++),Pt+=M(ft,W,ot,Nt,Tt);else if(Nt==="object"){if(typeof k.then=="function")return M(et(k),W,ot,ft,Tt);throw W=String(k),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return Pt}function G(k,W,ot){if(k==null)return k;var ft=[],Tt=0;return M(k,ft,"","",function(Nt){return W.call(ot,Nt,Tt++)}),ft}function at(k){if(k._status===-1){var W=k._result;W=W(),W.then(function(ot){(k._status===0||k._status===-1)&&(k._status=1,k._result=ot)},function(ot){(k._status===0||k._status===-1)&&(k._status=2,k._result=ot)}),k._status===-1&&(k._status=0,k._result=W)}if(k._status===1)return k._result.default;throw k._result}var ut=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)},Ut={map:G,forEach:function(k,W,ot){G(k,function(){W.apply(this,arguments)},ot)},count:function(k){var W=0;return G(k,function(){W++}),W},toArray:function(k){return G(k,function(W){return W})||[]},only:function(k){if(!V(k))throw Error("React.Children.only expected to receive a single React element child.");return k}};return St.Activity=T,St.Children=Ut,St.Component=st,St.Fragment=i,St.Profiler=o,St.PureComponent=it,St.StrictMode=s,St.Suspense=p,St.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,St.__COMPILER_RUNTIME={__proto__:null,c:function(k){return N.H.useMemoCache(k)}},St.cache=function(k){return function(){return k.apply(null,arguments)}},St.cacheSignal=function(){return null},St.cloneElement=function(k,W,ot){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var ft=$({},k.props),Tt=k.key;if(W!=null)for(Nt in W.key!==void 0&&(Tt=""+W.key),W)!w.call(W,Nt)||Nt==="key"||Nt==="__self"||Nt==="__source"||Nt==="ref"&&W.ref===void 0||(ft[Nt]=W[Nt]);var Nt=arguments.length-2;if(Nt===1)ft.children=ot;else if(1<Nt){for(var Pt=Array(Nt),Ie=0;Ie<Nt;Ie++)Pt[Ie]=arguments[Ie+2];ft.children=Pt}return C(k.type,Tt,ft)},St.createContext=function(k){return k={$$typeof:f,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:u,_context:k},k},St.createElement=function(k,W,ot){var ft,Tt={},Nt=null;if(W!=null)for(ft in W.key!==void 0&&(Nt=""+W.key),W)w.call(W,ft)&&ft!=="key"&&ft!=="__self"&&ft!=="__source"&&(Tt[ft]=W[ft]);var Pt=arguments.length-2;if(Pt===1)Tt.children=ot;else if(1<Pt){for(var Ie=Array(Pt),se=0;se<Pt;se++)Ie[se]=arguments[se+2];Tt.children=Ie}if(k&&k.defaultProps)for(ft in Pt=k.defaultProps,Pt)Tt[ft]===void 0&&(Tt[ft]=Pt[ft]);return C(k,Nt,Tt)},St.createRef=function(){return{current:null}},St.forwardRef=function(k){return{$$typeof:m,render:k}},St.isValidElement=V,St.lazy=function(k){return{$$typeof:E,_payload:{_status:-1,_result:k},_init:at}},St.memo=function(k,W){return{$$typeof:y,type:k,compare:W===void 0?null:W}},St.startTransition=function(k){var W=N.T,ot={};N.T=ot;try{var ft=k(),Tt=N.S;Tt!==null&&Tt(ot,ft),typeof ft=="object"&&ft!==null&&typeof ft.then=="function"&&ft.then(_t,ut)}catch(Nt){ut(Nt)}finally{W!==null&&ot.types!==null&&(W.types=ot.types),N.T=W}},St.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},St.use=function(k){return N.H.use(k)},St.useActionState=function(k,W,ot){return N.H.useActionState(k,W,ot)},St.useCallback=function(k,W){return N.H.useCallback(k,W)},St.useContext=function(k){return N.H.useContext(k)},St.useDebugValue=function(){},St.useDeferredValue=function(k,W){return N.H.useDeferredValue(k,W)},St.useEffect=function(k,W){return N.H.useEffect(k,W)},St.useEffectEvent=function(k){return N.H.useEffectEvent(k)},St.useId=function(){return N.H.useId()},St.useImperativeHandle=function(k,W,ot){return N.H.useImperativeHandle(k,W,ot)},St.useInsertionEffect=function(k,W){return N.H.useInsertionEffect(k,W)},St.useLayoutEffect=function(k,W){return N.H.useLayoutEffect(k,W)},St.useMemo=function(k,W){return N.H.useMemo(k,W)},St.useOptimistic=function(k,W){return N.H.useOptimistic(k,W)},St.useReducer=function(k,W,ot){return N.H.useReducer(k,W,ot)},St.useRef=function(k){return N.H.useRef(k)},St.useState=function(k){return N.H.useState(k)},St.useSyncExternalStore=function(k,W,ot){return N.H.useSyncExternalStore(k,W,ot)},St.useTransition=function(){return N.H.useTransition()},St.version="19.2.3",St}var Q0;function ym(){return Q0||(Q0=1,xd.exports=Zx()),xd.exports}var U=ym();const kc=C_(U);var Td={exports:{}},ho={},Ad={exports:{}},Sd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Y0;function Jx(){return Y0||(Y0=1,(function(a){function e(M,G){var at=M.length;M.push(G);t:for(;0<at;){var ut=at-1>>>1,Ut=M[ut];if(0<o(Ut,G))M[ut]=G,M[at]=Ut,at=ut;else break t}}function i(M){return M.length===0?null:M[0]}function s(M){if(M.length===0)return null;var G=M[0],at=M.pop();if(at!==G){M[0]=at;t:for(var ut=0,Ut=M.length,k=Ut>>>1;ut<k;){var W=2*(ut+1)-1,ot=M[W],ft=W+1,Tt=M[ft];if(0>o(ot,at))ft<Ut&&0>o(Tt,ot)?(M[ut]=Tt,M[ft]=at,ut=ft):(M[ut]=ot,M[W]=at,ut=W);else if(ft<Ut&&0>o(Tt,at))M[ut]=Tt,M[ft]=at,ut=ft;else break t}}return G}function o(M,G){var at=M.sortIndex-G.sortIndex;return at!==0?at:M.id-G.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;a.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();a.unstable_now=function(){return f.now()-m}}var p=[],y=[],E=1,T=null,S=3,L=!1,K=!1,$=!1,H=!1,st=typeof setTimeout=="function"?setTimeout:null,rt=typeof clearTimeout=="function"?clearTimeout:null,it=typeof setImmediate<"u"?setImmediate:null;function mt(M){for(var G=i(y);G!==null;){if(G.callback===null)s(y);else if(G.startTime<=M)s(y),G.sortIndex=G.expirationTime,e(p,G);else break;G=i(y)}}function bt(M){if($=!1,mt(M),!K)if(i(p)!==null)K=!0,_t||(_t=!0,D());else{var G=i(y);G!==null&&et(bt,G.startTime-M)}}var _t=!1,N=-1,w=5,C=-1;function O(){return H?!0:!(a.unstable_now()-C<w)}function V(){if(H=!1,_t){var M=a.unstable_now();C=M;var G=!0;try{t:{K=!1,$&&($=!1,rt(N),N=-1),L=!0;var at=S;try{e:{for(mt(M),T=i(p);T!==null&&!(T.expirationTime>M&&O());){var ut=T.callback;if(typeof ut=="function"){T.callback=null,S=T.priorityLevel;var Ut=ut(T.expirationTime<=M);if(M=a.unstable_now(),typeof Ut=="function"){T.callback=Ut,mt(M),G=!0;break e}T===i(p)&&s(p),mt(M)}else s(p);T=i(p)}if(T!==null)G=!0;else{var k=i(y);k!==null&&et(bt,k.startTime-M),G=!1}}break t}finally{T=null,S=at,L=!1}G=void 0}}finally{G?D():_t=!1}}}var D;if(typeof it=="function")D=function(){it(V)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,gt=R.port2;R.port1.onmessage=V,D=function(){gt.postMessage(null)}}else D=function(){st(V,0)};function et(M,G){N=st(function(){M(a.unstable_now())},G)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(M){M.callback=null},a.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<M?Math.floor(1e3/M):5},a.unstable_getCurrentPriorityLevel=function(){return S},a.unstable_next=function(M){switch(S){case 1:case 2:case 3:var G=3;break;default:G=S}var at=S;S=G;try{return M()}finally{S=at}},a.unstable_requestPaint=function(){H=!0},a.unstable_runWithPriority=function(M,G){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var at=S;S=M;try{return G()}finally{S=at}},a.unstable_scheduleCallback=function(M,G,at){var ut=a.unstable_now();switch(typeof at=="object"&&at!==null?(at=at.delay,at=typeof at=="number"&&0<at?ut+at:ut):at=ut,M){case 1:var Ut=-1;break;case 2:Ut=250;break;case 5:Ut=1073741823;break;case 4:Ut=1e4;break;default:Ut=5e3}return Ut=at+Ut,M={id:E++,callback:G,priorityLevel:M,startTime:at,expirationTime:Ut,sortIndex:-1},at>ut?(M.sortIndex=at,e(y,M),i(p)===null&&M===i(y)&&($?(rt(N),N=-1):$=!0,et(bt,at-ut))):(M.sortIndex=Ut,e(p,M),K||L||(K=!0,_t||(_t=!0,D()))),M},a.unstable_shouldYield=O,a.unstable_wrapCallback=function(M){var G=S;return function(){var at=S;S=G;try{return M.apply(this,arguments)}finally{S=at}}}})(Sd)),Sd}var K0;function Wx(){return K0||(K0=1,Ad.exports=Jx()),Ad.exports}var wd={exports:{}},$e={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $0;function tT(){if($0)return $e;$0=1;var a=ym();function e(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,y,E){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:p,containerInfo:y,implementation:E}}var f=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return $e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,$e.createPortal=function(p,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return u(p,y,null,E)},$e.flushSync=function(p){var y=f.T,E=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=y,s.p=E,s.d.f()}},$e.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(p,y))},$e.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},$e.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var E=y.as,T=m(E,y.crossOrigin),S=typeof y.integrity=="string"?y.integrity:void 0,L=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?s.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:T,integrity:S,fetchPriority:L}):E==="script"&&s.d.X(p,{crossOrigin:T,integrity:S,fetchPriority:L,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},$e.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=m(y.as,y.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(p)},$e.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,T=m(E,y.crossOrigin);s.d.L(p,E,{crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},$e.preloadModule=function(p,y){if(typeof p=="string")if(y){var E=m(y.as,y.crossOrigin);s.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(p)},$e.requestFormReset=function(p){s.d.r(p)},$e.unstable_batchedUpdates=function(p,y){return p(y)},$e.useFormState=function(p,y,E){return f.H.useFormState(p,y,E)},$e.useFormStatus=function(){return f.H.useHostTransitionStatus()},$e.version="19.2.3",$e}var X0;function eT(){if(X0)return wd.exports;X0=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),wd.exports=tT(),wd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z0;function nT(){if(Z0)return ho;Z0=1;var a=Wx(),e=ym(),i=eT();function s(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function f(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function m(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function p(t){if(u(t)!==t)throw Error(s(188))}function y(t){var n=t.alternate;if(!n){if(n=u(t),n===null)throw Error(s(188));return n!==t?null:t}for(var r=t,l=n;;){var h=r.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){r=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===r)return p(h),t;if(d===l)return p(h),n;d=d.sibling}throw Error(s(188))}if(r.return!==l.return)r=h,l=d;else{for(var v=!1,x=h.child;x;){if(x===r){v=!0,r=h,l=d;break}if(x===l){v=!0,l=h,r=d;break}x=x.sibling}if(!v){for(x=d.child;x;){if(x===r){v=!0,r=d,l=h;break}if(x===l){v=!0,l=d,r=h;break}x=x.sibling}if(!v)throw Error(s(189))}}if(r.alternate!==l)throw Error(s(190))}if(r.tag!==3)throw Error(s(188));return r.stateNode.current===r?t:n}function E(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=E(t),n!==null)return n;t=t.sibling}return null}var T=Object.assign,S=Symbol.for("react.element"),L=Symbol.for("react.transitional.element"),K=Symbol.for("react.portal"),$=Symbol.for("react.fragment"),H=Symbol.for("react.strict_mode"),st=Symbol.for("react.profiler"),rt=Symbol.for("react.consumer"),it=Symbol.for("react.context"),mt=Symbol.for("react.forward_ref"),bt=Symbol.for("react.suspense"),_t=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function D(t){return t===null||typeof t!="object"?null:(t=V&&t[V]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function gt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case $:return"Fragment";case st:return"Profiler";case H:return"StrictMode";case bt:return"Suspense";case _t:return"SuspenseList";case C:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case K:return"Portal";case it:return t.displayName||"Context";case rt:return(t._context.displayName||"Context")+".Consumer";case mt:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case N:return n=t.displayName||null,n!==null?n:gt(t.type)||"Memo";case w:n=t._payload,t=t._init;try{return gt(t(n))}catch{}}return null}var et=Array.isArray,M=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,at={pending:!1,data:null,method:null,action:null},ut=[],Ut=-1;function k(t){return{current:t}}function W(t){0>Ut||(t.current=ut[Ut],ut[Ut]=null,Ut--)}function ot(t,n){Ut++,ut[Ut]=t.current,t.current=n}var ft=k(null),Tt=k(null),Nt=k(null),Pt=k(null);function Ie(t,n){switch(ot(Nt,n),ot(Tt,t),ot(ft,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?f0(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=f0(n),t=d0(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}W(ft),ot(ft,t)}function se(){W(ft),W(Tt),W(Nt)}function Ja(t){t.memoizedState!==null&&ot(Pt,t);var n=ft.current,r=d0(n,t.type);n!==r&&(ot(Tt,t),ot(ft,r))}function Hr(t){Tt.current===t&&(W(ft),W(Tt)),Pt.current===t&&(W(Pt),so._currentValue=at)}var Fr,Gr;function ti(t){if(Fr===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);Fr=n&&n[1]||"",Gr=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Fr+t+Gr}var sl=!1;function Wa(t,n){if(!t||sl)return"";sl=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch(Y){var F=Y}Reflect.construct(t,[],J)}else{try{J.call()}catch(Y){F=Y}t.call(J.prototype)}}else{try{throw Error()}catch(Y){F=Y}(J=t())&&typeof J.catch=="function"&&J.catch(function(){})}}catch(Y){if(Y&&F&&typeof Y.stack=="string")return[Y.stack,F.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],x=d[1];if(v&&x){var I=v.split(`
`),q=x.split(`
`);for(h=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;h<q.length&&!q[h].includes("DetermineComponentFrameRoot");)h++;if(l===I.length||h===q.length)for(l=I.length-1,h=q.length-1;1<=l&&0<=h&&I[l]!==q[h];)h--;for(;1<=l&&0<=h;l--,h--)if(I[l]!==q[h]){if(l!==1||h!==1)do if(l--,h--,0>h||I[l]!==q[h]){var X=`
`+I[l].replace(" at new "," at ");return t.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",t.displayName)),X}while(1<=l&&0<=h);break}}}finally{sl=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?ti(r):""}function ll(t,n){switch(t.tag){case 26:case 27:case 5:return ti(t.type);case 16:return ti("Lazy");case 13:return t.child!==n&&n!==null?ti("Suspense Fallback"):ti("Suspense");case 19:return ti("SuspenseList");case 0:case 15:return Wa(t.type,!1);case 11:return Wa(t.type.render,!1);case 1:return Wa(t.type,!0);case 31:return ti("Activity");default:return""}}function ol(t){try{var n="",r=null;do n+=ll(t,r),r=t,t=t.return;while(t);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var _e=Object.prototype.hasOwnProperty,Ve=a.unstable_scheduleCallback,ia=a.unstable_cancelCallback,xh=a.unstable_shouldYield,Fo=a.unstable_requestPaint,We=a.unstable_now,tr=a.unstable_getCurrentPriorityLevel,ul=a.unstable_ImmediatePriority,cl=a.unstable_UserBlockingPriority,aa=a.unstable_NormalPriority,Th=a.unstable_LowPriority,Go=a.unstable_IdlePriority,Qo=a.log,Yo=a.unstable_setDisableYieldValue,Pn=null,Pe=null;function Sn(t){if(typeof Qo=="function"&&Yo(t),Pe&&typeof Pe.setStrictMode=="function")try{Pe.setStrictMode(Pn,t)}catch{}}var me=Math.clz32?Math.clz32:$o,Ko=Math.log,Qr=Math.LN2;function $o(t){return t>>>=0,t===0?32:31-(Ko(t)/Qr|0)|0}var ei=256,er=262144,be=4194304;function ni(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ii(t,n,r){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var x=l&134217727;return x!==0?(l=x&~d,l!==0?h=ni(l):(v&=x,v!==0?h=ni(v):r||(r=x&~t,r!==0&&(h=ni(r))))):(x=l&~d,x!==0?h=ni(x):v!==0?h=ni(v):r||(r=l&~t,r!==0&&(h=ni(r)))),h===0?0:n!==0&&n!==h&&(n&d)===0&&(d=h&-h,r=n&-n,d>=r||d===32&&(r&4194048)!==0)?n:h}function Bn(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Ah(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Xo(){var t=be;return be<<=1,(be&62914560)===0&&(be=4194304),t}function ai(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function nr(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Sh(t,n,r,l,h,d){var v=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var x=t.entanglements,I=t.expirationTimes,q=t.hiddenUpdates;for(r=v&~r;0<r;){var X=31-me(r),J=1<<X;x[X]=0,I[X]=-1;var F=q[X];if(F!==null)for(q[X]=null,X=0;X<F.length;X++){var Y=F[X];Y!==null&&(Y.lane&=-536870913)}r&=~J}l!==0&&ir(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(v&~n))}function ir(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-me(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|r&261930}function hl(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var l=31-me(r),h=1<<l;h&n|t[l]&n&&(t[l]|=n),r&=~h}}function fl(t,n){var r=n&-n;return r=(r&42)!==0?1:ar(r),(r&(t.suspendedLanes|n))!==0?0:r}function ar(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Vi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Zo(){var t=G.p;return t!==0?t:(t=window.event,t===void 0?32:k0(t.type))}function qn(t,n){var r=G.p;try{return G.p=t,n()}finally{G.p=r}}var Hn=Math.random().toString(36).slice(2),Ee="__reactFiber$"+Hn,ke="__reactProps$"+Hn,ri="__reactContainer$"+Hn,Yr="__reactEvents$"+Hn,wh="__reactListeners$"+Hn,Jo="__reactHandles$"+Hn,Wo="__reactResources$"+Hn,si="__reactMarker$"+Hn;function Kr(t){delete t[Ee],delete t[ke],delete t[Yr],delete t[wh],delete t[Jo]}function li(t){var n=t[Ee];if(n)return n;for(var r=t.parentNode;r;){if(n=r[ri]||r[Ee]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=b0(t);t!==null;){if(r=t[Ee])return r;t=b0(t)}return n}t=r,r=t.parentNode}return null}function wn(t){if(t=t[Ee]||t[ri]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function fn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(s(33))}function oi(t){var n=t[Wo];return n||(n=t[Wo]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function xe(t){t[si]=!0}var dl=new Set,ml={};function ui(t,n){ci(t,n),ci(t+"Capture",n)}function ci(t,n){for(ml[t]=n,t=0;t<n.length;t++)dl.add(n[t])}var gl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),pl={},yl={};function tu(t){return _e.call(yl,t)?!0:_e.call(pl,t)?!1:gl.test(t)?yl[t]=!0:(pl[t]=!0,!1)}function $r(t,n,r){if(tu(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function dn(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function Te(t,n,r,l){if(l===null)t.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+l)}}function Le(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ra(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function vl(t,n,r){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,d=l.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(v){r=""+v,d.call(this,v)}}),Object.defineProperty(t,n,{enumerable:l.enumerable}),{getValue:function(){return r},setValue:function(v){r=""+v},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Kt(t){if(!t._valueTracker){var n=ra(t)?"checked":"value";t._valueTracker=vl(t,n,""+t[n])}}function rr(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),l="";return t&&(l=ra(t)?t.checked?"true":"false":t.value),t=l,t!==r?(n.setValue(t),!0):!1}function hi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var sr=/[\n"\\]/g;function an(t){return t.replace(sr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Xr(t,n,r,l,h,d,v,x){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),n!=null?v==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Le(n)):t.value!==""+Le(n)&&(t.value=""+Le(n)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),n!=null?_l(t,v,Le(n)):r!=null?_l(t,v,Le(r)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?t.name=""+Le(x):t.removeAttribute("name")}function eu(t,n,r,l,h,d,v,x){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),n!=null||r!=null){if(!(d!=="submit"&&d!=="reset"||n!=null)){Kt(t);return}r=r!=null?""+Le(r):"",n=n!=null?""+Le(n):r,x||n===t.value||(t.value=n),t.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=x?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v),Kt(t)}function _l(t,n,r){n==="number"&&hi(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function sa(t,n,r,l){if(t=t.options,n){n={};for(var h=0;h<r.length;h++)n["$"+r[h]]=!0;for(r=0;r<t.length;r++)h=n.hasOwnProperty("$"+t[r].value),t[r].selected!==h&&(t[r].selected=h),h&&l&&(t[r].defaultSelected=!0)}else{for(r=""+Le(r),n=null,h=0;h<t.length;h++){if(t[h].value===r){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function nu(t,n,r){if(n!=null&&(n=""+Le(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+Le(r):""}function la(t,n,r,l){if(n==null){if(l!=null){if(r!=null)throw Error(s(92));if(et(l)){if(1<l.length)throw Error(s(93));l=l[0]}r=l}r==null&&(r=""),n=r}r=Le(n),t.defaultValue=r,l=t.textContent,l===r&&l!==""&&l!==null&&(t.value=l),Kt(t)}function rn(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var iu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function bl(t,n,r){var l=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,r):typeof r!="number"||r===0||iu.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function El(t,n,r){if(n!=null&&typeof n!="object")throw Error(s(62));if(t=t.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&r[h]!==l&&bl(t,h,l)}else for(var d in n)n.hasOwnProperty(d)&&bl(t,d,n[d])}function Zr(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var au=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),oa=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Jr(t){return oa.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Fn(){}var xl=null;function Rn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ua=null,fi=null;function lr(t){var n=wn(t);if(n&&(t=n.stateNode)){var r=t[ke]||null;t:switch(t=n.stateNode,n.type){case"input":if(Xr(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+an(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var l=r[n];if(l!==t&&l.form===t.form){var h=l[ke]||null;if(!h)throw Error(s(90));Xr(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<r.length;n++)l=r[n],l.form===t.form&&rr(l)}break t;case"textarea":nu(t,r.value,r.defaultValue);break t;case"select":n=r.value,n!=null&&sa(t,!!r.multiple,n,!1)}}}var Wr=!1;function ca(t,n,r){if(Wr)return t(n,r);Wr=!0;try{var l=t(n);return l}finally{if(Wr=!1,(ua!==null||fi!==null)&&(Zu(),ua&&(n=ua,t=fi,fi=ua=null,lr(n),t)))for(n=0;n<t.length;n++)lr(t[n])}}function Gn(t,n){var r=t.stateNode;if(r===null)return null;var l=r[ke]||null;if(l===null)return null;r=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(s(231,n,typeof r));return r}var Cn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),or=!1;if(Cn)try{var Zt={};Object.defineProperty(Zt,"passive",{get:function(){or=!0}}),window.addEventListener("test",Zt,Zt),window.removeEventListener("test",Zt,Zt)}catch{or=!1}var di=null,Tl=null,ur=null;function Al(){if(ur)return ur;var t,n=Tl,r=n.length,l,h="value"in di?di.value:di.textContent,d=h.length;for(t=0;t<r&&n[t]===h[t];t++);var v=r-t;for(l=1;l<=v&&n[r-l]===h[d-l];l++);return ur=h.slice(t,1<l?1-l:void 0)}function cr(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Mi(){return!0}function Qn(){return!1}function Be(t){function n(r,l,h,d,v){this._reactName=r,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var x in t)t.hasOwnProperty(x)&&(r=t[x],this[x]=r?r(d):d[x]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Mi:Qn,this.isPropagationStopped=Qn,this}return T(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Mi)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Mi)},persist:function(){},isPersistent:Mi}),n}var Oi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},mi=Be(Oi),ha=T({},Oi,{view:0,detail:0}),Sl=Be(ha),fa,ts,gi,es=T({},ha,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:da,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==gi&&(gi&&t.type==="mousemove"?(fa=t.screenX-gi.screenX,ts=t.screenY-gi.screenY):ts=fa=0,gi=t),fa)},movementY:function(t){return"movementY"in t?t.movementY:ts}}),wl=Be(es),hr=T({},es,{dataTransfer:0}),ru=Be(hr),su=T({},ha,{relatedTarget:0}),fr=Be(su),Rl=T({},Oi,{animationName:0,elapsedTime:0,pseudoElement:0}),lu=Be(Rl),ns=T({},Oi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ou=Be(ns),uu=T({},Oi,{data:0}),pi=Be(uu),cu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function du(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=fu[t])?!!n[t]:!1}function da(){return du}var tn=T({},ha,{key:function(t){if(t.key){var n=cu[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=cr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?hu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:da,charCode:function(t){return t.type==="keypress"?cr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?cr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),mu=Be(tn),gu=T({},es,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ji=Be(gu),c=T({},ha,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:da}),g=Be(c),b=T({},Oi,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=Be(b),P=T({},es,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Q=Be(P),lt=T({},Oi,{newState:0,oldState:0}),Rt=Be(lt),ge=[9,13,27,32],Gt=Cn&&"CompositionEvent"in window,le=null;Cn&&"documentMode"in document&&(le=document.documentMode);var Nn=Cn&&"TextEvent"in window&&!le,yi=Cn&&(!Gt||le&&8<le&&11>=le),Yn=" ",Kn=!1;function dr(t,n){switch(t){case"keyup":return ge.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function is(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var as=!1;function _E(t,n){switch(t){case"compositionend":return is(n);case"keypress":return n.which!==32?null:(Kn=!0,Yn);case"textInput":return t=n.data,t===Yn&&Kn?null:t;default:return null}}function bE(t,n){if(as)return t==="compositionend"||!Gt&&dr(t,n)?(t=Al(),ur=Tl=di=null,as=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return yi&&n.locale!=="ko"?null:n.data;default:return null}}var EE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Tg(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!EE[t.type]:n==="textarea"}function Ag(t,n,r,l){ua?fi?fi.push(l):fi=[l]:ua=l,n=ac(n,"onChange"),0<n.length&&(r=new mi("onChange","change",null,r,l),t.push({event:r,listeners:n}))}var Cl=null,Nl=null;function xE(t){s0(t,0)}function pu(t){var n=fn(t);if(rr(n))return t}function Sg(t,n){if(t==="change")return n}var wg=!1;if(Cn){var Rh;if(Cn){var Ch="oninput"in document;if(!Ch){var Rg=document.createElement("div");Rg.setAttribute("oninput","return;"),Ch=typeof Rg.oninput=="function"}Rh=Ch}else Rh=!1;wg=Rh&&(!document.documentMode||9<document.documentMode)}function Cg(){Cl&&(Cl.detachEvent("onpropertychange",Ng),Nl=Cl=null)}function Ng(t){if(t.propertyName==="value"&&pu(Nl)){var n=[];Ag(n,Nl,t,Rn(t)),ca(xE,n)}}function TE(t,n,r){t==="focusin"?(Cg(),Cl=n,Nl=r,Cl.attachEvent("onpropertychange",Ng)):t==="focusout"&&Cg()}function AE(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return pu(Nl)}function SE(t,n){if(t==="click")return pu(n)}function wE(t,n){if(t==="input"||t==="change")return pu(n)}function RE(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var mn=typeof Object.is=="function"?Object.is:RE;function Dl(t,n){if(mn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),l=Object.keys(n);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var h=r[l];if(!_e.call(n,h)||!mn(t[h],n[h]))return!1}return!0}function Dg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ig(t,n){var r=Dg(t);t=0;for(var l;r;){if(r.nodeType===3){if(l=t+r.textContent.length,t<=n&&l>=n)return{node:r,offset:n-t};t=l}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=Dg(r)}}function Vg(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Vg(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Mg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=hi(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=hi(t.document)}return n}function Nh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var CE=Cn&&"documentMode"in document&&11>=document.documentMode,rs=null,Dh=null,Il=null,Ih=!1;function Og(t,n,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Ih||rs==null||rs!==hi(l)||(l=rs,"selectionStart"in l&&Nh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Il&&Dl(Il,l)||(Il=l,l=ac(Dh,"onSelect"),0<l.length&&(n=new mi("onSelect","select",null,n,r),t.push({event:n,listeners:l}),n.target=rs)))}function mr(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var ss={animationend:mr("Animation","AnimationEnd"),animationiteration:mr("Animation","AnimationIteration"),animationstart:mr("Animation","AnimationStart"),transitionrun:mr("Transition","TransitionRun"),transitionstart:mr("Transition","TransitionStart"),transitioncancel:mr("Transition","TransitionCancel"),transitionend:mr("Transition","TransitionEnd")},Vh={},jg={};Cn&&(jg=document.createElement("div").style,"AnimationEvent"in window||(delete ss.animationend.animation,delete ss.animationiteration.animation,delete ss.animationstart.animation),"TransitionEvent"in window||delete ss.transitionend.transition);function gr(t){if(Vh[t])return Vh[t];if(!ss[t])return t;var n=ss[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in jg)return Vh[t]=n[r];return t}var kg=gr("animationend"),Lg=gr("animationiteration"),zg=gr("animationstart"),NE=gr("transitionrun"),DE=gr("transitionstart"),IE=gr("transitioncancel"),Ug=gr("transitionend"),Pg=new Map,Mh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Mh.push("scrollEnd");function $n(t,n){Pg.set(t,n),ui(n,[t])}var yu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Dn=[],ls=0,Oh=0;function vu(){for(var t=ls,n=Oh=ls=0;n<t;){var r=Dn[n];Dn[n++]=null;var l=Dn[n];Dn[n++]=null;var h=Dn[n];Dn[n++]=null;var d=Dn[n];if(Dn[n++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}d!==0&&Bg(r,h,d)}}function _u(t,n,r,l){Dn[ls++]=t,Dn[ls++]=n,Dn[ls++]=r,Dn[ls++]=l,Oh|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function jh(t,n,r,l){return _u(t,n,r,l),bu(t)}function pr(t,n){return _u(t,null,null,n),bu(t)}function Bg(t,n,r){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r);for(var h=!1,d=t.return;d!==null;)d.childLanes|=r,l=d.alternate,l!==null&&(l.childLanes|=r),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&n!==null&&(h=31-me(r),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[n]:l.push(n),n.lane=r|536870912),d):null}function bu(t){if(50<Wl)throw Wl=0,Gf=null,Error(s(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var os={};function VE(t,n,r,l){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gn(t,n,r,l){return new VE(t,n,r,l)}function kh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ki(t,n){var r=t.alternate;return r===null?(r=gn(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function qg(t,n){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Eu(t,n,r,l,h,d){var v=0;if(l=t,typeof t=="function")kh(t)&&(v=1);else if(typeof t=="string")v=Lx(t,r,ft.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case C:return t=gn(31,r,n,h),t.elementType=C,t.lanes=d,t;case $:return yr(r.children,h,d,n);case H:v=8,h|=24;break;case st:return t=gn(12,r,n,h|2),t.elementType=st,t.lanes=d,t;case bt:return t=gn(13,r,n,h),t.elementType=bt,t.lanes=d,t;case _t:return t=gn(19,r,n,h),t.elementType=_t,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case it:v=10;break t;case rt:v=9;break t;case mt:v=11;break t;case N:v=14;break t;case w:v=16,l=null;break t}v=29,r=Error(s(130,t===null?"null":typeof t,"")),l=null}return n=gn(v,r,n,h),n.elementType=t,n.type=l,n.lanes=d,n}function yr(t,n,r,l){return t=gn(7,t,l,n),t.lanes=r,t}function Lh(t,n,r){return t=gn(6,t,null,n),t.lanes=r,t}function Hg(t){var n=gn(18,null,null,0);return n.stateNode=t,n}function zh(t,n,r){return n=gn(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Fg=new WeakMap;function In(t,n){if(typeof t=="object"&&t!==null){var r=Fg.get(t);return r!==void 0?r:(n={value:t,source:n,stack:ol(n)},Fg.set(t,n),n)}return{value:t,source:n,stack:ol(n)}}var us=[],cs=0,xu=null,Vl=0,Vn=[],Mn=0,ma=null,vi=1,_i="";function Li(t,n){us[cs++]=Vl,us[cs++]=xu,xu=t,Vl=n}function Gg(t,n,r){Vn[Mn++]=vi,Vn[Mn++]=_i,Vn[Mn++]=ma,ma=t;var l=vi;t=_i;var h=32-me(l)-1;l&=~(1<<h),r+=1;var d=32-me(n)+h;if(30<d){var v=h-h%5;d=(l&(1<<v)-1).toString(32),l>>=v,h-=v,vi=1<<32-me(n)+h|r<<h|l,_i=d+t}else vi=1<<d|r<<h|l,_i=t}function Uh(t){t.return!==null&&(Li(t,1),Gg(t,1,0))}function Ph(t){for(;t===xu;)xu=us[--cs],us[cs]=null,Vl=us[--cs],us[cs]=null;for(;t===ma;)ma=Vn[--Mn],Vn[Mn]=null,_i=Vn[--Mn],Vn[Mn]=null,vi=Vn[--Mn],Vn[Mn]=null}function Qg(t,n){Vn[Mn++]=vi,Vn[Mn++]=_i,Vn[Mn++]=ma,vi=n.id,_i=n.overflow,ma=t}var qe=null,ie=null,zt=!1,ga=null,On=!1,Bh=Error(s(519));function pa(t){var n=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ml(In(n,t)),Bh}function Yg(t){var n=t.stateNode,r=t.type,l=t.memoizedProps;switch(n[Ee]=t,n[ke]=l,r){case"dialog":Mt("cancel",n),Mt("close",n);break;case"iframe":case"object":case"embed":Mt("load",n);break;case"video":case"audio":for(r=0;r<eo.length;r++)Mt(eo[r],n);break;case"source":Mt("error",n);break;case"img":case"image":case"link":Mt("error",n),Mt("load",n);break;case"details":Mt("toggle",n);break;case"input":Mt("invalid",n),eu(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Mt("invalid",n);break;case"textarea":Mt("invalid",n),la(n,l.value,l.defaultValue,l.children)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||l.suppressHydrationWarning===!0||c0(n.textContent,r)?(l.popover!=null&&(Mt("beforetoggle",n),Mt("toggle",n)),l.onScroll!=null&&Mt("scroll",n),l.onScrollEnd!=null&&Mt("scrollend",n),l.onClick!=null&&(n.onclick=Fn),n=!0):n=!1,n||pa(t,!0)}function Kg(t){for(qe=t.return;qe;)switch(qe.tag){case 5:case 31:case 13:On=!1;return;case 27:case 3:On=!0;return;default:qe=qe.return}}function hs(t){if(t!==qe)return!1;if(!zt)return Kg(t),zt=!0,!1;var n=t.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||sd(t.type,t.memoizedProps)),r=!r),r&&ie&&pa(t),Kg(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));ie=_0(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));ie=_0(t)}else n===27?(n=ie,Da(t.type)?(t=hd,hd=null,ie=t):ie=n):ie=qe?kn(t.stateNode.nextSibling):null;return!0}function vr(){ie=qe=null,zt=!1}function qh(){var t=ga;return t!==null&&(un===null?un=t:un.push.apply(un,t),ga=null),t}function Ml(t){ga===null?ga=[t]:ga.push(t)}var Hh=k(null),_r=null,zi=null;function ya(t,n,r){ot(Hh,n._currentValue),n._currentValue=r}function Ui(t){t._currentValue=Hh.current,W(Hh)}function Fh(t,n,r){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===r)break;t=t.return}}function Gh(t,n,r,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;t:for(;d!==null;){var x=d;d=h;for(var I=0;I<n.length;I++)if(x.context===n[I]){d.lanes|=r,x=d.alternate,x!==null&&(x.lanes|=r),Fh(d.return,r,t),l||(v=null);break t}d=x.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=r,d=v.alternate,d!==null&&(d.lanes|=r),Fh(v,r,t),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===t){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function fs(t,n,r,l){t=null;for(var h=n,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var x=h.type;mn(h.pendingProps.value,v.value)||(t!==null?t.push(x):t=[x])}}else if(h===Pt.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(so):t=[so])}h=h.return}t!==null&&Gh(n,t,r,l),n.flags|=262144}function Tu(t){for(t=t.firstContext;t!==null;){if(!mn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function br(t){_r=t,zi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function He(t){return $g(_r,t)}function Au(t,n){return _r===null&&br(t),$g(t,n)}function $g(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},zi===null){if(t===null)throw Error(s(308));zi=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else zi=zi.next=n;return r}var ME=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},OE=a.unstable_scheduleCallback,jE=a.unstable_NormalPriority,Ae={$$typeof:it,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Qh(){return{controller:new ME,data:new Map,refCount:0}}function Ol(t){t.refCount--,t.refCount===0&&OE(jE,function(){t.controller.abort()})}var jl=null,Yh=0,ds=0,ms=null;function kE(t,n){if(jl===null){var r=jl=[];Yh=0,ds=Zf(),ms={status:"pending",value:void 0,then:function(l){r.push(l)}}}return Yh++,n.then(Xg,Xg),n}function Xg(){if(--Yh===0&&jl!==null){ms!==null&&(ms.status="fulfilled");var t=jl;jl=null,ds=0,ms=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function LE(t,n){var r=[],l={status:"pending",value:null,reason:null,then:function(h){r.push(h)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<r.length;h++)(0,r[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<r.length;h++)(0,r[h])(void 0)}),l}var Zg=M.S;M.S=function(t,n){Oy=We(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&kE(t,n),Zg!==null&&Zg(t,n)};var Er=k(null);function Kh(){var t=Er.current;return t!==null?t:ee.pooledCache}function Su(t,n){n===null?ot(Er,Er.current):ot(Er,n.pool)}function Jg(){var t=Kh();return t===null?null:{parent:Ae._currentValue,pool:t}}var gs=Error(s(460)),$h=Error(s(474)),wu=Error(s(542)),Ru={then:function(){}};function Wg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function tp(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(Fn,Fn),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,np(t),t;default:if(typeof n.status=="string")n.then(Fn,Fn);else{if(t=ee,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,np(t),t}throw Tr=n,gs}}function xr(t){try{var n=t._init;return n(t._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(Tr=r,gs):r}}var Tr=null;function ep(){if(Tr===null)throw Error(s(459));var t=Tr;return Tr=null,t}function np(t){if(t===gs||t===wu)throw Error(s(483))}var ps=null,kl=0;function Cu(t){var n=kl;return kl+=1,ps===null&&(ps=[]),tp(ps,t,n)}function Ll(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Nu(t,n){throw n.$$typeof===S?Error(s(525)):(t=Object.prototype.toString.call(n),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function ip(t){function n(z,j){if(t){var B=z.deletions;B===null?(z.deletions=[j],z.flags|=16):B.push(j)}}function r(z,j){if(!t)return null;for(;j!==null;)n(z,j),j=j.sibling;return null}function l(z){for(var j=new Map;z!==null;)z.key!==null?j.set(z.key,z):j.set(z.index,z),z=z.sibling;return j}function h(z,j){return z=ki(z,j),z.index=0,z.sibling=null,z}function d(z,j,B){return z.index=B,t?(B=z.alternate,B!==null?(B=B.index,B<j?(z.flags|=67108866,j):B):(z.flags|=67108866,j)):(z.flags|=1048576,j)}function v(z){return t&&z.alternate===null&&(z.flags|=67108866),z}function x(z,j,B,Z){return j===null||j.tag!==6?(j=Lh(B,z.mode,Z),j.return=z,j):(j=h(j,B),j.return=z,j)}function I(z,j,B,Z){var yt=B.type;return yt===$?X(z,j,B.props.children,Z,B.key):j!==null&&(j.elementType===yt||typeof yt=="object"&&yt!==null&&yt.$$typeof===w&&xr(yt)===j.type)?(j=h(j,B.props),Ll(j,B),j.return=z,j):(j=Eu(B.type,B.key,B.props,null,z.mode,Z),Ll(j,B),j.return=z,j)}function q(z,j,B,Z){return j===null||j.tag!==4||j.stateNode.containerInfo!==B.containerInfo||j.stateNode.implementation!==B.implementation?(j=zh(B,z.mode,Z),j.return=z,j):(j=h(j,B.children||[]),j.return=z,j)}function X(z,j,B,Z,yt){return j===null||j.tag!==7?(j=yr(B,z.mode,Z,yt),j.return=z,j):(j=h(j,B),j.return=z,j)}function J(z,j,B){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return j=Lh(""+j,z.mode,B),j.return=z,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case L:return B=Eu(j.type,j.key,j.props,null,z.mode,B),Ll(B,j),B.return=z,B;case K:return j=zh(j,z.mode,B),j.return=z,j;case w:return j=xr(j),J(z,j,B)}if(et(j)||D(j))return j=yr(j,z.mode,B,null),j.return=z,j;if(typeof j.then=="function")return J(z,Cu(j),B);if(j.$$typeof===it)return J(z,Au(z,j),B);Nu(z,j)}return null}function F(z,j,B,Z){var yt=j!==null?j.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return yt!==null?null:x(z,j,""+B,Z);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case L:return B.key===yt?I(z,j,B,Z):null;case K:return B.key===yt?q(z,j,B,Z):null;case w:return B=xr(B),F(z,j,B,Z)}if(et(B)||D(B))return yt!==null?null:X(z,j,B,Z,null);if(typeof B.then=="function")return F(z,j,Cu(B),Z);if(B.$$typeof===it)return F(z,j,Au(z,B),Z);Nu(z,B)}return null}function Y(z,j,B,Z,yt){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return z=z.get(B)||null,x(j,z,""+Z,yt);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case L:return z=z.get(Z.key===null?B:Z.key)||null,I(j,z,Z,yt);case K:return z=z.get(Z.key===null?B:Z.key)||null,q(j,z,Z,yt);case w:return Z=xr(Z),Y(z,j,B,Z,yt)}if(et(Z)||D(Z))return z=z.get(B)||null,X(j,z,Z,yt,null);if(typeof Z.then=="function")return Y(z,j,B,Cu(Z),yt);if(Z.$$typeof===it)return Y(z,j,B,Au(j,Z),yt);Nu(j,Z)}return null}function dt(z,j,B,Z){for(var yt=null,Ht=null,pt=j,Dt=j=0,jt=null;pt!==null&&Dt<B.length;Dt++){pt.index>Dt?(jt=pt,pt=null):jt=pt.sibling;var Ft=F(z,pt,B[Dt],Z);if(Ft===null){pt===null&&(pt=jt);break}t&&pt&&Ft.alternate===null&&n(z,pt),j=d(Ft,j,Dt),Ht===null?yt=Ft:Ht.sibling=Ft,Ht=Ft,pt=jt}if(Dt===B.length)return r(z,pt),zt&&Li(z,Dt),yt;if(pt===null){for(;Dt<B.length;Dt++)pt=J(z,B[Dt],Z),pt!==null&&(j=d(pt,j,Dt),Ht===null?yt=pt:Ht.sibling=pt,Ht=pt);return zt&&Li(z,Dt),yt}for(pt=l(pt);Dt<B.length;Dt++)jt=Y(pt,z,Dt,B[Dt],Z),jt!==null&&(t&&jt.alternate!==null&&pt.delete(jt.key===null?Dt:jt.key),j=d(jt,j,Dt),Ht===null?yt=jt:Ht.sibling=jt,Ht=jt);return t&&pt.forEach(function(ja){return n(z,ja)}),zt&&Li(z,Dt),yt}function Et(z,j,B,Z){if(B==null)throw Error(s(151));for(var yt=null,Ht=null,pt=j,Dt=j=0,jt=null,Ft=B.next();pt!==null&&!Ft.done;Dt++,Ft=B.next()){pt.index>Dt?(jt=pt,pt=null):jt=pt.sibling;var ja=F(z,pt,Ft.value,Z);if(ja===null){pt===null&&(pt=jt);break}t&&pt&&ja.alternate===null&&n(z,pt),j=d(ja,j,Dt),Ht===null?yt=ja:Ht.sibling=ja,Ht=ja,pt=jt}if(Ft.done)return r(z,pt),zt&&Li(z,Dt),yt;if(pt===null){for(;!Ft.done;Dt++,Ft=B.next())Ft=J(z,Ft.value,Z),Ft!==null&&(j=d(Ft,j,Dt),Ht===null?yt=Ft:Ht.sibling=Ft,Ht=Ft);return zt&&Li(z,Dt),yt}for(pt=l(pt);!Ft.done;Dt++,Ft=B.next())Ft=Y(pt,z,Dt,Ft.value,Z),Ft!==null&&(t&&Ft.alternate!==null&&pt.delete(Ft.key===null?Dt:Ft.key),j=d(Ft,j,Dt),Ht===null?yt=Ft:Ht.sibling=Ft,Ht=Ft);return t&&pt.forEach(function(Kx){return n(z,Kx)}),zt&&Li(z,Dt),yt}function te(z,j,B,Z){if(typeof B=="object"&&B!==null&&B.type===$&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case L:t:{for(var yt=B.key;j!==null;){if(j.key===yt){if(yt=B.type,yt===$){if(j.tag===7){r(z,j.sibling),Z=h(j,B.props.children),Z.return=z,z=Z;break t}}else if(j.elementType===yt||typeof yt=="object"&&yt!==null&&yt.$$typeof===w&&xr(yt)===j.type){r(z,j.sibling),Z=h(j,B.props),Ll(Z,B),Z.return=z,z=Z;break t}r(z,j);break}else n(z,j);j=j.sibling}B.type===$?(Z=yr(B.props.children,z.mode,Z,B.key),Z.return=z,z=Z):(Z=Eu(B.type,B.key,B.props,null,z.mode,Z),Ll(Z,B),Z.return=z,z=Z)}return v(z);case K:t:{for(yt=B.key;j!==null;){if(j.key===yt)if(j.tag===4&&j.stateNode.containerInfo===B.containerInfo&&j.stateNode.implementation===B.implementation){r(z,j.sibling),Z=h(j,B.children||[]),Z.return=z,z=Z;break t}else{r(z,j);break}else n(z,j);j=j.sibling}Z=zh(B,z.mode,Z),Z.return=z,z=Z}return v(z);case w:return B=xr(B),te(z,j,B,Z)}if(et(B))return dt(z,j,B,Z);if(D(B)){if(yt=D(B),typeof yt!="function")throw Error(s(150));return B=yt.call(B),Et(z,j,B,Z)}if(typeof B.then=="function")return te(z,j,Cu(B),Z);if(B.$$typeof===it)return te(z,j,Au(z,B),Z);Nu(z,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,j!==null&&j.tag===6?(r(z,j.sibling),Z=h(j,B),Z.return=z,z=Z):(r(z,j),Z=Lh(B,z.mode,Z),Z.return=z,z=Z),v(z)):r(z,j)}return function(z,j,B,Z){try{kl=0;var yt=te(z,j,B,Z);return ps=null,yt}catch(pt){if(pt===gs||pt===wu)throw pt;var Ht=gn(29,pt,null,z.mode);return Ht.lanes=Z,Ht.return=z,Ht}finally{}}}var Ar=ip(!0),ap=ip(!1),va=!1;function Xh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Zh(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function _a(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ba(t,n,r){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Qt&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=bu(t),Bg(t,null,r),n}return _u(t,l,n,r),bu(t)}function zl(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,hl(t,r)}}function Jh(t,n){var r=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var h=null,d=null;if(r=r.firstBaseUpdate,r!==null){do{var v={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,r=r.next}while(r!==null);d===null?h=d=n:d=d.next=n}else h=d=n;r={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var Wh=!1;function Ul(){if(Wh){var t=ms;if(t!==null)throw t}}function Pl(t,n,r,l){Wh=!1;var h=t.updateQueue;va=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,x=h.shared.pending;if(x!==null){h.shared.pending=null;var I=x,q=I.next;I.next=null,v===null?d=q:v.next=q,v=I;var X=t.alternate;X!==null&&(X=X.updateQueue,x=X.lastBaseUpdate,x!==v&&(x===null?X.firstBaseUpdate=q:x.next=q,X.lastBaseUpdate=I))}if(d!==null){var J=h.baseState;v=0,X=q=I=null,x=d;do{var F=x.lane&-536870913,Y=F!==x.lane;if(Y?(Ot&F)===F:(l&F)===F){F!==0&&F===ds&&(Wh=!0),X!==null&&(X=X.next={lane:0,tag:x.tag,payload:x.payload,callback:null,next:null});t:{var dt=t,Et=x;F=n;var te=r;switch(Et.tag){case 1:if(dt=Et.payload,typeof dt=="function"){J=dt.call(te,J,F);break t}J=dt;break t;case 3:dt.flags=dt.flags&-65537|128;case 0:if(dt=Et.payload,F=typeof dt=="function"?dt.call(te,J,F):dt,F==null)break t;J=T({},J,F);break t;case 2:va=!0}}F=x.callback,F!==null&&(t.flags|=64,Y&&(t.flags|=8192),Y=h.callbacks,Y===null?h.callbacks=[F]:Y.push(F))}else Y={lane:F,tag:x.tag,payload:x.payload,callback:x.callback,next:null},X===null?(q=X=Y,I=J):X=X.next=Y,v|=F;if(x=x.next,x===null){if(x=h.shared.pending,x===null)break;Y=x,x=Y.next,Y.next=null,h.lastBaseUpdate=Y,h.shared.pending=null}}while(!0);X===null&&(I=J),h.baseState=I,h.firstBaseUpdate=q,h.lastBaseUpdate=X,d===null&&(h.shared.lanes=0),Sa|=v,t.lanes=v,t.memoizedState=J}}function rp(t,n){if(typeof t!="function")throw Error(s(191,t));t.call(n)}function sp(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)rp(r[t],n)}var ys=k(null),Du=k(0);function lp(t,n){t=Ki,ot(Du,t),ot(ys,n),Ki=t|n.baseLanes}function tf(){ot(Du,Ki),ot(ys,ys.current)}function ef(){Ki=Du.current,W(ys),W(Du)}var pn=k(null),jn=null;function Ea(t){var n=t.alternate;ot(pe,pe.current&1),ot(pn,t),jn===null&&(n===null||ys.current!==null||n.memoizedState!==null)&&(jn=t)}function nf(t){ot(pe,pe.current),ot(pn,t),jn===null&&(jn=t)}function op(t){t.tag===22?(ot(pe,pe.current),ot(pn,t),jn===null&&(jn=t)):xa()}function xa(){ot(pe,pe.current),ot(pn,pn.current)}function yn(t){W(pn),jn===t&&(jn=null),W(pe)}var pe=k(0);function Iu(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||ud(r)||cd(r)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Pi=0,Ct=null,Jt=null,Se=null,Vu=!1,vs=!1,Sr=!1,Mu=0,Bl=0,_s=null,zE=0;function he(){throw Error(s(321))}function af(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!mn(t[r],n[r]))return!1;return!0}function rf(t,n,r,l,h,d){return Pi=d,Ct=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,M.H=t===null||t.memoizedState===null?Gp:bf,Sr=!1,d=r(l,h),Sr=!1,vs&&(d=cp(n,r,l,h)),up(t),d}function up(t){M.H=Fl;var n=Jt!==null&&Jt.next!==null;if(Pi=0,Se=Jt=Ct=null,Vu=!1,Bl=0,_s=null,n)throw Error(s(300));t===null||we||(t=t.dependencies,t!==null&&Tu(t)&&(we=!0))}function cp(t,n,r,l){Ct=t;var h=0;do{if(vs&&(_s=null),Bl=0,vs=!1,25<=h)throw Error(s(301));if(h+=1,Se=Jt=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}M.H=Qp,d=n(r,l)}while(vs);return d}function UE(){var t=M.H,n=t.useState()[0];return n=typeof n.then=="function"?ql(n):n,t=t.useState()[0],(Jt!==null?Jt.memoizedState:null)!==t&&(Ct.flags|=1024),n}function sf(){var t=Mu!==0;return Mu=0,t}function lf(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function of(t){if(Vu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Vu=!1}Pi=0,Se=Jt=Ct=null,vs=!1,Bl=Mu=0,_s=null}function en(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Se===null?Ct.memoizedState=Se=t:Se=Se.next=t,Se}function ye(){if(Jt===null){var t=Ct.alternate;t=t!==null?t.memoizedState:null}else t=Jt.next;var n=Se===null?Ct.memoizedState:Se.next;if(n!==null)Se=n,Jt=t;else{if(t===null)throw Ct.alternate===null?Error(s(467)):Error(s(310));Jt=t,t={memoizedState:Jt.memoizedState,baseState:Jt.baseState,baseQueue:Jt.baseQueue,queue:Jt.queue,next:null},Se===null?Ct.memoizedState=Se=t:Se=Se.next=t}return Se}function Ou(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ql(t){var n=Bl;return Bl+=1,_s===null&&(_s=[]),t=tp(_s,t,n),n=Ct,(Se===null?n.memoizedState:Se.next)===null&&(n=n.alternate,M.H=n===null||n.memoizedState===null?Gp:bf),t}function ju(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return ql(t);if(t.$$typeof===it)return He(t)}throw Error(s(438,String(t)))}function uf(t){var n=null,r=Ct.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var l=Ct.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=Ou(),Ct.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),l=0;l<t;l++)r[l]=O;return n.index++,r}function Bi(t,n){return typeof n=="function"?n(t):n}function ku(t){var n=ye();return cf(n,Jt,t)}function cf(t,n,r){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=r;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}n.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{n=h.next;var x=v=null,I=null,q=n,X=!1;do{var J=q.lane&-536870913;if(J!==q.lane?(Ot&J)===J:(Pi&J)===J){var F=q.revertLane;if(F===0)I!==null&&(I=I.next={lane:0,revertLane:0,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),J===ds&&(X=!0);else if((Pi&F)===F){q=q.next,F===ds&&(X=!0);continue}else J={lane:0,revertLane:q.revertLane,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},I===null?(x=I=J,v=d):I=I.next=J,Ct.lanes|=F,Sa|=F;J=q.action,Sr&&r(d,J),d=q.hasEagerState?q.eagerState:r(d,J)}else F={lane:J,revertLane:q.revertLane,gesture:q.gesture,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},I===null?(x=I=F,v=d):I=I.next=F,Ct.lanes|=J,Sa|=J;q=q.next}while(q!==null&&q!==n);if(I===null?v=d:I.next=x,!mn(d,t.memoizedState)&&(we=!0,X&&(r=ms,r!==null)))throw r;t.memoizedState=d,t.baseState=v,t.baseQueue=I,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function hf(t){var n=ye(),r=n.queue;if(r===null)throw Error(s(311));r.lastRenderedReducer=t;var l=r.dispatch,h=r.pending,d=n.memoizedState;if(h!==null){r.pending=null;var v=h=h.next;do d=t(d,v.action),v=v.next;while(v!==h);mn(d,n.memoizedState)||(we=!0),n.memoizedState=d,n.baseQueue===null&&(n.baseState=d),r.lastRenderedState=d}return[d,l]}function hp(t,n,r){var l=Ct,h=ye(),d=zt;if(d){if(r===void 0)throw Error(s(407));r=r()}else r=n();var v=!mn((Jt||h).memoizedState,r);if(v&&(h.memoizedState=r,we=!0),h=h.queue,mf(mp.bind(null,l,h,t),[t]),h.getSnapshot!==n||v||Se!==null&&Se.memoizedState.tag&1){if(l.flags|=2048,bs(9,{destroy:void 0},dp.bind(null,l,h,r,n),null),ee===null)throw Error(s(349));d||(Pi&127)!==0||fp(l,n,r)}return r}function fp(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=Ct.updateQueue,n===null?(n=Ou(),Ct.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function dp(t,n,r,l){n.value=r,n.getSnapshot=l,gp(n)&&pp(t)}function mp(t,n,r){return r(function(){gp(n)&&pp(t)})}function gp(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!mn(t,r)}catch{return!0}}function pp(t){var n=pr(t,2);n!==null&&cn(n,t,2)}function ff(t){var n=en();if(typeof t=="function"){var r=t;if(t=r(),Sr){Sn(!0);try{r()}finally{Sn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bi,lastRenderedState:t},n}function yp(t,n,r,l){return t.baseState=r,cf(t,Jt,typeof l=="function"?l:Bi)}function PE(t,n,r,l,h){if(Uu(t))throw Error(s(485));if(t=n.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};M.T!==null?r(!0):d.isTransition=!1,l(d),r=n.pending,r===null?(d.next=n.pending=d,vp(n,d)):(d.next=r.next,n.pending=r.next=d)}}function vp(t,n){var r=n.action,l=n.payload,h=t.state;if(n.isTransition){var d=M.T,v={};M.T=v;try{var x=r(h,l),I=M.S;I!==null&&I(v,x),_p(t,n,x)}catch(q){df(t,n,q)}finally{d!==null&&v.types!==null&&(d.types=v.types),M.T=d}}else try{d=r(h,l),_p(t,n,d)}catch(q){df(t,n,q)}}function _p(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){bp(t,n,l)},function(l){return df(t,n,l)}):bp(t,n,r)}function bp(t,n,r){n.status="fulfilled",n.value=r,Ep(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,vp(t,r)))}function df(t,n,r){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=r,Ep(n),n=n.next;while(n!==l)}t.action=null}function Ep(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function xp(t,n){return n}function Tp(t,n){if(zt){var r=ee.formState;if(r!==null){t:{var l=Ct;if(zt){if(ie){e:{for(var h=ie,d=On;h.nodeType!==8;){if(!d){h=null;break e}if(h=kn(h.nextSibling),h===null){h=null;break e}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){ie=kn(h.nextSibling),l=h.data==="F!";break t}}pa(l)}l=!1}l&&(n=r[0])}}return r=en(),r.memoizedState=r.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xp,lastRenderedState:n},r.queue=l,r=qp.bind(null,Ct,l),l.dispatch=r,l=ff(!1),d=_f.bind(null,Ct,!1,l.queue),l=en(),h={state:n,dispatch:null,action:t,pending:null},l.queue=h,r=PE.bind(null,Ct,h,d,r),h.dispatch=r,l.memoizedState=t,[n,r,!1]}function Ap(t){var n=ye();return Sp(n,Jt,t)}function Sp(t,n,r){if(n=cf(t,n,xp)[0],t=ku(Bi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=ql(n)}catch(v){throw v===gs?wu:v}else l=n;n=ye();var h=n.queue,d=h.dispatch;return r!==n.memoizedState&&(Ct.flags|=2048,bs(9,{destroy:void 0},BE.bind(null,h,r),null)),[l,d,t]}function BE(t,n){t.action=n}function wp(t){var n=ye(),r=Jt;if(r!==null)return Sp(n,r,t);ye(),n=n.memoizedState,r=ye();var l=r.queue.dispatch;return r.memoizedState=t,[n,l,!1]}function bs(t,n,r,l){return t={tag:t,create:r,deps:l,inst:n,next:null},n=Ct.updateQueue,n===null&&(n=Ou(),Ct.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(l=r.next,r.next=t,t.next=l,n.lastEffect=t),t}function Rp(){return ye().memoizedState}function Lu(t,n,r,l){var h=en();Ct.flags|=t,h.memoizedState=bs(1|n,{destroy:void 0},r,l===void 0?null:l)}function zu(t,n,r,l){var h=ye();l=l===void 0?null:l;var d=h.memoizedState.inst;Jt!==null&&l!==null&&af(l,Jt.memoizedState.deps)?h.memoizedState=bs(n,d,r,l):(Ct.flags|=t,h.memoizedState=bs(1|n,d,r,l))}function Cp(t,n){Lu(8390656,8,t,n)}function mf(t,n){zu(2048,8,t,n)}function qE(t){Ct.flags|=4;var n=Ct.updateQueue;if(n===null)n=Ou(),Ct.updateQueue=n,n.events=[t];else{var r=n.events;r===null?n.events=[t]:r.push(t)}}function Np(t){var n=ye().memoizedState;return qE({ref:n,nextImpl:t}),function(){if((Qt&2)!==0)throw Error(s(440));return n.impl.apply(void 0,arguments)}}function Dp(t,n){return zu(4,2,t,n)}function Ip(t,n){return zu(4,4,t,n)}function Vp(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Mp(t,n,r){r=r!=null?r.concat([t]):null,zu(4,4,Vp.bind(null,n,t),r)}function gf(){}function Op(t,n){var r=ye();n=n===void 0?null:n;var l=r.memoizedState;return n!==null&&af(n,l[1])?l[0]:(r.memoizedState=[t,n],t)}function jp(t,n){var r=ye();n=n===void 0?null:n;var l=r.memoizedState;if(n!==null&&af(n,l[1]))return l[0];if(l=t(),Sr){Sn(!0);try{t()}finally{Sn(!1)}}return r.memoizedState=[l,n],l}function pf(t,n,r){return r===void 0||(Pi&1073741824)!==0&&(Ot&261930)===0?t.memoizedState=n:(t.memoizedState=r,t=ky(),Ct.lanes|=t,Sa|=t,r)}function kp(t,n,r,l){return mn(r,n)?r:ys.current!==null?(t=pf(t,r,l),mn(t,n)||(we=!0),t):(Pi&42)===0||(Pi&1073741824)!==0&&(Ot&261930)===0?(we=!0,t.memoizedState=r):(t=ky(),Ct.lanes|=t,Sa|=t,n)}function Lp(t,n,r,l,h){var d=G.p;G.p=d!==0&&8>d?d:8;var v=M.T,x={};M.T=x,_f(t,!1,n,r);try{var I=h(),q=M.S;if(q!==null&&q(x,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var X=LE(I,l);Hl(t,n,X,bn(t))}else Hl(t,n,l,bn(t))}catch(J){Hl(t,n,{then:function(){},status:"rejected",reason:J},bn())}finally{G.p=d,v!==null&&x.types!==null&&(v.types=x.types),M.T=v}}function HE(){}function yf(t,n,r,l){if(t.tag!==5)throw Error(s(476));var h=zp(t).queue;Lp(t,h,n,at,r===null?HE:function(){return Up(t),r(l)})}function zp(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:at,baseState:at,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bi,lastRenderedState:at},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bi,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Up(t){var n=zp(t);n.next===null&&(n=t.alternate.memoizedState),Hl(t,n.next.queue,{},bn())}function vf(){return He(so)}function Pp(){return ye().memoizedState}function Bp(){return ye().memoizedState}function FE(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=bn();t=_a(r);var l=ba(n,t,r);l!==null&&(cn(l,n,r),zl(l,n,r)),n={cache:Qh()},t.payload=n;return}n=n.return}}function GE(t,n,r){var l=bn();r={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Uu(t)?Hp(n,r):(r=jh(t,n,r,l),r!==null&&(cn(r,t,l),Fp(r,n,l)))}function qp(t,n,r){var l=bn();Hl(t,n,r,l)}function Hl(t,n,r,l){var h={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(Uu(t))Hp(n,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=n.lastRenderedReducer,d!==null))try{var v=n.lastRenderedState,x=d(v,r);if(h.hasEagerState=!0,h.eagerState=x,mn(x,v))return _u(t,n,h,0),ee===null&&vu(),!1}catch{}finally{}if(r=jh(t,n,h,l),r!==null)return cn(r,t,l),Fp(r,n,l),!0}return!1}function _f(t,n,r,l){if(l={lane:2,revertLane:Zf(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Uu(t)){if(n)throw Error(s(479))}else n=jh(t,r,l,2),n!==null&&cn(n,t,2)}function Uu(t){var n=t.alternate;return t===Ct||n!==null&&n===Ct}function Hp(t,n){vs=Vu=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function Fp(t,n,r){if((r&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,hl(t,r)}}var Fl={readContext:He,use:ju,useCallback:he,useContext:he,useEffect:he,useImperativeHandle:he,useLayoutEffect:he,useInsertionEffect:he,useMemo:he,useReducer:he,useRef:he,useState:he,useDebugValue:he,useDeferredValue:he,useTransition:he,useSyncExternalStore:he,useId:he,useHostTransitionStatus:he,useFormState:he,useActionState:he,useOptimistic:he,useMemoCache:he,useCacheRefresh:he};Fl.useEffectEvent=he;var Gp={readContext:He,use:ju,useCallback:function(t,n){return en().memoizedState=[t,n===void 0?null:n],t},useContext:He,useEffect:Cp,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,Lu(4194308,4,Vp.bind(null,n,t),r)},useLayoutEffect:function(t,n){return Lu(4194308,4,t,n)},useInsertionEffect:function(t,n){Lu(4,2,t,n)},useMemo:function(t,n){var r=en();n=n===void 0?null:n;var l=t();if(Sr){Sn(!0);try{t()}finally{Sn(!1)}}return r.memoizedState=[l,n],l},useReducer:function(t,n,r){var l=en();if(r!==void 0){var h=r(n);if(Sr){Sn(!0);try{r(n)}finally{Sn(!1)}}}else h=n;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=GE.bind(null,Ct,t),[l.memoizedState,t]},useRef:function(t){var n=en();return t={current:t},n.memoizedState=t},useState:function(t){t=ff(t);var n=t.queue,r=qp.bind(null,Ct,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:gf,useDeferredValue:function(t,n){var r=en();return pf(r,t,n)},useTransition:function(){var t=ff(!1);return t=Lp.bind(null,Ct,t.queue,!0,!1),en().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var l=Ct,h=en();if(zt){if(r===void 0)throw Error(s(407));r=r()}else{if(r=n(),ee===null)throw Error(s(349));(Ot&127)!==0||fp(l,n,r)}h.memoizedState=r;var d={value:r,getSnapshot:n};return h.queue=d,Cp(mp.bind(null,l,d,t),[t]),l.flags|=2048,bs(9,{destroy:void 0},dp.bind(null,l,d,r,n),null),r},useId:function(){var t=en(),n=ee.identifierPrefix;if(zt){var r=_i,l=vi;r=(l&~(1<<32-me(l)-1)).toString(32)+r,n="_"+n+"R_"+r,r=Mu++,0<r&&(n+="H"+r.toString(32)),n+="_"}else r=zE++,n="_"+n+"r_"+r.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:vf,useFormState:Tp,useActionState:Tp,useOptimistic:function(t){var n=en();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=_f.bind(null,Ct,!0,r),r.dispatch=n,[t,n]},useMemoCache:uf,useCacheRefresh:function(){return en().memoizedState=FE.bind(null,Ct)},useEffectEvent:function(t){var n=en(),r={impl:t};return n.memoizedState=r,function(){if((Qt&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}},bf={readContext:He,use:ju,useCallback:Op,useContext:He,useEffect:mf,useImperativeHandle:Mp,useInsertionEffect:Dp,useLayoutEffect:Ip,useMemo:jp,useReducer:ku,useRef:Rp,useState:function(){return ku(Bi)},useDebugValue:gf,useDeferredValue:function(t,n){var r=ye();return kp(r,Jt.memoizedState,t,n)},useTransition:function(){var t=ku(Bi)[0],n=ye().memoizedState;return[typeof t=="boolean"?t:ql(t),n]},useSyncExternalStore:hp,useId:Pp,useHostTransitionStatus:vf,useFormState:Ap,useActionState:Ap,useOptimistic:function(t,n){var r=ye();return yp(r,Jt,t,n)},useMemoCache:uf,useCacheRefresh:Bp};bf.useEffectEvent=Np;var Qp={readContext:He,use:ju,useCallback:Op,useContext:He,useEffect:mf,useImperativeHandle:Mp,useInsertionEffect:Dp,useLayoutEffect:Ip,useMemo:jp,useReducer:hf,useRef:Rp,useState:function(){return hf(Bi)},useDebugValue:gf,useDeferredValue:function(t,n){var r=ye();return Jt===null?pf(r,t,n):kp(r,Jt.memoizedState,t,n)},useTransition:function(){var t=hf(Bi)[0],n=ye().memoizedState;return[typeof t=="boolean"?t:ql(t),n]},useSyncExternalStore:hp,useId:Pp,useHostTransitionStatus:vf,useFormState:wp,useActionState:wp,useOptimistic:function(t,n){var r=ye();return Jt!==null?yp(r,Jt,t,n):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:uf,useCacheRefresh:Bp};Qp.useEffectEvent=Np;function Ef(t,n,r,l){n=t.memoizedState,r=r(l,n),r=r==null?n:T({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var xf={enqueueSetState:function(t,n,r){t=t._reactInternals;var l=bn(),h=_a(l);h.payload=n,r!=null&&(h.callback=r),n=ba(t,h,l),n!==null&&(cn(n,t,l),zl(n,t,l))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var l=bn(),h=_a(l);h.tag=1,h.payload=n,r!=null&&(h.callback=r),n=ba(t,h,l),n!==null&&(cn(n,t,l),zl(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=bn(),l=_a(r);l.tag=2,n!=null&&(l.callback=n),n=ba(t,l,r),n!==null&&(cn(n,t,r),zl(n,t,r))}};function Yp(t,n,r,l,h,d,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,v):n.prototype&&n.prototype.isPureReactComponent?!Dl(r,l)||!Dl(h,d):!0}function Kp(t,n,r,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,l),n.state!==t&&xf.enqueueReplaceState(n,n.state,null)}function wr(t,n){var r=n;if("ref"in n){r={};for(var l in n)l!=="ref"&&(r[l]=n[l])}if(t=t.defaultProps){r===n&&(r=T({},r));for(var h in t)r[h]===void 0&&(r[h]=t[h])}return r}function $p(t){yu(t)}function Xp(t){console.error(t)}function Zp(t){yu(t)}function Pu(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Jp(t,n,r){try{var l=t.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Tf(t,n,r){return r=_a(r),r.tag=3,r.payload={element:null},r.callback=function(){Pu(t,n)},r}function Wp(t){return t=_a(t),t.tag=3,t}function ty(t,n,r,l){var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){Jp(n,r,l)}}var v=r.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){Jp(n,r,l),typeof h!="function"&&(wa===null?wa=new Set([this]):wa.add(this));var x=l.stack;this.componentDidCatch(l.value,{componentStack:x!==null?x:""})})}function QE(t,n,r,l,h){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=r.alternate,n!==null&&fs(n,r,h,!0),r=pn.current,r!==null){switch(r.tag){case 31:case 13:return jn===null?Ju():r.alternate===null&&fe===0&&(fe=3),r.flags&=-257,r.flags|=65536,r.lanes=h,l===Ru?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([l]):n.add(l),Kf(t,l,h)),!1;case 22:return r.flags|=65536,l===Ru?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([l]):r.add(l)),Kf(t,l,h)),!1}throw Error(s(435,r.tag))}return Kf(t,l,h),Ju(),!1}if(zt)return n=pn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==Bh&&(t=Error(s(422),{cause:l}),Ml(In(t,r)))):(l!==Bh&&(n=Error(s(423),{cause:l}),Ml(In(n,r))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=In(l,r),h=Tf(t.stateNode,l,h),Jh(t,h),fe!==4&&(fe=2)),!1;var d=Error(s(520),{cause:l});if(d=In(d,r),Jl===null?Jl=[d]:Jl.push(d),fe!==4&&(fe=2),n===null)return!0;l=In(l,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=h&-h,r.lanes|=t,t=Tf(r.stateNode,l,t),Jh(r,t),!1;case 1:if(n=r.type,d=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(wa===null||!wa.has(d))))return r.flags|=65536,h&=-h,r.lanes|=h,h=Wp(h),ty(h,t,r,l),Jh(r,h),!1}r=r.return}while(r!==null);return!1}var Af=Error(s(461)),we=!1;function Fe(t,n,r,l){n.child=t===null?ap(n,null,r,l):Ar(n,t.child,r,l)}function ey(t,n,r,l,h){r=r.render;var d=n.ref;if("ref"in l){var v={};for(var x in l)x!=="ref"&&(v[x]=l[x])}else v=l;return br(n),l=rf(t,n,r,v,d,h),x=sf(),t!==null&&!we?(lf(t,n,h),qi(t,n,h)):(zt&&x&&Uh(n),n.flags|=1,Fe(t,n,l,h),n.child)}function ny(t,n,r,l,h){if(t===null){var d=r.type;return typeof d=="function"&&!kh(d)&&d.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=d,iy(t,n,d,l,h)):(t=Eu(r.type,null,l,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(d=t.child,!Vf(t,h)){var v=d.memoizedProps;if(r=r.compare,r=r!==null?r:Dl,r(v,l)&&t.ref===n.ref)return qi(t,n,h)}return n.flags|=1,t=ki(d,l),t.ref=n.ref,t.return=n,n.child=t}function iy(t,n,r,l,h){if(t!==null){var d=t.memoizedProps;if(Dl(d,l)&&t.ref===n.ref)if(we=!1,n.pendingProps=l=d,Vf(t,h))(t.flags&131072)!==0&&(we=!0);else return n.lanes=t.lanes,qi(t,n,h)}return Sf(t,n,r,l,h)}function ay(t,n,r,l){var h=l.children,d=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(d=d!==null?d.baseLanes|r:r,t!==null){for(l=n.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~d}else l=0,n.child=null;return ry(t,n,d,r,l)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Su(n,d!==null?d.cachePool:null),d!==null?lp(n,d):tf(),op(n);else return l=n.lanes=536870912,ry(t,n,d!==null?d.baseLanes|r:r,r,l)}else d!==null?(Su(n,d.cachePool),lp(n,d),xa(),n.memoizedState=null):(t!==null&&Su(n,null),tf(),xa());return Fe(t,n,h,r),n.child}function Gl(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function ry(t,n,r,l,h){var d=Kh();return d=d===null?null:{parent:Ae._currentValue,pool:d},n.memoizedState={baseLanes:r,cachePool:d},t!==null&&Su(n,null),tf(),op(n),t!==null&&fs(t,n,l,!0),n.childLanes=h,null}function Bu(t,n){return n=Hu({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function sy(t,n,r){return Ar(n,t.child,null,r),t=Bu(n,n.pendingProps),t.flags|=2,yn(n),n.memoizedState=null,t}function YE(t,n,r){var l=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(zt){if(l.mode==="hidden")return t=Bu(n,l),n.lanes=536870912,Gl(null,t);if(nf(n),(t=ie)?(t=v0(t,On),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:ma!==null?{id:vi,overflow:_i}:null,retryLane:536870912,hydrationErrors:null},r=Hg(t),r.return=n,n.child=r,qe=n,ie=null)):t=null,t===null)throw pa(n);return n.lanes=536870912,null}return Bu(n,l)}var d=t.memoizedState;if(d!==null){var v=d.dehydrated;if(nf(n),h)if(n.flags&256)n.flags&=-257,n=sy(t,n,r);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(s(558));else if(we||fs(t,n,r,!1),h=(r&t.childLanes)!==0,we||h){if(l=ee,l!==null&&(v=fl(l,r),v!==0&&v!==d.retryLane))throw d.retryLane=v,pr(t,v),cn(l,t,v),Af;Ju(),n=sy(t,n,r)}else t=d.treeContext,ie=kn(v.nextSibling),qe=n,zt=!0,ga=null,On=!1,t!==null&&Qg(n,t),n=Bu(n,l),n.flags|=4096;return n}return t=ki(t.child,{mode:l.mode,children:l.children}),t.ref=n.ref,n.child=t,t.return=n,t}function qu(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(s(284));(t===null||t.ref!==r)&&(n.flags|=4194816)}}function Sf(t,n,r,l,h){return br(n),r=rf(t,n,r,l,void 0,h),l=sf(),t!==null&&!we?(lf(t,n,h),qi(t,n,h)):(zt&&l&&Uh(n),n.flags|=1,Fe(t,n,r,h),n.child)}function ly(t,n,r,l,h,d){return br(n),n.updateQueue=null,r=cp(n,l,r,h),up(t),l=sf(),t!==null&&!we?(lf(t,n,d),qi(t,n,d)):(zt&&l&&Uh(n),n.flags|=1,Fe(t,n,r,d),n.child)}function oy(t,n,r,l,h){if(br(n),n.stateNode===null){var d=os,v=r.contextType;typeof v=="object"&&v!==null&&(d=He(v)),d=new r(l,d),n.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=xf,n.stateNode=d,d._reactInternals=n,d=n.stateNode,d.props=l,d.state=n.memoizedState,d.refs={},Xh(n),v=r.contextType,d.context=typeof v=="object"&&v!==null?He(v):os,d.state=n.memoizedState,v=r.getDerivedStateFromProps,typeof v=="function"&&(Ef(n,r,v,l),d.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&xf.enqueueReplaceState(d,d.state,null),Pl(n,l,d,h),Ul(),d.state=n.memoizedState),typeof d.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){d=n.stateNode;var x=n.memoizedProps,I=wr(r,x);d.props=I;var q=d.context,X=r.contextType;v=os,typeof X=="object"&&X!==null&&(v=He(X));var J=r.getDerivedStateFromProps;X=typeof J=="function"||typeof d.getSnapshotBeforeUpdate=="function",x=n.pendingProps!==x,X||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(x||q!==v)&&Kp(n,d,l,v),va=!1;var F=n.memoizedState;d.state=F,Pl(n,l,d,h),Ul(),q=n.memoizedState,x||F!==q||va?(typeof J=="function"&&(Ef(n,r,J,l),q=n.memoizedState),(I=va||Yp(n,r,I,l,F,q,v))?(X||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(n.flags|=4194308)):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=q),d.props=l,d.state=q,d.context=v,l=I):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{d=n.stateNode,Zh(t,n),v=n.memoizedProps,X=wr(r,v),d.props=X,J=n.pendingProps,F=d.context,q=r.contextType,I=os,typeof q=="object"&&q!==null&&(I=He(q)),x=r.getDerivedStateFromProps,(q=typeof x=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==J||F!==I)&&Kp(n,d,l,I),va=!1,F=n.memoizedState,d.state=F,Pl(n,l,d,h),Ul();var Y=n.memoizedState;v!==J||F!==Y||va||t!==null&&t.dependencies!==null&&Tu(t.dependencies)?(typeof x=="function"&&(Ef(n,r,x,l),Y=n.memoizedState),(X=va||Yp(n,r,X,l,F,Y,I)||t!==null&&t.dependencies!==null&&Tu(t.dependencies))?(q||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,Y,I),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,Y,I)),typeof d.componentDidUpdate=="function"&&(n.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&F===t.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&F===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=Y),d.props=l,d.state=Y,d.context=I,l=X):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&F===t.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&F===t.memoizedState||(n.flags|=1024),l=!1)}return d=l,qu(t,n),l=(n.flags&128)!==0,d||l?(d=n.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:d.render(),n.flags|=1,t!==null&&l?(n.child=Ar(n,t.child,null,h),n.child=Ar(n,null,r,h)):Fe(t,n,r,h),n.memoizedState=d.state,t=n.child):t=qi(t,n,h),t}function uy(t,n,r,l){return vr(),n.flags|=256,Fe(t,n,r,l),n.child}var wf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Rf(t){return{baseLanes:t,cachePool:Jg()}}function Cf(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=_n),t}function cy(t,n,r){var l=n.pendingProps,h=!1,d=(n.flags&128)!==0,v;if((v=d)||(v=t!==null&&t.memoizedState===null?!1:(pe.current&2)!==0),v&&(h=!0,n.flags&=-129),v=(n.flags&32)!==0,n.flags&=-33,t===null){if(zt){if(h?Ea(n):xa(),(t=ie)?(t=v0(t,On),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:ma!==null?{id:vi,overflow:_i}:null,retryLane:536870912,hydrationErrors:null},r=Hg(t),r.return=n,n.child=r,qe=n,ie=null)):t=null,t===null)throw pa(n);return cd(t)?n.lanes=32:n.lanes=536870912,null}var x=l.children;return l=l.fallback,h?(xa(),h=n.mode,x=Hu({mode:"hidden",children:x},h),l=yr(l,h,r,null),x.return=n,l.return=n,x.sibling=l,n.child=x,l=n.child,l.memoizedState=Rf(r),l.childLanes=Cf(t,v,r),n.memoizedState=wf,Gl(null,l)):(Ea(n),Nf(n,x))}var I=t.memoizedState;if(I!==null&&(x=I.dehydrated,x!==null)){if(d)n.flags&256?(Ea(n),n.flags&=-257,n=Df(t,n,r)):n.memoizedState!==null?(xa(),n.child=t.child,n.flags|=128,n=null):(xa(),x=l.fallback,h=n.mode,l=Hu({mode:"visible",children:l.children},h),x=yr(x,h,r,null),x.flags|=2,l.return=n,x.return=n,l.sibling=x,n.child=l,Ar(n,t.child,null,r),l=n.child,l.memoizedState=Rf(r),l.childLanes=Cf(t,v,r),n.memoizedState=wf,n=Gl(null,l));else if(Ea(n),cd(x)){if(v=x.nextSibling&&x.nextSibling.dataset,v)var q=v.dgst;v=q,l=Error(s(419)),l.stack="",l.digest=v,Ml({value:l,source:null,stack:null}),n=Df(t,n,r)}else if(we||fs(t,n,r,!1),v=(r&t.childLanes)!==0,we||v){if(v=ee,v!==null&&(l=fl(v,r),l!==0&&l!==I.retryLane))throw I.retryLane=l,pr(t,l),cn(v,t,l),Af;ud(x)||Ju(),n=Df(t,n,r)}else ud(x)?(n.flags|=192,n.child=t.child,n=null):(t=I.treeContext,ie=kn(x.nextSibling),qe=n,zt=!0,ga=null,On=!1,t!==null&&Qg(n,t),n=Nf(n,l.children),n.flags|=4096);return n}return h?(xa(),x=l.fallback,h=n.mode,I=t.child,q=I.sibling,l=ki(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&65011712,q!==null?x=ki(q,x):(x=yr(x,h,r,null),x.flags|=2),x.return=n,l.return=n,l.sibling=x,n.child=l,Gl(null,l),l=n.child,x=t.child.memoizedState,x===null?x=Rf(r):(h=x.cachePool,h!==null?(I=Ae._currentValue,h=h.parent!==I?{parent:I,pool:I}:h):h=Jg(),x={baseLanes:x.baseLanes|r,cachePool:h}),l.memoizedState=x,l.childLanes=Cf(t,v,r),n.memoizedState=wf,Gl(t.child,l)):(Ea(n),r=t.child,t=r.sibling,r=ki(r,{mode:"visible",children:l.children}),r.return=n,r.sibling=null,t!==null&&(v=n.deletions,v===null?(n.deletions=[t],n.flags|=16):v.push(t)),n.child=r,n.memoizedState=null,r)}function Nf(t,n){return n=Hu({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function Hu(t,n){return t=gn(22,t,null,n),t.lanes=0,t}function Df(t,n,r){return Ar(n,t.child,null,r),t=Nf(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function hy(t,n,r){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),Fh(t.return,n,r)}function If(t,n,r,l,h,d){var v=t.memoizedState;v===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:h,treeForkCount:d}:(v.isBackwards=n,v.rendering=null,v.renderingStartTime=0,v.last=l,v.tail=r,v.tailMode=h,v.treeForkCount=d)}function fy(t,n,r){var l=n.pendingProps,h=l.revealOrder,d=l.tail;l=l.children;var v=pe.current,x=(v&2)!==0;if(x?(v=v&1|2,n.flags|=128):v&=1,ot(pe,v),Fe(t,n,l,r),l=zt?Vl:0,!x&&t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&hy(t,r,n);else if(t.tag===19)hy(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(r=n.child,h=null;r!==null;)t=r.alternate,t!==null&&Iu(t)===null&&(h=r),r=r.sibling;r=h,r===null?(h=n.child,n.child=null):(h=r.sibling,r.sibling=null),If(n,!1,h,r,d,l);break;case"backwards":case"unstable_legacy-backwards":for(r=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&Iu(t)===null){n.child=h;break}t=h.sibling,h.sibling=r,r=h,h=t}If(n,!0,r,null,d,l);break;case"together":If(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function qi(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),Sa|=n.lanes,(r&n.childLanes)===0)if(t!==null){if(fs(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(s(153));if(n.child!==null){for(t=n.child,r=ki(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=ki(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function Vf(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Tu(t)))}function KE(t,n,r){switch(n.tag){case 3:Ie(n,n.stateNode.containerInfo),ya(n,Ae,t.memoizedState.cache),vr();break;case 27:case 5:Ja(n);break;case 4:Ie(n,n.stateNode.containerInfo);break;case 10:ya(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,nf(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Ea(n),n.flags|=128,null):(r&n.child.childLanes)!==0?cy(t,n,r):(Ea(n),t=qi(t,n,r),t!==null?t.sibling:null);Ea(n);break;case 19:var h=(t.flags&128)!==0;if(l=(r&n.childLanes)!==0,l||(fs(t,n,r,!1),l=(r&n.childLanes)!==0),h){if(l)return fy(t,n,r);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ot(pe,pe.current),l)break;return null;case 22:return n.lanes=0,ay(t,n,r,n.pendingProps);case 24:ya(n,Ae,t.memoizedState.cache)}return qi(t,n,r)}function dy(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)we=!0;else{if(!Vf(t,r)&&(n.flags&128)===0)return we=!1,KE(t,n,r);we=(t.flags&131072)!==0}else we=!1,zt&&(n.flags&1048576)!==0&&Gg(n,Vl,n.index);switch(n.lanes=0,n.tag){case 16:t:{var l=n.pendingProps;if(t=xr(n.elementType),n.type=t,typeof t=="function")kh(t)?(l=wr(t,l),n.tag=1,n=oy(null,n,t,l,r)):(n.tag=0,n=Sf(null,n,t,l,r));else{if(t!=null){var h=t.$$typeof;if(h===mt){n.tag=11,n=ey(null,n,t,l,r);break t}else if(h===N){n.tag=14,n=ny(null,n,t,l,r);break t}}throw n=gt(t)||t,Error(s(306,n,""))}}return n;case 0:return Sf(t,n,n.type,n.pendingProps,r);case 1:return l=n.type,h=wr(l,n.pendingProps),oy(t,n,l,h,r);case 3:t:{if(Ie(n,n.stateNode.containerInfo),t===null)throw Error(s(387));l=n.pendingProps;var d=n.memoizedState;h=d.element,Zh(t,n),Pl(n,l,null,r);var v=n.memoizedState;if(l=v.cache,ya(n,Ae,l),l!==d.cache&&Gh(n,[Ae],r,!0),Ul(),l=v.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:v.cache},n.updateQueue.baseState=d,n.memoizedState=d,n.flags&256){n=uy(t,n,l,r);break t}else if(l!==h){h=In(Error(s(424)),n),Ml(h),n=uy(t,n,l,r);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ie=kn(t.firstChild),qe=n,zt=!0,ga=null,On=!0,r=ap(n,null,l,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(vr(),l===h){n=qi(t,n,r);break t}Fe(t,n,l,r)}n=n.child}return n;case 26:return qu(t,n),t===null?(r=A0(n.type,null,n.pendingProps,null))?n.memoizedState=r:zt||(r=n.type,t=n.pendingProps,l=rc(Nt.current).createElement(r),l[Ee]=n,l[ke]=t,Ge(l,r,t),xe(l),n.stateNode=l):n.memoizedState=A0(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Ja(n),t===null&&zt&&(l=n.stateNode=E0(n.type,n.pendingProps,Nt.current),qe=n,On=!0,h=ie,Da(n.type)?(hd=h,ie=kn(l.firstChild)):ie=h),Fe(t,n,n.pendingProps.children,r),qu(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&zt&&((h=l=ie)&&(l=Ax(l,n.type,n.pendingProps,On),l!==null?(n.stateNode=l,qe=n,ie=kn(l.firstChild),On=!1,h=!0):h=!1),h||pa(n)),Ja(n),h=n.type,d=n.pendingProps,v=t!==null?t.memoizedProps:null,l=d.children,sd(h,d)?l=null:v!==null&&sd(h,v)&&(n.flags|=32),n.memoizedState!==null&&(h=rf(t,n,UE,null,null,r),so._currentValue=h),qu(t,n),Fe(t,n,l,r),n.child;case 6:return t===null&&zt&&((t=r=ie)&&(r=Sx(r,n.pendingProps,On),r!==null?(n.stateNode=r,qe=n,ie=null,t=!0):t=!1),t||pa(n)),null;case 13:return cy(t,n,r);case 4:return Ie(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=Ar(n,null,l,r):Fe(t,n,l,r),n.child;case 11:return ey(t,n,n.type,n.pendingProps,r);case 7:return Fe(t,n,n.pendingProps,r),n.child;case 8:return Fe(t,n,n.pendingProps.children,r),n.child;case 12:return Fe(t,n,n.pendingProps.children,r),n.child;case 10:return l=n.pendingProps,ya(n,n.type,l.value),Fe(t,n,l.children,r),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,br(n),h=He(h),l=l(h),n.flags|=1,Fe(t,n,l,r),n.child;case 14:return ny(t,n,n.type,n.pendingProps,r);case 15:return iy(t,n,n.type,n.pendingProps,r);case 19:return fy(t,n,r);case 31:return YE(t,n,r);case 22:return ay(t,n,r,n.pendingProps);case 24:return br(n),l=He(Ae),t===null?(h=Kh(),h===null&&(h=ee,d=Qh(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=r),h=d),n.memoizedState={parent:l,cache:h},Xh(n),ya(n,Ae,h)):((t.lanes&r)!==0&&(Zh(t,n),Pl(n,null,null,r),Ul()),h=t.memoizedState,d=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),ya(n,Ae,l)):(l=d.cache,ya(n,Ae,l),l!==h.cache&&Gh(n,[Ae],r,!0))),Fe(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function Hi(t){t.flags|=4}function Mf(t,n,r,l,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(Py())t.flags|=8192;else throw Tr=Ru,$h}else t.flags&=-16777217}function my(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!N0(n))if(Py())t.flags|=8192;else throw Tr=Ru,$h}function Fu(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Xo():536870912,t.lanes|=n,As|=n)}function Ql(t,n){if(!zt)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ae(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,l=0;if(n)for(var h=t.child;h!==null;)r|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)r|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=r,n}function $E(t,n,r){var l=n.pendingProps;switch(Ph(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ae(n),null;case 1:return ae(n),null;case 3:return r=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Ui(Ae),se(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(hs(n)?Hi(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,qh())),ae(n),null;case 26:var h=n.type,d=n.memoizedState;return t===null?(Hi(n),d!==null?(ae(n),my(n,d)):(ae(n),Mf(n,h,null,l,r))):d?d!==t.memoizedState?(Hi(n),ae(n),my(n,d)):(ae(n),n.flags&=-16777217):(t=t.memoizedProps,t!==l&&Hi(n),ae(n),Mf(n,h,t,l,r)),null;case 27:if(Hr(n),r=Nt.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Hi(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return ae(n),null}t=ft.current,hs(n)?Yg(n):(t=E0(h,l,r),n.stateNode=t,Hi(n))}return ae(n),null;case 5:if(Hr(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Hi(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return ae(n),null}if(d=ft.current,hs(n))Yg(n);else{var v=rc(Nt.current);switch(d){case 1:d=v.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=v.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=v.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=v.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=v.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?v.createElement("select",{is:l.is}):v.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?v.createElement(h,{is:l.is}):v.createElement(h)}}d[Ee]=n,d[ke]=l;t:for(v=n.child;v!==null;){if(v.tag===5||v.tag===6)d.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===n)break t;for(;v.sibling===null;){if(v.return===null||v.return===n)break t;v=v.return}v.sibling.return=v.return,v=v.sibling}n.stateNode=d;t:switch(Ge(d,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&Hi(n)}}return ae(n),Mf(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,r),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Hi(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(s(166));if(t=Nt.current,hs(n)){if(t=n.stateNode,r=n.memoizedProps,l=null,h=qe,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[Ee]=n,t=!!(t.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||c0(t.nodeValue,r)),t||pa(n,!0)}else t=rc(t).createTextNode(l),t[Ee]=n,n.stateNode=t}return ae(n),null;case 31:if(r=n.memoizedState,t===null||t.memoizedState!==null){if(l=hs(n),r!==null){if(t===null){if(!l)throw Error(s(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[Ee]=n}else vr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ae(n),t=!1}else r=qh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=r),t=!0;if(!t)return n.flags&256?(yn(n),n):(yn(n),null);if((n.flags&128)!==0)throw Error(s(558))}return ae(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=hs(n),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Ee]=n}else vr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ae(n),h=!1}else h=qh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(yn(n),n):(yn(n),null)}return yn(n),(n.flags&128)!==0?(n.lanes=r,n):(r=l!==null,t=t!==null&&t.memoizedState!==null,r&&(l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)),r!==t&&r&&(n.child.flags|=8192),Fu(n,n.updateQueue),ae(n),null);case 4:return se(),t===null&&ed(n.stateNode.containerInfo),ae(n),null;case 10:return Ui(n.type),ae(n),null;case 19:if(W(pe),l=n.memoizedState,l===null)return ae(n),null;if(h=(n.flags&128)!==0,d=l.rendering,d===null)if(h)Ql(l,!1);else{if(fe!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(d=Iu(t),d!==null){for(n.flags|=128,Ql(l,!1),t=d.updateQueue,n.updateQueue=t,Fu(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)qg(r,t),r=r.sibling;return ot(pe,pe.current&1|2),zt&&Li(n,l.treeForkCount),n.child}t=t.sibling}l.tail!==null&&We()>$u&&(n.flags|=128,h=!0,Ql(l,!1),n.lanes=4194304)}else{if(!h)if(t=Iu(d),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,Fu(n,t),Ql(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!zt)return ae(n),null}else 2*We()-l.renderingStartTime>$u&&r!==536870912&&(n.flags|=128,h=!0,Ql(l,!1),n.lanes=4194304);l.isBackwards?(d.sibling=n.child,n.child=d):(t=l.last,t!==null?t.sibling=d:n.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=We(),t.sibling=null,r=pe.current,ot(pe,h?r&1|2:r&1),zt&&Li(n,l.treeForkCount),t):(ae(n),null);case 22:case 23:return yn(n),ef(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(r&536870912)!==0&&(n.flags&128)===0&&(ae(n),n.subtreeFlags&6&&(n.flags|=8192)):ae(n),r=n.updateQueue,r!==null&&Fu(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==r&&(n.flags|=2048),t!==null&&W(Er),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Ui(Ae),ae(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function XE(t,n){switch(Ph(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Ui(Ae),se(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Hr(n),null;case 31:if(n.memoizedState!==null){if(yn(n),n.alternate===null)throw Error(s(340));vr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(yn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(s(340));vr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return W(pe),null;case 4:return se(),null;case 10:return Ui(n.type),null;case 22:case 23:return yn(n),ef(),t!==null&&W(Er),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Ui(Ae),null;case 25:return null;default:return null}}function gy(t,n){switch(Ph(n),n.tag){case 3:Ui(Ae),se();break;case 26:case 27:case 5:Hr(n);break;case 4:se();break;case 31:n.memoizedState!==null&&yn(n);break;case 13:yn(n);break;case 19:W(pe);break;case 10:Ui(n.type);break;case 22:case 23:yn(n),ef(),t!==null&&W(Er);break;case 24:Ui(Ae)}}function Yl(t,n){try{var r=n.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var h=l.next;r=h;do{if((r.tag&t)===t){l=void 0;var d=r.create,v=r.inst;l=d(),v.destroy=l}r=r.next}while(r!==h)}}catch(x){Xt(n,n.return,x)}}function Ta(t,n,r){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var v=l.inst,x=v.destroy;if(x!==void 0){v.destroy=void 0,h=n;var I=r,q=x;try{q()}catch(X){Xt(h,I,X)}}}l=l.next}while(l!==d)}}catch(X){Xt(n,n.return,X)}}function py(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{sp(n,r)}catch(l){Xt(t,t.return,l)}}}function yy(t,n,r){r.props=wr(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(l){Xt(t,n,l)}}function Kl(t,n){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof r=="function"?t.refCleanup=r(l):r.current=l}}catch(h){Xt(t,n,h)}}function bi(t,n){var r=t.ref,l=t.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(h){Xt(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(h){Xt(t,n,h)}else r.current=null}function vy(t){var n=t.type,r=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break t;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(h){Xt(t,t.return,h)}}function Of(t,n,r){try{var l=t.stateNode;vx(l,t.type,r,n),l[ke]=n}catch(h){Xt(t,t.return,h)}}function _y(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Da(t.type)||t.tag===4}function jf(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||_y(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Da(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function kf(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(t),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=Fn));else if(l!==4&&(l===27&&Da(t.type)&&(r=t.stateNode,n=null),t=t.child,t!==null))for(kf(t,n,r),t=t.sibling;t!==null;)kf(t,n,r),t=t.sibling}function Gu(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(l!==4&&(l===27&&Da(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(Gu(t,n,r),t=t.sibling;t!==null;)Gu(t,n,r),t=t.sibling}function by(t){var n=t.stateNode,r=t.memoizedProps;try{for(var l=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Ge(n,l,r),n[Ee]=t,n[ke]=r}catch(d){Xt(t,t.return,d)}}var Fi=!1,Re=!1,Lf=!1,Ey=typeof WeakSet=="function"?WeakSet:Set,ze=null;function ZE(t,n){if(t=t.containerInfo,ad=fc,t=Mg(t),Nh(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else t:{r=(r=t.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{r.nodeType,d.nodeType}catch{r=null;break t}var v=0,x=-1,I=-1,q=0,X=0,J=t,F=null;e:for(;;){for(var Y;J!==r||h!==0&&J.nodeType!==3||(x=v+h),J!==d||l!==0&&J.nodeType!==3||(I=v+l),J.nodeType===3&&(v+=J.nodeValue.length),(Y=J.firstChild)!==null;)F=J,J=Y;for(;;){if(J===t)break e;if(F===r&&++q===h&&(x=v),F===d&&++X===l&&(I=v),(Y=J.nextSibling)!==null)break;J=F,F=J.parentNode}J=Y}r=x===-1||I===-1?null:{start:x,end:I}}else r=null}r=r||{start:0,end:0}}else r=null;for(rd={focusedElem:t,selectionRange:r},fc=!1,ze=n;ze!==null;)if(n=ze,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,ze=t;else for(;ze!==null;){switch(n=ze,d=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(r=0;r<t.length;r++)h=t[r],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,r=n,h=d.memoizedProps,d=d.memoizedState,l=r.stateNode;try{var dt=wr(r.type,h);t=l.getSnapshotBeforeUpdate(dt,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(Et){Xt(r,r.return,Et)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)od(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":od(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=n.sibling,t!==null){t.return=n.return,ze=t;break}ze=n.return}}function xy(t,n,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:Qi(t,r),l&4&&Yl(5,r);break;case 1:if(Qi(t,r),l&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(v){Xt(r,r.return,v)}else{var h=wr(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(v){Xt(r,r.return,v)}}l&64&&py(r),l&512&&Kl(r,r.return);break;case 3:if(Qi(t,r),l&64&&(t=r.updateQueue,t!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{sp(t,n)}catch(v){Xt(r,r.return,v)}}break;case 27:n===null&&l&4&&by(r);case 26:case 5:Qi(t,r),n===null&&l&4&&vy(r),l&512&&Kl(r,r.return);break;case 12:Qi(t,r);break;case 31:Qi(t,r),l&4&&Sy(t,r);break;case 13:Qi(t,r),l&4&&wy(t,r),l&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=sx.bind(null,r),wx(t,r))));break;case 22:if(l=r.memoizedState!==null||Fi,!l){n=n!==null&&n.memoizedState!==null||Re,h=Fi;var d=Re;Fi=l,(Re=n)&&!d?Yi(t,r,(r.subtreeFlags&8772)!==0):Qi(t,r),Fi=h,Re=d}break;case 30:break;default:Qi(t,r)}}function Ty(t){var n=t.alternate;n!==null&&(t.alternate=null,Ty(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Kr(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var oe=null,sn=!1;function Gi(t,n,r){for(r=r.child;r!==null;)Ay(t,n,r),r=r.sibling}function Ay(t,n,r){if(Pe&&typeof Pe.onCommitFiberUnmount=="function")try{Pe.onCommitFiberUnmount(Pn,r)}catch{}switch(r.tag){case 26:Re||bi(r,n),Gi(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:Re||bi(r,n);var l=oe,h=sn;Da(r.type)&&(oe=r.stateNode,sn=!1),Gi(t,n,r),io(r.stateNode),oe=l,sn=h;break;case 5:Re||bi(r,n);case 6:if(l=oe,h=sn,oe=null,Gi(t,n,r),oe=l,sn=h,oe!==null)if(sn)try{(oe.nodeType===9?oe.body:oe.nodeName==="HTML"?oe.ownerDocument.body:oe).removeChild(r.stateNode)}catch(d){Xt(r,n,d)}else try{oe.removeChild(r.stateNode)}catch(d){Xt(r,n,d)}break;case 18:oe!==null&&(sn?(t=oe,p0(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),Vs(t)):p0(oe,r.stateNode));break;case 4:l=oe,h=sn,oe=r.stateNode.containerInfo,sn=!0,Gi(t,n,r),oe=l,sn=h;break;case 0:case 11:case 14:case 15:Ta(2,r,n),Re||Ta(4,r,n),Gi(t,n,r);break;case 1:Re||(bi(r,n),l=r.stateNode,typeof l.componentWillUnmount=="function"&&yy(r,n,l)),Gi(t,n,r);break;case 21:Gi(t,n,r);break;case 22:Re=(l=Re)||r.memoizedState!==null,Gi(t,n,r),Re=l;break;default:Gi(t,n,r)}}function Sy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Vs(t)}catch(r){Xt(n,n.return,r)}}}function wy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Vs(t)}catch(r){Xt(n,n.return,r)}}function JE(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Ey),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Ey),n;default:throw Error(s(435,t.tag))}}function Qu(t,n){var r=JE(t);n.forEach(function(l){if(!r.has(l)){r.add(l);var h=lx.bind(null,t,l);l.then(h,h)}})}function ln(t,n){var r=n.deletions;if(r!==null)for(var l=0;l<r.length;l++){var h=r[l],d=t,v=n,x=v;t:for(;x!==null;){switch(x.tag){case 27:if(Da(x.type)){oe=x.stateNode,sn=!1;break t}break;case 5:oe=x.stateNode,sn=!1;break t;case 3:case 4:oe=x.stateNode.containerInfo,sn=!0;break t}x=x.return}if(oe===null)throw Error(s(160));Ay(d,v,h),oe=null,sn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Ry(n,t),n=n.sibling}var Xn=null;function Ry(t,n){var r=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:ln(n,t),on(t),l&4&&(Ta(3,t,t.return),Yl(3,t),Ta(5,t,t.return));break;case 1:ln(n,t),on(t),l&512&&(Re||r===null||bi(r,r.return)),l&64&&Fi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var h=Xn;if(ln(n,t),on(t),l&512&&(Re||r===null||bi(r,r.return)),l&4){var d=r!==null?r.memoizedState:null;if(l=t.memoizedState,r===null)if(l===null)if(t.stateNode===null){t:{l=t.type,r=t.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[si]||d[Ee]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Ge(d,l,r),d[Ee]=t,xe(d),l=d;break t;case"link":var v=R0("link","href",h).get(l+(r.href||""));if(v){for(var x=0;x<v.length;x++)if(d=v[x],d.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&d.getAttribute("rel")===(r.rel==null?null:r.rel)&&d.getAttribute("title")===(r.title==null?null:r.title)&&d.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){v.splice(x,1);break e}}d=h.createElement(l),Ge(d,l,r),h.head.appendChild(d);break;case"meta":if(v=R0("meta","content",h).get(l+(r.content||""))){for(x=0;x<v.length;x++)if(d=v[x],d.getAttribute("content")===(r.content==null?null:""+r.content)&&d.getAttribute("name")===(r.name==null?null:r.name)&&d.getAttribute("property")===(r.property==null?null:r.property)&&d.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&d.getAttribute("charset")===(r.charSet==null?null:r.charSet)){v.splice(x,1);break e}}d=h.createElement(l),Ge(d,l,r),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[Ee]=t,xe(d),l=d}t.stateNode=l}else C0(h,t.type,t.stateNode);else t.stateNode=w0(h,l,t.memoizedProps);else d!==l?(d===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):d.count--,l===null?C0(h,t.type,t.stateNode):w0(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Of(t,t.memoizedProps,r.memoizedProps)}break;case 27:ln(n,t),on(t),l&512&&(Re||r===null||bi(r,r.return)),r!==null&&l&4&&Of(t,t.memoizedProps,r.memoizedProps);break;case 5:if(ln(n,t),on(t),l&512&&(Re||r===null||bi(r,r.return)),t.flags&32){h=t.stateNode;try{rn(h,"")}catch(dt){Xt(t,t.return,dt)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,Of(t,h,r!==null?r.memoizedProps:h)),l&1024&&(Lf=!0);break;case 6:if(ln(n,t),on(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,r=t.stateNode;try{r.nodeValue=l}catch(dt){Xt(t,t.return,dt)}}break;case 3:if(oc=null,h=Xn,Xn=sc(n.containerInfo),ln(n,t),Xn=h,on(t),l&4&&r!==null&&r.memoizedState.isDehydrated)try{Vs(n.containerInfo)}catch(dt){Xt(t,t.return,dt)}Lf&&(Lf=!1,Cy(t));break;case 4:l=Xn,Xn=sc(t.stateNode.containerInfo),ln(n,t),on(t),Xn=l;break;case 12:ln(n,t),on(t);break;case 31:ln(n,t),on(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Qu(t,l)));break;case 13:ln(n,t),on(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Ku=We()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Qu(t,l)));break;case 22:h=t.memoizedState!==null;var I=r!==null&&r.memoizedState!==null,q=Fi,X=Re;if(Fi=q||h,Re=X||I,ln(n,t),Re=X,Fi=q,on(t),l&8192)t:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(r===null||I||Fi||Re||Rr(t)),r=null,n=t;;){if(n.tag===5||n.tag===26){if(r===null){I=r=n;try{if(d=I.stateNode,h)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{x=I.stateNode;var J=I.memoizedProps.style,F=J!=null&&J.hasOwnProperty("display")?J.display:null;x.style.display=F==null||typeof F=="boolean"?"":(""+F).trim()}}catch(dt){Xt(I,I.return,dt)}}}else if(n.tag===6){if(r===null){I=n;try{I.stateNode.nodeValue=h?"":I.memoizedProps}catch(dt){Xt(I,I.return,dt)}}}else if(n.tag===18){if(r===null){I=n;try{var Y=I.stateNode;h?y0(Y,!0):y0(I.stateNode,!1)}catch(dt){Xt(I,I.return,dt)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,Qu(t,r))));break;case 19:ln(n,t),on(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Qu(t,l)));break;case 30:break;case 21:break;default:ln(n,t),on(t)}}function on(t){var n=t.flags;if(n&2){try{for(var r,l=t.return;l!==null;){if(_y(l)){r=l;break}l=l.return}if(r==null)throw Error(s(160));switch(r.tag){case 27:var h=r.stateNode,d=jf(t);Gu(t,d,h);break;case 5:var v=r.stateNode;r.flags&32&&(rn(v,""),r.flags&=-33);var x=jf(t);Gu(t,x,v);break;case 3:case 4:var I=r.stateNode.containerInfo,q=jf(t);kf(t,q,I);break;default:throw Error(s(161))}}catch(X){Xt(t,t.return,X)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Cy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Cy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Qi(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)xy(t,n.alternate,n),n=n.sibling}function Rr(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Ta(4,n,n.return),Rr(n);break;case 1:bi(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&yy(n,n.return,r),Rr(n);break;case 27:io(n.stateNode);case 26:case 5:bi(n,n.return),Rr(n);break;case 22:n.memoizedState===null&&Rr(n);break;case 30:Rr(n);break;default:Rr(n)}t=t.sibling}}function Yi(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=t,d=n,v=d.flags;switch(d.tag){case 0:case 11:case 15:Yi(h,d,r),Yl(4,d);break;case 1:if(Yi(h,d,r),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(q){Xt(l,l.return,q)}if(l=d,h=l.updateQueue,h!==null){var x=l.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)rp(I[h],x)}catch(q){Xt(l,l.return,q)}}r&&v&64&&py(d),Kl(d,d.return);break;case 27:by(d);case 26:case 5:Yi(h,d,r),r&&l===null&&v&4&&vy(d),Kl(d,d.return);break;case 12:Yi(h,d,r);break;case 31:Yi(h,d,r),r&&v&4&&Sy(h,d);break;case 13:Yi(h,d,r),r&&v&4&&wy(h,d);break;case 22:d.memoizedState===null&&Yi(h,d,r),Kl(d,d.return);break;case 30:break;default:Yi(h,d,r)}n=n.sibling}}function zf(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&Ol(r))}function Uf(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Ol(t))}function Zn(t,n,r,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Ny(t,n,r,l),n=n.sibling}function Ny(t,n,r,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Zn(t,n,r,l),h&2048&&Yl(9,n);break;case 1:Zn(t,n,r,l);break;case 3:Zn(t,n,r,l),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Ol(t)));break;case 12:if(h&2048){Zn(t,n,r,l),t=n.stateNode;try{var d=n.memoizedProps,v=d.id,x=d.onPostCommit;typeof x=="function"&&x(v,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(I){Xt(n,n.return,I)}}else Zn(t,n,r,l);break;case 31:Zn(t,n,r,l);break;case 13:Zn(t,n,r,l);break;case 23:break;case 22:d=n.stateNode,v=n.alternate,n.memoizedState!==null?d._visibility&2?Zn(t,n,r,l):$l(t,n):d._visibility&2?Zn(t,n,r,l):(d._visibility|=2,Es(t,n,r,l,(n.subtreeFlags&10256)!==0||!1)),h&2048&&zf(v,n);break;case 24:Zn(t,n,r,l),h&2048&&Uf(n.alternate,n);break;default:Zn(t,n,r,l)}}function Es(t,n,r,l,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var d=t,v=n,x=r,I=l,q=v.flags;switch(v.tag){case 0:case 11:case 15:Es(d,v,x,I,h),Yl(8,v);break;case 23:break;case 22:var X=v.stateNode;v.memoizedState!==null?X._visibility&2?Es(d,v,x,I,h):$l(d,v):(X._visibility|=2,Es(d,v,x,I,h)),h&&q&2048&&zf(v.alternate,v);break;case 24:Es(d,v,x,I,h),h&&q&2048&&Uf(v.alternate,v);break;default:Es(d,v,x,I,h)}n=n.sibling}}function $l(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,l=n,h=l.flags;switch(l.tag){case 22:$l(r,l),h&2048&&zf(l.alternate,l);break;case 24:$l(r,l),h&2048&&Uf(l.alternate,l);break;default:$l(r,l)}n=n.sibling}}var Xl=8192;function xs(t,n,r){if(t.subtreeFlags&Xl)for(t=t.child;t!==null;)Dy(t,n,r),t=t.sibling}function Dy(t,n,r){switch(t.tag){case 26:xs(t,n,r),t.flags&Xl&&t.memoizedState!==null&&zx(r,Xn,t.memoizedState,t.memoizedProps);break;case 5:xs(t,n,r);break;case 3:case 4:var l=Xn;Xn=sc(t.stateNode.containerInfo),xs(t,n,r),Xn=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Xl,Xl=16777216,xs(t,n,r),Xl=l):xs(t,n,r));break;default:xs(t,n,r)}}function Iy(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Zl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];ze=l,My(l,t)}Iy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Vy(t),t=t.sibling}function Vy(t){switch(t.tag){case 0:case 11:case 15:Zl(t),t.flags&2048&&Ta(9,t,t.return);break;case 3:Zl(t);break;case 12:Zl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,Yu(t)):Zl(t);break;default:Zl(t)}}function Yu(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];ze=l,My(l,t)}Iy(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Ta(8,n,n.return),Yu(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,Yu(n));break;default:Yu(n)}t=t.sibling}}function My(t,n){for(;ze!==null;){var r=ze;switch(r.tag){case 0:case 11:case 15:Ta(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Ol(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,ze=l;else t:for(r=t;ze!==null;){l=ze;var h=l.sibling,d=l.return;if(Ty(l),l===r){ze=null;break t}if(h!==null){h.return=d,ze=h;break t}ze=d}}}var WE={getCacheForType:function(t){var n=He(Ae),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r},cacheSignal:function(){return He(Ae).controller.signal}},tx=typeof WeakMap=="function"?WeakMap:Map,Qt=0,ee=null,Vt=null,Ot=0,$t=0,vn=null,Aa=!1,Ts=!1,Pf=!1,Ki=0,fe=0,Sa=0,Cr=0,Bf=0,_n=0,As=0,Jl=null,un=null,qf=!1,Ku=0,Oy=0,$u=1/0,Xu=null,wa=null,Me=0,Ra=null,Ss=null,$i=0,Hf=0,Ff=null,jy=null,Wl=0,Gf=null;function bn(){return(Qt&2)!==0&&Ot!==0?Ot&-Ot:M.T!==null?Zf():Zo()}function ky(){if(_n===0)if((Ot&536870912)===0||zt){var t=er;er<<=1,(er&3932160)===0&&(er=262144),_n=t}else _n=536870912;return t=pn.current,t!==null&&(t.flags|=32),_n}function cn(t,n,r){(t===ee&&($t===2||$t===9)||t.cancelPendingCommit!==null)&&(ws(t,0),Ca(t,Ot,_n,!1)),nr(t,r),((Qt&2)===0||t!==ee)&&(t===ee&&((Qt&2)===0&&(Cr|=r),fe===4&&Ca(t,Ot,_n,!1)),Ei(t))}function Ly(t,n,r){if((Qt&6)!==0)throw Error(s(327));var l=!r&&(n&127)===0&&(n&t.expiredLanes)===0||Bn(t,n),h=l?ix(t,n):Yf(t,n,!0),d=l;do{if(h===0){Ts&&!l&&Ca(t,n,0,!1);break}else{if(r=t.current.alternate,d&&!ex(r)){h=Yf(t,n,!1),d=!1;continue}if(h===2){if(d=n,t.errorRecoveryDisabledLanes&d)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){n=v;t:{var x=t;h=Jl;var I=x.current.memoizedState.isDehydrated;if(I&&(ws(x,v).flags|=256),v=Yf(x,v,!1),v!==2){if(Pf&&!I){x.errorRecoveryDisabledLanes|=d,Cr|=d,h=4;break t}d=un,un=h,d!==null&&(un===null?un=d:un.push.apply(un,d))}h=v}if(d=!1,h!==2)continue}}if(h===1){ws(t,0),Ca(t,n,0,!0);break}t:{switch(l=t,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:Ca(l,n,_n,!Aa);break t;case 2:un=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(h=Ku+300-We(),10<h)){if(Ca(l,n,_n,!Aa),ii(l,0,!0)!==0)break t;$i=n,l.timeoutHandle=m0(zy.bind(null,l,r,un,Xu,qf,n,_n,Cr,As,Aa,d,"Throttled",-0,0),h);break t}zy(l,r,un,Xu,qf,n,_n,Cr,As,Aa,d,null,-0,0)}}break}while(!0);Ei(t)}function zy(t,n,r,l,h,d,v,x,I,q,X,J,F,Y){if(t.timeoutHandle=-1,J=n.subtreeFlags,J&8192||(J&16785408)===16785408){J={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Fn},Dy(n,d,J);var dt=(d&62914560)===d?Ku-We():(d&4194048)===d?Oy-We():0;if(dt=Ux(J,dt),dt!==null){$i=d,t.cancelPendingCommit=dt(Qy.bind(null,t,n,d,r,l,h,v,x,I,X,J,null,F,Y)),Ca(t,d,v,!q);return}}Qy(t,n,d,r,l,h,v,x,I)}function ex(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var h=r[l],d=h.getSnapshot;h=h.value;try{if(!mn(d(),h))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ca(t,n,r,l){n&=~Bf,n&=~Cr,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var h=n;0<h;){var d=31-me(h),v=1<<d;l[d]=-1,h&=~v}r!==0&&ir(t,r,n)}function Zu(){return(Qt&6)===0?(to(0),!1):!0}function Qf(){if(Vt!==null){if($t===0)var t=Vt.return;else t=Vt,zi=_r=null,of(t),ps=null,kl=0,t=Vt;for(;t!==null;)gy(t.alternate,t),t=t.return;Vt=null}}function ws(t,n){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,Ex(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),$i=0,Qf(),ee=t,Vt=r=ki(t.current,null),Ot=n,$t=0,vn=null,Aa=!1,Ts=Bn(t,n),Pf=!1,As=_n=Bf=Cr=Sa=fe=0,un=Jl=null,qf=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var h=31-me(l),d=1<<h;n|=t[h],l&=~d}return Ki=n,vu(),r}function Uy(t,n){Ct=null,M.H=Fl,n===gs||n===wu?(n=ep(),$t=3):n===$h?(n=ep(),$t=4):$t=n===Af?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,vn=n,Vt===null&&(fe=1,Pu(t,In(n,t.current)))}function Py(){var t=pn.current;return t===null?!0:(Ot&4194048)===Ot?jn===null:(Ot&62914560)===Ot||(Ot&536870912)!==0?t===jn:!1}function By(){var t=M.H;return M.H=Fl,t===null?Fl:t}function qy(){var t=M.A;return M.A=WE,t}function Ju(){fe=4,Aa||(Ot&4194048)!==Ot&&pn.current!==null||(Ts=!0),(Sa&134217727)===0&&(Cr&134217727)===0||ee===null||Ca(ee,Ot,_n,!1)}function Yf(t,n,r){var l=Qt;Qt|=2;var h=By(),d=qy();(ee!==t||Ot!==n)&&(Xu=null,ws(t,n)),n=!1;var v=fe;t:do try{if($t!==0&&Vt!==null){var x=Vt,I=vn;switch($t){case 8:Qf(),v=6;break t;case 3:case 2:case 9:case 6:pn.current===null&&(n=!0);var q=$t;if($t=0,vn=null,Rs(t,x,I,q),r&&Ts){v=0;break t}break;default:q=$t,$t=0,vn=null,Rs(t,x,I,q)}}nx(),v=fe;break}catch(X){Uy(t,X)}while(!0);return n&&t.shellSuspendCounter++,zi=_r=null,Qt=l,M.H=h,M.A=d,Vt===null&&(ee=null,Ot=0,vu()),v}function nx(){for(;Vt!==null;)Hy(Vt)}function ix(t,n){var r=Qt;Qt|=2;var l=By(),h=qy();ee!==t||Ot!==n?(Xu=null,$u=We()+500,ws(t,n)):Ts=Bn(t,n);t:do try{if($t!==0&&Vt!==null){n=Vt;var d=vn;e:switch($t){case 1:$t=0,vn=null,Rs(t,n,d,1);break;case 2:case 9:if(Wg(d)){$t=0,vn=null,Fy(n);break}n=function(){$t!==2&&$t!==9||ee!==t||($t=7),Ei(t)},d.then(n,n);break t;case 3:$t=7;break t;case 4:$t=5;break t;case 7:Wg(d)?($t=0,vn=null,Fy(n)):($t=0,vn=null,Rs(t,n,d,7));break;case 5:var v=null;switch(Vt.tag){case 26:v=Vt.memoizedState;case 5:case 27:var x=Vt;if(v?N0(v):x.stateNode.complete){$t=0,vn=null;var I=x.sibling;if(I!==null)Vt=I;else{var q=x.return;q!==null?(Vt=q,Wu(q)):Vt=null}break e}}$t=0,vn=null,Rs(t,n,d,5);break;case 6:$t=0,vn=null,Rs(t,n,d,6);break;case 8:Qf(),fe=6;break t;default:throw Error(s(462))}}ax();break}catch(X){Uy(t,X)}while(!0);return zi=_r=null,M.H=l,M.A=h,Qt=r,Vt!==null?0:(ee=null,Ot=0,vu(),fe)}function ax(){for(;Vt!==null&&!xh();)Hy(Vt)}function Hy(t){var n=dy(t.alternate,t,Ki);t.memoizedProps=t.pendingProps,n===null?Wu(t):Vt=n}function Fy(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=ly(r,n,n.pendingProps,n.type,void 0,Ot);break;case 11:n=ly(r,n,n.pendingProps,n.type.render,n.ref,Ot);break;case 5:of(n);default:gy(r,n),n=Vt=qg(n,Ki),n=dy(r,n,Ki)}t.memoizedProps=t.pendingProps,n===null?Wu(t):Vt=n}function Rs(t,n,r,l){zi=_r=null,of(n),ps=null,kl=0;var h=n.return;try{if(QE(t,h,n,r,Ot)){fe=1,Pu(t,In(r,t.current)),Vt=null;return}}catch(d){if(h!==null)throw Vt=h,d;fe=1,Pu(t,In(r,t.current)),Vt=null;return}n.flags&32768?(zt||l===1?t=!0:Ts||(Ot&536870912)!==0?t=!1:(Aa=t=!0,(l===2||l===9||l===3||l===6)&&(l=pn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Gy(n,t)):Wu(n)}function Wu(t){var n=t;do{if((n.flags&32768)!==0){Gy(n,Aa);return}t=n.return;var r=$E(n.alternate,n,Ki);if(r!==null){Vt=r;return}if(n=n.sibling,n!==null){Vt=n;return}Vt=n=t}while(n!==null);fe===0&&(fe=5)}function Gy(t,n){do{var r=XE(t.alternate,t);if(r!==null){r.flags&=32767,Vt=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){Vt=t;return}Vt=t=r}while(t!==null);fe=6,Vt=null}function Qy(t,n,r,l,h,d,v,x,I){t.cancelPendingCommit=null;do tc();while(Me!==0);if((Qt&6)!==0)throw Error(s(327));if(n!==null){if(n===t.current)throw Error(s(177));if(d=n.lanes|n.childLanes,d|=Oh,Sh(t,r,d,v,x,I),t===ee&&(Vt=ee=null,Ot=0),Ss=n,Ra=t,$i=r,Hf=d,Ff=h,jy=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,ox(aa,function(){return Zy(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=M.T,M.T=null,h=G.p,G.p=2,v=Qt,Qt|=4;try{ZE(t,n,r)}finally{Qt=v,G.p=h,M.T=l}}Me=1,Yy(),Ky(),$y()}}function Yy(){if(Me===1){Me=0;var t=Ra,n=Ss,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=M.T,M.T=null;var l=G.p;G.p=2;var h=Qt;Qt|=4;try{Ry(n,t);var d=rd,v=Mg(t.containerInfo),x=d.focusedElem,I=d.selectionRange;if(v!==x&&x&&x.ownerDocument&&Vg(x.ownerDocument.documentElement,x)){if(I!==null&&Nh(x)){var q=I.start,X=I.end;if(X===void 0&&(X=q),"selectionStart"in x)x.selectionStart=q,x.selectionEnd=Math.min(X,x.value.length);else{var J=x.ownerDocument||document,F=J&&J.defaultView||window;if(F.getSelection){var Y=F.getSelection(),dt=x.textContent.length,Et=Math.min(I.start,dt),te=I.end===void 0?Et:Math.min(I.end,dt);!Y.extend&&Et>te&&(v=te,te=Et,Et=v);var z=Ig(x,Et),j=Ig(x,te);if(z&&j&&(Y.rangeCount!==1||Y.anchorNode!==z.node||Y.anchorOffset!==z.offset||Y.focusNode!==j.node||Y.focusOffset!==j.offset)){var B=J.createRange();B.setStart(z.node,z.offset),Y.removeAllRanges(),Et>te?(Y.addRange(B),Y.extend(j.node,j.offset)):(B.setEnd(j.node,j.offset),Y.addRange(B))}}}}for(J=[],Y=x;Y=Y.parentNode;)Y.nodeType===1&&J.push({element:Y,left:Y.scrollLeft,top:Y.scrollTop});for(typeof x.focus=="function"&&x.focus(),x=0;x<J.length;x++){var Z=J[x];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}fc=!!ad,rd=ad=null}finally{Qt=h,G.p=l,M.T=r}}t.current=n,Me=2}}function Ky(){if(Me===2){Me=0;var t=Ra,n=Ss,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=M.T,M.T=null;var l=G.p;G.p=2;var h=Qt;Qt|=4;try{xy(t,n.alternate,n)}finally{Qt=h,G.p=l,M.T=r}}Me=3}}function $y(){if(Me===4||Me===3){Me=0,Fo();var t=Ra,n=Ss,r=$i,l=jy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Me=5:(Me=0,Ss=Ra=null,Xy(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(wa=null),Vi(r),n=n.stateNode,Pe&&typeof Pe.onCommitFiberRoot=="function")try{Pe.onCommitFiberRoot(Pn,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=M.T,h=G.p,G.p=2,M.T=null;try{for(var d=t.onRecoverableError,v=0;v<l.length;v++){var x=l[v];d(x.value,{componentStack:x.stack})}}finally{M.T=n,G.p=h}}($i&3)!==0&&tc(),Ei(t),h=t.pendingLanes,(r&261930)!==0&&(h&42)!==0?t===Gf?Wl++:(Wl=0,Gf=t):Wl=0,to(0)}}function Xy(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Ol(n)))}function tc(){return Yy(),Ky(),$y(),Zy()}function Zy(){if(Me!==5)return!1;var t=Ra,n=Hf;Hf=0;var r=Vi($i),l=M.T,h=G.p;try{G.p=32>r?32:r,M.T=null,r=Ff,Ff=null;var d=Ra,v=$i;if(Me=0,Ss=Ra=null,$i=0,(Qt&6)!==0)throw Error(s(331));var x=Qt;if(Qt|=4,Vy(d.current),Ny(d,d.current,v,r),Qt=x,to(0,!1),Pe&&typeof Pe.onPostCommitFiberRoot=="function")try{Pe.onPostCommitFiberRoot(Pn,d)}catch{}return!0}finally{G.p=h,M.T=l,Xy(t,n)}}function Jy(t,n,r){n=In(r,n),n=Tf(t.stateNode,n,2),t=ba(t,n,2),t!==null&&(nr(t,2),Ei(t))}function Xt(t,n,r){if(t.tag===3)Jy(t,t,r);else for(;n!==null;){if(n.tag===3){Jy(n,t,r);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(wa===null||!wa.has(l))){t=In(r,t),r=Wp(2),l=ba(n,r,2),l!==null&&(ty(r,l,n,t),nr(l,2),Ei(l));break}}n=n.return}}function Kf(t,n,r){var l=t.pingCache;if(l===null){l=t.pingCache=new tx;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(r)||(Pf=!0,h.add(r),t=rx.bind(null,t,n,r),n.then(t,t))}function rx(t,n,r){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,ee===t&&(Ot&r)===r&&(fe===4||fe===3&&(Ot&62914560)===Ot&&300>We()-Ku?(Qt&2)===0&&ws(t,0):Bf|=r,As===Ot&&(As=0)),Ei(t)}function Wy(t,n){n===0&&(n=Xo()),t=pr(t,n),t!==null&&(nr(t,n),Ei(t))}function sx(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),Wy(t,r)}function lx(t,n){var r=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(r=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(n),Wy(t,r)}function ox(t,n){return Ve(t,n)}var ec=null,Cs=null,$f=!1,nc=!1,Xf=!1,Na=0;function Ei(t){t!==Cs&&t.next===null&&(Cs===null?ec=Cs=t:Cs=Cs.next=t),nc=!0,$f||($f=!0,cx())}function to(t,n){if(!Xf&&nc){Xf=!0;do for(var r=!1,l=ec;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var v=l.suspendedLanes,x=l.pingedLanes;d=(1<<31-me(42|t)+1)-1,d&=h&~(v&~x),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(r=!0,i0(l,d))}else d=Ot,d=ii(l,l===ee?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Bn(l,d)||(r=!0,i0(l,d));l=l.next}while(r);Xf=!1}}function ux(){t0()}function t0(){nc=$f=!1;var t=0;Na!==0&&bx()&&(t=Na);for(var n=We(),r=null,l=ec;l!==null;){var h=l.next,d=e0(l,n);d===0?(l.next=null,r===null?ec=h:r.next=h,h===null&&(Cs=r)):(r=l,(t!==0||(d&3)!==0)&&(nc=!0)),l=h}Me!==0&&Me!==5||to(t),Na!==0&&(Na=0)}function e0(t,n){for(var r=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var v=31-me(d),x=1<<v,I=h[v];I===-1?((x&r)===0||(x&l)!==0)&&(h[v]=Ah(x,n)):I<=n&&(t.expiredLanes|=x),d&=~x}if(n=ee,r=Ot,r=ii(t,t===n?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,r===0||t===n&&($t===2||$t===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&ia(l),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||Bn(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(l!==null&&ia(l),Vi(r)){case 2:case 8:r=cl;break;case 32:r=aa;break;case 268435456:r=Go;break;default:r=aa}return l=n0.bind(null,t),r=Ve(r,l),t.callbackPriority=n,t.callbackNode=r,n}return l!==null&&l!==null&&ia(l),t.callbackPriority=2,t.callbackNode=null,2}function n0(t,n){if(Me!==0&&Me!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(tc()&&t.callbackNode!==r)return null;var l=Ot;return l=ii(t,t===ee?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Ly(t,l,n),e0(t,We()),t.callbackNode!=null&&t.callbackNode===r?n0.bind(null,t):null)}function i0(t,n){if(tc())return null;Ly(t,n,!0)}function cx(){xx(function(){(Qt&6)!==0?Ve(ul,ux):t0()})}function Zf(){if(Na===0){var t=ds;t===0&&(t=ei,ei<<=1,(ei&261888)===0&&(ei=256)),Na=t}return Na}function a0(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Jr(""+t)}function r0(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function hx(t,n,r,l,h){if(n==="submit"&&r&&r.stateNode===h){var d=a0((h[ke]||null).action),v=l.submitter;v&&(n=(n=v[ke]||null)?a0(n.formAction):v.getAttribute("formAction"),n!==null&&(d=n,v=null));var x=new mi("action","action",null,l,h);t.push({event:x,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Na!==0){var I=v?r0(h,v):new FormData(h);yf(r,{pending:!0,data:I,method:h.method,action:d},null,I)}}else typeof d=="function"&&(x.preventDefault(),I=v?r0(h,v):new FormData(h),yf(r,{pending:!0,data:I,method:h.method,action:d},d,I))},currentTarget:h}]})}}for(var Jf=0;Jf<Mh.length;Jf++){var Wf=Mh[Jf],fx=Wf.toLowerCase(),dx=Wf[0].toUpperCase()+Wf.slice(1);$n(fx,"on"+dx)}$n(kg,"onAnimationEnd"),$n(Lg,"onAnimationIteration"),$n(zg,"onAnimationStart"),$n("dblclick","onDoubleClick"),$n("focusin","onFocus"),$n("focusout","onBlur"),$n(NE,"onTransitionRun"),$n(DE,"onTransitionStart"),$n(IE,"onTransitionCancel"),$n(Ug,"onTransitionEnd"),ci("onMouseEnter",["mouseout","mouseover"]),ci("onMouseLeave",["mouseout","mouseover"]),ci("onPointerEnter",["pointerout","pointerover"]),ci("onPointerLeave",["pointerout","pointerover"]),ui("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ui("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ui("onBeforeInput",["compositionend","keypress","textInput","paste"]),ui("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ui("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ui("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var eo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mx=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(eo));function s0(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var l=t[r],h=l.event;l=l.listeners;t:{var d=void 0;if(n)for(var v=l.length-1;0<=v;v--){var x=l[v],I=x.instance,q=x.currentTarget;if(x=x.listener,I!==d&&h.isPropagationStopped())break t;d=x,h.currentTarget=q;try{d(h)}catch(X){yu(X)}h.currentTarget=null,d=I}else for(v=0;v<l.length;v++){if(x=l[v],I=x.instance,q=x.currentTarget,x=x.listener,I!==d&&h.isPropagationStopped())break t;d=x,h.currentTarget=q;try{d(h)}catch(X){yu(X)}h.currentTarget=null,d=I}}}}function Mt(t,n){var r=n[Yr];r===void 0&&(r=n[Yr]=new Set);var l=t+"__bubble";r.has(l)||(l0(n,t,2,!1),r.add(l))}function td(t,n,r){var l=0;n&&(l|=4),l0(r,t,l,n)}var ic="_reactListening"+Math.random().toString(36).slice(2);function ed(t){if(!t[ic]){t[ic]=!0,dl.forEach(function(r){r!=="selectionchange"&&(mx.has(r)||td(r,!1,t),td(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[ic]||(n[ic]=!0,td("selectionchange",!1,n))}}function l0(t,n,r,l){switch(k0(n)){case 2:var h=qx;break;case 8:h=Hx;break;default:h=pd}r=h.bind(null,n,r,t),h=void 0,!or||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(n,r,{capture:!0,passive:h}):t.addEventListener(n,r,!0):h!==void 0?t.addEventListener(n,r,{passive:h}):t.addEventListener(n,r,!1)}function nd(t,n,r,l,h){var d=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var x=l.stateNode.containerInfo;if(x===h)break;if(v===4)for(v=l.return;v!==null;){var I=v.tag;if((I===3||I===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;x!==null;){if(v=li(x),v===null)return;if(I=v.tag,I===5||I===6||I===26||I===27){l=d=v;continue t}x=x.parentNode}}l=l.return}ca(function(){var q=d,X=Rn(r),J=[];t:{var F=Pg.get(t);if(F!==void 0){var Y=mi,dt=t;switch(t){case"keypress":if(cr(r)===0)break t;case"keydown":case"keyup":Y=mu;break;case"focusin":dt="focus",Y=fr;break;case"focusout":dt="blur",Y=fr;break;case"beforeblur":case"afterblur":Y=fr;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=wl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=ru;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=g;break;case kg:case Lg:case zg:Y=lu;break;case Ug:Y=A;break;case"scroll":case"scrollend":Y=Sl;break;case"wheel":Y=Q;break;case"copy":case"cut":case"paste":Y=ou;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=ji;break;case"toggle":case"beforetoggle":Y=Rt}var Et=(n&4)!==0,te=!Et&&(t==="scroll"||t==="scrollend"),z=Et?F!==null?F+"Capture":null:F;Et=[];for(var j=q,B;j!==null;){var Z=j;if(B=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||B===null||z===null||(Z=Gn(j,z),Z!=null&&Et.push(no(j,Z,B))),te)break;j=j.return}0<Et.length&&(F=new Y(F,dt,null,r,X),J.push({event:F,listeners:Et}))}}if((n&7)===0){t:{if(F=t==="mouseover"||t==="pointerover",Y=t==="mouseout"||t==="pointerout",F&&r!==xl&&(dt=r.relatedTarget||r.fromElement)&&(li(dt)||dt[ri]))break t;if((Y||F)&&(F=X.window===X?X:(F=X.ownerDocument)?F.defaultView||F.parentWindow:window,Y?(dt=r.relatedTarget||r.toElement,Y=q,dt=dt?li(dt):null,dt!==null&&(te=u(dt),Et=dt.tag,dt!==te||Et!==5&&Et!==27&&Et!==6)&&(dt=null)):(Y=null,dt=q),Y!==dt)){if(Et=wl,Z="onMouseLeave",z="onMouseEnter",j="mouse",(t==="pointerout"||t==="pointerover")&&(Et=ji,Z="onPointerLeave",z="onPointerEnter",j="pointer"),te=Y==null?F:fn(Y),B=dt==null?F:fn(dt),F=new Et(Z,j+"leave",Y,r,X),F.target=te,F.relatedTarget=B,Z=null,li(X)===q&&(Et=new Et(z,j+"enter",dt,r,X),Et.target=B,Et.relatedTarget=te,Z=Et),te=Z,Y&&dt)e:{for(Et=gx,z=Y,j=dt,B=0,Z=z;Z;Z=Et(Z))B++;Z=0;for(var yt=j;yt;yt=Et(yt))Z++;for(;0<B-Z;)z=Et(z),B--;for(;0<Z-B;)j=Et(j),Z--;for(;B--;){if(z===j||j!==null&&z===j.alternate){Et=z;break e}z=Et(z),j=Et(j)}Et=null}else Et=null;Y!==null&&o0(J,F,Y,Et,!1),dt!==null&&te!==null&&o0(J,te,dt,Et,!0)}}t:{if(F=q?fn(q):window,Y=F.nodeName&&F.nodeName.toLowerCase(),Y==="select"||Y==="input"&&F.type==="file")var Ht=Sg;else if(Tg(F))if(wg)Ht=wE;else{Ht=AE;var pt=TE}else Y=F.nodeName,!Y||Y.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?q&&Zr(q.elementType)&&(Ht=Sg):Ht=SE;if(Ht&&(Ht=Ht(t,q))){Ag(J,Ht,r,X);break t}pt&&pt(t,F,q),t==="focusout"&&q&&F.type==="number"&&q.memoizedProps.value!=null&&_l(F,"number",F.value)}switch(pt=q?fn(q):window,t){case"focusin":(Tg(pt)||pt.contentEditable==="true")&&(rs=pt,Dh=q,Il=null);break;case"focusout":Il=Dh=rs=null;break;case"mousedown":Ih=!0;break;case"contextmenu":case"mouseup":case"dragend":Ih=!1,Og(J,r,X);break;case"selectionchange":if(CE)break;case"keydown":case"keyup":Og(J,r,X)}var Dt;if(Gt)t:{switch(t){case"compositionstart":var jt="onCompositionStart";break t;case"compositionend":jt="onCompositionEnd";break t;case"compositionupdate":jt="onCompositionUpdate";break t}jt=void 0}else as?dr(t,r)&&(jt="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(jt="onCompositionStart");jt&&(yi&&r.locale!=="ko"&&(as||jt!=="onCompositionStart"?jt==="onCompositionEnd"&&as&&(Dt=Al()):(di=X,Tl="value"in di?di.value:di.textContent,as=!0)),pt=ac(q,jt),0<pt.length&&(jt=new pi(jt,t,null,r,X),J.push({event:jt,listeners:pt}),Dt?jt.data=Dt:(Dt=is(r),Dt!==null&&(jt.data=Dt)))),(Dt=Nn?_E(t,r):bE(t,r))&&(jt=ac(q,"onBeforeInput"),0<jt.length&&(pt=new pi("onBeforeInput","beforeinput",null,r,X),J.push({event:pt,listeners:jt}),pt.data=Dt)),hx(J,t,q,r,X)}s0(J,n)})}function no(t,n,r){return{instance:t,listener:n,currentTarget:r}}function ac(t,n){for(var r=n+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Gn(t,r),h!=null&&l.unshift(no(t,h,d)),h=Gn(t,n),h!=null&&l.push(no(t,h,d))),t.tag===3)return l;t=t.return}return[]}function gx(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function o0(t,n,r,l,h){for(var d=n._reactName,v=[];r!==null&&r!==l;){var x=r,I=x.alternate,q=x.stateNode;if(x=x.tag,I!==null&&I===l)break;x!==5&&x!==26&&x!==27||q===null||(I=q,h?(q=Gn(r,d),q!=null&&v.unshift(no(r,q,I))):h||(q=Gn(r,d),q!=null&&v.push(no(r,q,I)))),r=r.return}v.length!==0&&t.push({event:n,listeners:v})}var px=/\r\n?/g,yx=/\u0000|\uFFFD/g;function u0(t){return(typeof t=="string"?t:""+t).replace(px,`
`).replace(yx,"")}function c0(t,n){return n=u0(n),u0(t)===n}function Wt(t,n,r,l,h,d){switch(r){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||rn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&rn(t,""+l);break;case"className":dn(t,"class",l);break;case"tabIndex":dn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":dn(t,r,l);break;case"style":El(t,l,d);break;case"data":if(n!=="object"){dn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=Jr(""+l),t.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(r==="formAction"?(n!=="input"&&Wt(t,n,"name",h.name,h,null),Wt(t,n,"formEncType",h.formEncType,h,null),Wt(t,n,"formMethod",h.formMethod,h,null),Wt(t,n,"formTarget",h.formTarget,h,null)):(Wt(t,n,"encType",h.encType,h,null),Wt(t,n,"method",h.method,h,null),Wt(t,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=Jr(""+l),t.setAttribute(r,l);break;case"onClick":l!=null&&(t.onclick=Fn);break;case"onScroll":l!=null&&Mt("scroll",t);break;case"onScrollEnd":l!=null&&Mt("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(r=l.__html,r!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=r}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}r=Jr(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""+l):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":l===!0?t.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,l):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(r,l):t.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(r):t.setAttribute(r,l);break;case"popover":Mt("beforetoggle",t),Mt("toggle",t),$r(t,"popover",l);break;case"xlinkActuate":Te(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Te(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Te(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Te(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Te(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Te(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Te(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Te(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Te(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":$r(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=au.get(r)||r,$r(t,r,l))}}function id(t,n,r,l,h,d){switch(r){case"style":El(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(r=l.__html,r!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=r}}break;case"children":typeof l=="string"?rn(t,l):(typeof l=="number"||typeof l=="bigint")&&rn(t,""+l);break;case"onScroll":l!=null&&Mt("scroll",t);break;case"onScrollEnd":l!=null&&Mt("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Fn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ml.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(h=r.endsWith("Capture"),n=r.slice(2,h?r.length-7:void 0),d=t[ke]||null,d=d!=null?d[r]:null,typeof d=="function"&&t.removeEventListener(n,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,l,h);break t}r in t?t[r]=l:l===!0?t.setAttribute(r,""):$r(t,r,l)}}}function Ge(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Mt("error",t),Mt("load",t);var l=!1,h=!1,d;for(d in r)if(r.hasOwnProperty(d)){var v=r[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Wt(t,n,d,v,r,null)}}h&&Wt(t,n,"srcSet",r.srcSet,r,null),l&&Wt(t,n,"src",r.src,r,null);return;case"input":Mt("invalid",t);var x=d=v=h=null,I=null,q=null;for(l in r)if(r.hasOwnProperty(l)){var X=r[l];if(X!=null)switch(l){case"name":h=X;break;case"type":v=X;break;case"checked":I=X;break;case"defaultChecked":q=X;break;case"value":d=X;break;case"defaultValue":x=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,n));break;default:Wt(t,n,l,X,r,null)}}eu(t,d,x,I,q,v,h,!1);return;case"select":Mt("invalid",t),l=v=d=null;for(h in r)if(r.hasOwnProperty(h)&&(x=r[h],x!=null))switch(h){case"value":d=x;break;case"defaultValue":v=x;break;case"multiple":l=x;default:Wt(t,n,h,x,r,null)}n=d,r=v,t.multiple=!!l,n!=null?sa(t,!!l,n,!1):r!=null&&sa(t,!!l,r,!0);return;case"textarea":Mt("invalid",t),d=h=l=null;for(v in r)if(r.hasOwnProperty(v)&&(x=r[v],x!=null))switch(v){case"value":l=x;break;case"defaultValue":h=x;break;case"children":d=x;break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(s(91));break;default:Wt(t,n,v,x,r,null)}la(t,l,h,d);return;case"option":for(I in r)if(r.hasOwnProperty(I)&&(l=r[I],l!=null))switch(I){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Wt(t,n,I,l,r,null)}return;case"dialog":Mt("beforetoggle",t),Mt("toggle",t),Mt("cancel",t),Mt("close",t);break;case"iframe":case"object":Mt("load",t);break;case"video":case"audio":for(l=0;l<eo.length;l++)Mt(eo[l],t);break;case"image":Mt("error",t),Mt("load",t);break;case"details":Mt("toggle",t);break;case"embed":case"source":case"link":Mt("error",t),Mt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in r)if(r.hasOwnProperty(q)&&(l=r[q],l!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Wt(t,n,q,l,r,null)}return;default:if(Zr(n)){for(X in r)r.hasOwnProperty(X)&&(l=r[X],l!==void 0&&id(t,n,X,l,r,void 0));return}}for(x in r)r.hasOwnProperty(x)&&(l=r[x],l!=null&&Wt(t,n,x,l,r,null))}function vx(t,n,r,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,x=null,I=null,q=null,X=null;for(Y in r){var J=r[Y];if(r.hasOwnProperty(Y)&&J!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":I=J;default:l.hasOwnProperty(Y)||Wt(t,n,Y,null,l,J)}}for(var F in l){var Y=l[F];if(J=r[F],l.hasOwnProperty(F)&&(Y!=null||J!=null))switch(F){case"type":d=Y;break;case"name":h=Y;break;case"checked":q=Y;break;case"defaultChecked":X=Y;break;case"value":v=Y;break;case"defaultValue":x=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,n));break;default:Y!==J&&Wt(t,n,F,Y,l,J)}}Xr(t,v,x,I,q,X,d,h);return;case"select":Y=v=x=F=null;for(d in r)if(I=r[d],r.hasOwnProperty(d)&&I!=null)switch(d){case"value":break;case"multiple":Y=I;default:l.hasOwnProperty(d)||Wt(t,n,d,null,l,I)}for(h in l)if(d=l[h],I=r[h],l.hasOwnProperty(h)&&(d!=null||I!=null))switch(h){case"value":F=d;break;case"defaultValue":x=d;break;case"multiple":v=d;default:d!==I&&Wt(t,n,h,d,l,I)}n=x,r=v,l=Y,F!=null?sa(t,!!r,F,!1):!!l!=!!r&&(n!=null?sa(t,!!r,n,!0):sa(t,!!r,r?[]:"",!1));return;case"textarea":Y=F=null;for(x in r)if(h=r[x],r.hasOwnProperty(x)&&h!=null&&!l.hasOwnProperty(x))switch(x){case"value":break;case"children":break;default:Wt(t,n,x,null,l,h)}for(v in l)if(h=l[v],d=r[v],l.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":F=h;break;case"defaultValue":Y=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&Wt(t,n,v,h,l,d)}nu(t,F,Y);return;case"option":for(var dt in r)if(F=r[dt],r.hasOwnProperty(dt)&&F!=null&&!l.hasOwnProperty(dt))switch(dt){case"selected":t.selected=!1;break;default:Wt(t,n,dt,null,l,F)}for(I in l)if(F=l[I],Y=r[I],l.hasOwnProperty(I)&&F!==Y&&(F!=null||Y!=null))switch(I){case"selected":t.selected=F&&typeof F!="function"&&typeof F!="symbol";break;default:Wt(t,n,I,F,l,Y)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Et in r)F=r[Et],r.hasOwnProperty(Et)&&F!=null&&!l.hasOwnProperty(Et)&&Wt(t,n,Et,null,l,F);for(q in l)if(F=l[q],Y=r[q],l.hasOwnProperty(q)&&F!==Y&&(F!=null||Y!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,n));break;default:Wt(t,n,q,F,l,Y)}return;default:if(Zr(n)){for(var te in r)F=r[te],r.hasOwnProperty(te)&&F!==void 0&&!l.hasOwnProperty(te)&&id(t,n,te,void 0,l,F);for(X in l)F=l[X],Y=r[X],!l.hasOwnProperty(X)||F===Y||F===void 0&&Y===void 0||id(t,n,X,F,l,Y);return}}for(var z in r)F=r[z],r.hasOwnProperty(z)&&F!=null&&!l.hasOwnProperty(z)&&Wt(t,n,z,null,l,F);for(J in l)F=l[J],Y=r[J],!l.hasOwnProperty(J)||F===Y||F==null&&Y==null||Wt(t,n,J,F,l,Y)}function h0(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function _x(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,r=performance.getEntriesByType("resource"),l=0;l<r.length;l++){var h=r[l],d=h.transferSize,v=h.initiatorType,x=h.duration;if(d&&x&&h0(v)){for(v=0,x=h.responseEnd,l+=1;l<r.length;l++){var I=r[l],q=I.startTime;if(q>x)break;var X=I.transferSize,J=I.initiatorType;X&&h0(J)&&(I=I.responseEnd,v+=X*(I<x?1:(x-q)/(I-q)))}if(--l,n+=8*(d+v)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var ad=null,rd=null;function rc(t){return t.nodeType===9?t:t.ownerDocument}function f0(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function d0(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function sd(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var ld=null;function bx(){var t=window.event;return t&&t.type==="popstate"?t===ld?!1:(ld=t,!0):(ld=null,!1)}var m0=typeof setTimeout=="function"?setTimeout:void 0,Ex=typeof clearTimeout=="function"?clearTimeout:void 0,g0=typeof Promise=="function"?Promise:void 0,xx=typeof queueMicrotask=="function"?queueMicrotask:typeof g0<"u"?function(t){return g0.resolve(null).then(t).catch(Tx)}:m0;function Tx(t){setTimeout(function(){throw t})}function Da(t){return t==="head"}function p0(t,n){var r=n,l=0;do{var h=r.nextSibling;if(t.removeChild(r),h&&h.nodeType===8)if(r=h.data,r==="/$"||r==="/&"){if(l===0){t.removeChild(h),Vs(n);return}l--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")l++;else if(r==="html")io(t.ownerDocument.documentElement);else if(r==="head"){r=t.ownerDocument.head,io(r);for(var d=r.firstChild;d;){var v=d.nextSibling,x=d.nodeName;d[si]||x==="SCRIPT"||x==="STYLE"||x==="LINK"&&d.rel.toLowerCase()==="stylesheet"||r.removeChild(d),d=v}}else r==="body"&&io(t.ownerDocument.body);r=h}while(r);Vs(n)}function y0(t,n){var r=t;t=0;do{var l=r.nextSibling;if(r.nodeType===1?n?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(n?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),l&&l.nodeType===8)if(r=l.data,r==="/$"){if(t===0)break;t--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||t++;r=l}while(r)}function od(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":od(r),Kr(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function Ax(t,n,r,l){for(;t.nodeType===1;){var h=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[si])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=kn(t.nextSibling),t===null)break}return null}function Sx(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=kn(t.nextSibling),t===null))return null;return t}function v0(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=kn(t.nextSibling),t===null))return null;return t}function ud(t){return t.data==="$?"||t.data==="$~"}function cd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function wx(t,n){var r=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||r.readyState!=="loading")n();else{var l=function(){n(),r.removeEventListener("DOMContentLoaded",l)};r.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function kn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var hd=null;function _0(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"||r==="/&"){if(n===0)return kn(t.nextSibling);n--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||n++}t=t.nextSibling}return null}function b0(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(n===0)return t;n--}else r!=="/$"&&r!=="/&"||n++}t=t.previousSibling}return null}function E0(t,n,r){switch(n=rc(r),t){case"html":if(t=n.documentElement,!t)throw Error(s(452));return t;case"head":if(t=n.head,!t)throw Error(s(453));return t;case"body":if(t=n.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function io(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Kr(t)}var Ln=new Map,x0=new Set;function sc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Xi=G.d;G.d={f:Rx,r:Cx,D:Nx,C:Dx,L:Ix,m:Vx,X:Ox,S:Mx,M:jx};function Rx(){var t=Xi.f(),n=Zu();return t||n}function Cx(t){var n=wn(t);n!==null&&n.tag===5&&n.type==="form"?Up(n):Xi.r(t)}var Ns=typeof document>"u"?null:document;function T0(t,n,r){var l=Ns;if(l&&typeof n=="string"&&n){var h=an(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof r=="string"&&(h+='[crossorigin="'+r+'"]'),x0.has(h)||(x0.add(h),t={rel:t,crossOrigin:r,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),Ge(n,"link",t),xe(n),l.head.appendChild(n)))}}function Nx(t){Xi.D(t),T0("dns-prefetch",t,null)}function Dx(t,n){Xi.C(t,n),T0("preconnect",t,n)}function Ix(t,n,r){Xi.L(t,n,r);var l=Ns;if(l&&t&&n){var h='link[rel="preload"][as="'+an(n)+'"]';n==="image"&&r&&r.imageSrcSet?(h+='[imagesrcset="'+an(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(h+='[imagesizes="'+an(r.imageSizes)+'"]')):h+='[href="'+an(t)+'"]';var d=h;switch(n){case"style":d=Ds(t);break;case"script":d=Is(t)}Ln.has(d)||(t=T({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),Ln.set(d,t),l.querySelector(h)!==null||n==="style"&&l.querySelector(ao(d))||n==="script"&&l.querySelector(ro(d))||(n=l.createElement("link"),Ge(n,"link",t),xe(n),l.head.appendChild(n)))}}function Vx(t,n){Xi.m(t,n);var r=Ns;if(r&&t){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+an(l)+'"][href="'+an(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Is(t)}if(!Ln.has(d)&&(t=T({rel:"modulepreload",href:t},n),Ln.set(d,t),r.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(ro(d)))return}l=r.createElement("link"),Ge(l,"link",t),xe(l),r.head.appendChild(l)}}}function Mx(t,n,r){Xi.S(t,n,r);var l=Ns;if(l&&t){var h=oi(l).hoistableStyles,d=Ds(t);n=n||"default";var v=h.get(d);if(!v){var x={loading:0,preload:null};if(v=l.querySelector(ao(d)))x.loading=5;else{t=T({rel:"stylesheet",href:t,"data-precedence":n},r),(r=Ln.get(d))&&fd(t,r);var I=v=l.createElement("link");xe(I),Ge(I,"link",t),I._p=new Promise(function(q,X){I.onload=q,I.onerror=X}),I.addEventListener("load",function(){x.loading|=1}),I.addEventListener("error",function(){x.loading|=2}),x.loading|=4,lc(v,n,l)}v={type:"stylesheet",instance:v,count:1,state:x},h.set(d,v)}}}function Ox(t,n){Xi.X(t,n);var r=Ns;if(r&&t){var l=oi(r).hoistableScripts,h=Is(t),d=l.get(h);d||(d=r.querySelector(ro(h)),d||(t=T({src:t,async:!0},n),(n=Ln.get(h))&&dd(t,n),d=r.createElement("script"),xe(d),Ge(d,"link",t),r.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function jx(t,n){Xi.M(t,n);var r=Ns;if(r&&t){var l=oi(r).hoistableScripts,h=Is(t),d=l.get(h);d||(d=r.querySelector(ro(h)),d||(t=T({src:t,async:!0,type:"module"},n),(n=Ln.get(h))&&dd(t,n),d=r.createElement("script"),xe(d),Ge(d,"link",t),r.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function A0(t,n,r,l){var h=(h=Nt.current)?sc(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=Ds(r.href),r=oi(h).hoistableStyles,l=r.get(n),l||(l={type:"style",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=Ds(r.href);var d=oi(h).hoistableStyles,v=d.get(t);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,v),(d=h.querySelector(ao(t)))&&!d._p&&(v.instance=d,v.state.loading=5),Ln.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Ln.set(t,r),d||kx(h,t,r,v.state))),n&&l===null)throw Error(s(528,""));return v}if(n&&l!==null)throw Error(s(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Is(r),r=oi(h).hoistableScripts,l=r.get(n),l||(l={type:"script",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Ds(t){return'href="'+an(t)+'"'}function ao(t){return'link[rel="stylesheet"]['+t+"]"}function S0(t){return T({},t,{"data-precedence":t.precedence,precedence:null})}function kx(t,n,r,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Ge(n,"link",r),xe(n),t.head.appendChild(n))}function Is(t){return'[src="'+an(t)+'"]'}function ro(t){return"script[async]"+t}function w0(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+an(r.href)+'"]');if(l)return n.instance=l,xe(l),l;var h=T({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),xe(l),Ge(l,"style",h),lc(l,r.precedence,t),n.instance=l;case"stylesheet":h=Ds(r.href);var d=t.querySelector(ao(h));if(d)return n.state.loading|=4,n.instance=d,xe(d),d;l=S0(r),(h=Ln.get(h))&&fd(l,h),d=(t.ownerDocument||t).createElement("link"),xe(d);var v=d;return v._p=new Promise(function(x,I){v.onload=x,v.onerror=I}),Ge(d,"link",l),n.state.loading|=4,lc(d,r.precedence,t),n.instance=d;case"script":return d=Is(r.src),(h=t.querySelector(ro(d)))?(n.instance=h,xe(h),h):(l=r,(h=Ln.get(d))&&(l=T({},r),dd(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),xe(h),Ge(h,"link",l),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,lc(l,r.precedence,t));return n.instance}function lc(t,n,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,v=0;v<l.length;v++){var x=l[v];if(x.dataset.precedence===n)d=x;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function fd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function dd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var oc=null;function R0(t,n,r){if(oc===null){var l=new Map,h=oc=new Map;h.set(r,l)}else h=oc,l=h.get(r),l||(l=new Map,h.set(r,l));if(l.has(t))return l;for(l.set(t,null),r=r.getElementsByTagName(t),h=0;h<r.length;h++){var d=r[h];if(!(d[si]||d[Ee]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(n)||"";v=t+v;var x=l.get(v);x?x.push(d):l.set(v,[d])}}return l}function C0(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function Lx(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function N0(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function zx(t,n,r,l){if(r.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=Ds(l.href),d=n.querySelector(ao(h));if(d){n=d._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=uc.bind(t),n.then(t,t)),r.state.loading|=4,r.instance=d,xe(d);return}d=n.ownerDocument||n,l=S0(l),(h=Ln.get(h))&&fd(l,h),d=d.createElement("link"),xe(d);var v=d;v._p=new Promise(function(x,I){v.onload=x,v.onerror=I}),Ge(d,"link",l),r.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(t.count++,r=uc.bind(t),n.addEventListener("load",r),n.addEventListener("error",r))}}var md=0;function Ux(t,n){return t.stylesheets&&t.count===0&&hc(t,t.stylesheets),0<t.count||0<t.imgCount?function(r){var l=setTimeout(function(){if(t.stylesheets&&hc(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+n);0<t.imgBytes&&md===0&&(md=62500*_x());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&hc(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>md?50:800)+n);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function uc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)hc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var cc=null;function hc(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,cc=new Map,n.forEach(Px,t),cc=null,uc.call(t))}function Px(t,n){if(!(n.state.loading&4)){var r=cc.get(t);if(r)var l=r.get(null);else{r=new Map,cc.set(t,r);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(r.set(v.dataset.precedence,v),l=v)}l&&r.set(null,l)}h=n.instance,v=h.getAttribute("data-precedence"),d=r.get(v)||l,d===l&&r.set(null,h),r.set(v,h),this.count++,l=uc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var so={$$typeof:it,Provider:null,Consumer:null,_currentValue:at,_currentValue2:at,_threadCount:0};function Bx(t,n,r,l,h,d,v,x,I){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ai(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ai(0),this.hiddenUpdates=ai(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function D0(t,n,r,l,h,d,v,x,I,q,X,J){return t=new Bx(t,n,r,v,I,q,X,J,x),n=1,d===!0&&(n|=24),d=gn(3,null,null,n),t.current=d,d.stateNode=t,n=Qh(),n.refCount++,t.pooledCache=n,n.refCount++,d.memoizedState={element:l,isDehydrated:r,cache:n},Xh(d),t}function I0(t){return t?(t=os,t):os}function V0(t,n,r,l,h,d){h=I0(h),l.context===null?l.context=h:l.pendingContext=h,l=_a(n),l.payload={element:r},d=d===void 0?null:d,d!==null&&(l.callback=d),r=ba(t,l,n),r!==null&&(cn(r,t,n),zl(r,t,n))}function M0(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function gd(t,n){M0(t,n),(t=t.alternate)&&M0(t,n)}function O0(t){if(t.tag===13||t.tag===31){var n=pr(t,67108864);n!==null&&cn(n,t,67108864),gd(t,67108864)}}function j0(t){if(t.tag===13||t.tag===31){var n=bn();n=ar(n);var r=pr(t,n);r!==null&&cn(r,t,n),gd(t,n)}}var fc=!0;function qx(t,n,r,l){var h=M.T;M.T=null;var d=G.p;try{G.p=2,pd(t,n,r,l)}finally{G.p=d,M.T=h}}function Hx(t,n,r,l){var h=M.T;M.T=null;var d=G.p;try{G.p=8,pd(t,n,r,l)}finally{G.p=d,M.T=h}}function pd(t,n,r,l){if(fc){var h=yd(l);if(h===null)nd(t,n,l,dc,r),L0(t,l);else if(Gx(h,t,n,r,l))l.stopPropagation();else if(L0(t,l),n&4&&-1<Fx.indexOf(t)){for(;h!==null;){var d=wn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=ni(d.pendingLanes);if(v!==0){var x=d;for(x.pendingLanes|=2,x.entangledLanes|=2;v;){var I=1<<31-me(v);x.entanglements[1]|=I,v&=~I}Ei(d),(Qt&6)===0&&($u=We()+500,to(0))}}break;case 31:case 13:x=pr(d,2),x!==null&&cn(x,d,2),Zu(),gd(d,2)}if(d=yd(l),d===null&&nd(t,n,l,dc,r),d===h)break;h=d}h!==null&&l.stopPropagation()}else nd(t,n,l,null,r)}}function yd(t){return t=Rn(t),vd(t)}var dc=null;function vd(t){if(dc=null,t=li(t),t!==null){var n=u(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=f(n),t!==null)return t;t=null}else if(r===31){if(t=m(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return dc=t,null}function k0(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(tr()){case ul:return 2;case cl:return 8;case aa:case Th:return 32;case Go:return 268435456;default:return 32}default:return 32}}var _d=!1,Ia=null,Va=null,Ma=null,lo=new Map,oo=new Map,Oa=[],Fx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function L0(t,n){switch(t){case"focusin":case"focusout":Ia=null;break;case"dragenter":case"dragleave":Va=null;break;case"mouseover":case"mouseout":Ma=null;break;case"pointerover":case"pointerout":lo.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":oo.delete(n.pointerId)}}function uo(t,n,r,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:n,domEventName:r,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},n!==null&&(n=wn(n),n!==null&&O0(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function Gx(t,n,r,l,h){switch(n){case"focusin":return Ia=uo(Ia,t,n,r,l,h),!0;case"dragenter":return Va=uo(Va,t,n,r,l,h),!0;case"mouseover":return Ma=uo(Ma,t,n,r,l,h),!0;case"pointerover":var d=h.pointerId;return lo.set(d,uo(lo.get(d)||null,t,n,r,l,h)),!0;case"gotpointercapture":return d=h.pointerId,oo.set(d,uo(oo.get(d)||null,t,n,r,l,h)),!0}return!1}function z0(t){var n=li(t.target);if(n!==null){var r=u(n);if(r!==null){if(n=r.tag,n===13){if(n=f(r),n!==null){t.blockedOn=n,qn(t.priority,function(){j0(r)});return}}else if(n===31){if(n=m(r),n!==null){t.blockedOn=n,qn(t.priority,function(){j0(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function mc(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=yd(t.nativeEvent);if(r===null){r=t.nativeEvent;var l=new r.constructor(r.type,r);xl=l,r.target.dispatchEvent(l),xl=null}else return n=wn(r),n!==null&&O0(n),t.blockedOn=r,!1;n.shift()}return!0}function U0(t,n,r){mc(t)&&r.delete(n)}function Qx(){_d=!1,Ia!==null&&mc(Ia)&&(Ia=null),Va!==null&&mc(Va)&&(Va=null),Ma!==null&&mc(Ma)&&(Ma=null),lo.forEach(U0),oo.forEach(U0)}function gc(t,n){t.blockedOn===n&&(t.blockedOn=null,_d||(_d=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Qx)))}var pc=null;function P0(t){pc!==t&&(pc=t,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){pc===t&&(pc=null);for(var n=0;n<t.length;n+=3){var r=t[n],l=t[n+1],h=t[n+2];if(typeof l!="function"){if(vd(l||r)===null)continue;break}var d=wn(r);d!==null&&(t.splice(n,3),n-=3,yf(d,{pending:!0,data:h,method:r.method,action:l},l,h))}}))}function Vs(t){function n(I){return gc(I,t)}Ia!==null&&gc(Ia,t),Va!==null&&gc(Va,t),Ma!==null&&gc(Ma,t),lo.forEach(n),oo.forEach(n);for(var r=0;r<Oa.length;r++){var l=Oa[r];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Oa.length&&(r=Oa[0],r.blockedOn===null);)z0(r),r.blockedOn===null&&Oa.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var h=r[l],d=r[l+1],v=h[ke]||null;if(typeof d=="function")v||P0(r);else if(v){var x=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[ke]||null)x=v.formAction;else if(vd(h)!==null)continue}else x=v.action;typeof x=="function"?r[l+1]=x:(r.splice(l,3),l-=3),P0(r)}}}function B0(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(v){return h=v})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),l||setTimeout(r,20)}function r(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(r,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function bd(t){this._internalRoot=t}yc.prototype.render=bd.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(s(409));var r=n.current,l=bn();V0(r,l,t,n,null,null)},yc.prototype.unmount=bd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;V0(t.current,2,null,t,null,null),Zu(),n[ri]=null}};function yc(t){this._internalRoot=t}yc.prototype.unstable_scheduleHydration=function(t){if(t){var n=Zo();t={blockedOn:null,target:t,priority:n};for(var r=0;r<Oa.length&&n!==0&&n<Oa[r].priority;r++);Oa.splice(r,0,t),r===0&&z0(t)}};var q0=e.version;if(q0!=="19.2.3")throw Error(s(527,q0,"19.2.3"));G.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=y(n),t=t!==null?E(t):null,t=t===null?null:t.stateNode,t};var Yx={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:M,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vc.isDisabled&&vc.supportsFiber)try{Pn=vc.inject(Yx),Pe=vc}catch{}}return ho.createRoot=function(t,n){if(!o(t))throw Error(s(299));var r=!1,l="",h=$p,d=Xp,v=Zp;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(d=n.onCaughtError),n.onRecoverableError!==void 0&&(v=n.onRecoverableError)),n=D0(t,1,!1,null,null,r,l,null,h,d,v,B0),t[ri]=n.current,ed(t),new bd(n)},ho.hydrateRoot=function(t,n,r){if(!o(t))throw Error(s(299));var l=!1,h="",d=$p,v=Xp,x=Zp,I=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(d=r.onUncaughtError),r.onCaughtError!==void 0&&(v=r.onCaughtError),r.onRecoverableError!==void 0&&(x=r.onRecoverableError),r.formState!==void 0&&(I=r.formState)),n=D0(t,1,!0,n,r??null,l,h,I,d,v,x,B0),n.context=I0(null),r=n.current,l=bn(),l=ar(l),h=_a(l),h.callback=null,ba(r,h,l),r=l,n.current.lanes=r,nr(n,r),Ei(n),t[ri]=n.current,ed(t),new yc(n)},ho.version="19.2.3",ho}var J0;function iT(){if(J0)return Td.exports;J0=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),Td.exports=nT(),Td.exports}var aT=iT();const rT=C_(aT);/**
 * react-router v7.12.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var W0="popstate";function sT(a={}){function e(o,u){let{pathname:f="/",search:m="",hash:p=""}=Lr(o.location.hash.substring(1));return!f.startsWith("/")&&!f.startsWith(".")&&(f="/"+f),Hd("",{pathname:f,search:m,hash:p},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function i(o,u){let f=o.document.querySelector("base"),m="";if(f&&f.getAttribute("href")){let p=o.location.href,y=p.indexOf("#");m=y===-1?p:p.slice(0,y)}return m+"#"+(typeof u=="string"?u:Ao(u))}function s(o,u){Tn(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return oT(e,i,s,a)}function ue(a,e){if(a===!1||a===null||typeof a>"u")throw new Error(e)}function Tn(a,e){if(!a){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function lT(){return Math.random().toString(36).substring(2,10)}function tv(a,e){return{usr:a.state,key:a.key,idx:e}}function Hd(a,e,i=null,s){return{pathname:typeof a=="string"?a:a.pathname,search:"",hash:"",...typeof e=="string"?Lr(e):e,state:i,key:e&&e.key||s||lT()}}function Ao({pathname:a="/",search:e="",hash:i=""}){return e&&e!=="?"&&(a+=e.charAt(0)==="?"?e:"?"+e),i&&i!=="#"&&(a+=i.charAt(0)==="#"?i:"#"+i),a}function Lr(a){let e={};if(a){let i=a.indexOf("#");i>=0&&(e.hash=a.substring(i),a=a.substring(0,i));let s=a.indexOf("?");s>=0&&(e.search=a.substring(s),a=a.substring(0,s)),a&&(e.pathname=a)}return e}function oT(a,e,i,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",p=null,y=E();y==null&&(y=0,f.replaceState({...f.state,idx:y},""));function E(){return(f.state||{idx:null}).idx}function T(){m="POP";let H=E(),st=H==null?null:H-y;y=H,p&&p({action:m,location:$.location,delta:st})}function S(H,st){m="PUSH";let rt=Hd($.location,H,st);i&&i(rt,H),y=E()+1;let it=tv(rt,y),mt=$.createHref(rt);try{f.pushState(it,"",mt)}catch(bt){if(bt instanceof DOMException&&bt.name==="DataCloneError")throw bt;o.location.assign(mt)}u&&p&&p({action:m,location:$.location,delta:1})}function L(H,st){m="REPLACE";let rt=Hd($.location,H,st);i&&i(rt,H),y=E();let it=tv(rt,y),mt=$.createHref(rt);f.replaceState(it,"",mt),u&&p&&p({action:m,location:$.location,delta:0})}function K(H){return uT(H)}let $={get action(){return m},get location(){return a(o,f)},listen(H){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(W0,T),p=H,()=>{o.removeEventListener(W0,T),p=null}},createHref(H){return e(o,H)},createURL:K,encodeLocation(H){let st=K(H);return{pathname:st.pathname,search:st.search,hash:st.hash}},push:S,replace:L,go(H){return f.go(H)}};return $}function uT(a,e=!1){let i="http://localhost";typeof window<"u"&&(i=window.location.origin!=="null"?window.location.origin:window.location.href),ue(i,"No window.location.(origin|href) available to create URL");let s=typeof a=="string"?a:Ao(a);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=i+s),new URL(s,i)}function N_(a,e,i="/"){return cT(a,e,i,!1)}function cT(a,e,i,s){let o=typeof e=="string"?Lr(e):e,u=Ji(o.pathname||"/",i);if(u==null)return null;let f=D_(a);hT(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let y=xT(u);m=bT(f[p],y,s)}return m}function D_(a,e=[],i=[],s="",o=!1){let u=(f,m,p=o,y)=>{let E={relativePath:y===void 0?f.path||"":y,caseSensitive:f.caseSensitive===!0,childrenIndex:m,route:f};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(s)&&p)return;ue(E.relativePath.startsWith(s),`Absolute route path "${E.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(s.length)}let T=Zi([s,E.relativePath]),S=i.concat(E);f.children&&f.children.length>0&&(ue(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${T}".`),D_(f.children,e,S,T,p)),!(f.path==null&&!f.index)&&e.push({path:T,score:vT(T,f.index),routesMeta:S})};return a.forEach((f,m)=>{var p;if(f.path===""||!((p=f.path)!=null&&p.includes("?")))u(f,m);else for(let y of I_(f.path))u(f,m,!0,y)}),e}function I_(a){let e=a.split("/");if(e.length===0)return[];let[i,...s]=e,o=i.endsWith("?"),u=i.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=I_(s.join("/")),m=[];return m.push(...f.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...f),m.map(p=>a.startsWith("/")&&p===""?"/":p)}function hT(a){a.sort((e,i)=>e.score!==i.score?i.score-e.score:_T(e.routesMeta.map(s=>s.childrenIndex),i.routesMeta.map(s=>s.childrenIndex)))}var fT=/^:[\w-]+$/,dT=3,mT=2,gT=1,pT=10,yT=-2,ev=a=>a==="*";function vT(a,e){let i=a.split("/"),s=i.length;return i.some(ev)&&(s+=yT),e&&(s+=mT),i.filter(o=>!ev(o)).reduce((o,u)=>o+(fT.test(u)?dT:u===""?gT:pT),s)}function _T(a,e){return a.length===e.length&&a.slice(0,-1).every((s,o)=>s===e[o])?a[a.length-1]-e[e.length-1]:0}function bT(a,e,i=!1){let{routesMeta:s}=a,o={},u="/",f=[];for(let m=0;m<s.length;++m){let p=s[m],y=m===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",T=Lc({path:p.relativePath,caseSensitive:p.caseSensitive,end:y},E),S=p.route;if(!T&&y&&i&&!s[s.length-1].route.index&&(T=Lc({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!T)return null;Object.assign(o,T.params),f.push({params:o,pathname:Zi([u,T.pathname]),pathnameBase:wT(Zi([u,T.pathnameBase])),route:S}),T.pathnameBase!=="/"&&(u=Zi([u,T.pathnameBase]))}return f}function Lc(a,e){typeof a=="string"&&(a={path:a,caseSensitive:!1,end:!0});let[i,s]=ET(a.path,a.caseSensitive,a.end),o=e.match(i);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((y,{paramName:E,isOptional:T},S)=>{if(E==="*"){let K=m[S]||"";f=u.slice(0,u.length-K.length).replace(/(.)\/+$/,"$1")}const L=m[S];return T&&!L?y[E]=void 0:y[E]=(L||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:f,pattern:a}}function ET(a,e=!1,i=!0){Tn(a==="*"||!a.endsWith("*")||a.endsWith("/*"),`Route path "${a}" will be treated as if it were "${a.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${a.replace(/\*$/,"/*")}".`);let s=[],o="^"+a.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return a.endsWith("*")?(s.push({paramName:"*"}),o+=a==="*"||a==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?o+="\\/*$":a!==""&&a!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function xT(a){try{return a.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Tn(!1,`The URL path "${a}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),a}}function Ji(a,e){if(e==="/")return a;if(!a.toLowerCase().startsWith(e.toLowerCase()))return null;let i=e.endsWith("/")?e.length-1:e.length,s=a.charAt(i);return s&&s!=="/"?null:a.slice(i)||"/"}var V_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,TT=a=>V_.test(a);function AT(a,e="/"){let{pathname:i,search:s="",hash:o=""}=typeof a=="string"?Lr(a):a,u;if(i)if(TT(i))u=i;else{if(i.includes("//")){let f=i;i=i.replace(/\/\/+/g,"/"),Tn(!1,`Pathnames cannot have embedded double slashes - normalizing ${f} -> ${i}`)}i.startsWith("/")?u=nv(i.substring(1),"/"):u=nv(i,e)}else u=e;return{pathname:u,search:RT(s),hash:CT(o)}}function nv(a,e){let i=e.replace(/\/+$/,"").split("/");return a.split("/").forEach(o=>{o===".."?i.length>1&&i.pop():o!=="."&&i.push(o)}),i.length>1?i.join("/"):"/"}function Rd(a,e,i,s){return`Cannot include a '${a}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function ST(a){return a.filter((e,i)=>i===0||e.route.path&&e.route.path.length>0)}function vm(a){let e=ST(a);return e.map((i,s)=>s===e.length-1?i.pathname:i.pathnameBase)}function _m(a,e,i,s=!1){let o;typeof a=="string"?o=Lr(a):(o={...a},ue(!o.pathname||!o.pathname.includes("?"),Rd("?","pathname","search",o)),ue(!o.pathname||!o.pathname.includes("#"),Rd("#","pathname","hash",o)),ue(!o.search||!o.search.includes("#"),Rd("#","search","hash",o)));let u=a===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=i;else{let T=e.length-1;if(!s&&f.startsWith("..")){let S=f.split("/");for(;S[0]==="..";)S.shift(),T-=1;o.pathname=S.join("/")}m=T>=0?e[T]:"/"}let p=AT(o,m),y=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&i.endsWith("/");return!p.pathname.endsWith("/")&&(y||E)&&(p.pathname+="/"),p}var Zi=a=>a.join("/").replace(/\/\/+/g,"/"),wT=a=>a.replace(/\/+$/,"").replace(/^\/*/,"/"),RT=a=>!a||a==="?"?"":a.startsWith("?")?a:"?"+a,CT=a=>!a||a==="#"?"":a.startsWith("#")?a:"#"+a,NT=class{constructor(a,e,i,s=!1){this.status=a,this.statusText=e||"",this.internal=s,i instanceof Error?(this.data=i.toString(),this.error=i):this.data=i}};function DT(a){return a!=null&&typeof a.status=="number"&&typeof a.statusText=="string"&&typeof a.internal=="boolean"&&"data"in a}function IT(a){return a.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var M_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function O_(a,e){let i=a;if(typeof i!="string"||!V_.test(i))return{absoluteURL:void 0,isExternal:!1,to:i};let s=i,o=!1;if(M_)try{let u=new URL(window.location.href),f=i.startsWith("//")?new URL(u.protocol+i):new URL(i),m=Ji(f.pathname,e);f.origin===u.origin&&m!=null?i=m+f.search+f.hash:o=!0}catch{Tn(!1,`<Link to="${i}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:o,to:i}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var j_=["POST","PUT","PATCH","DELETE"];new Set(j_);var VT=["GET",...j_];new Set(VT);var Js=U.createContext(null);Js.displayName="DataRouter";var th=U.createContext(null);th.displayName="DataRouterState";var MT=U.createContext(!1),k_=U.createContext({isTransitioning:!1});k_.displayName="ViewTransition";var OT=U.createContext(new Map);OT.displayName="Fetchers";var jT=U.createContext(null);jT.displayName="Await";var An=U.createContext(null);An.displayName="Navigation";var jo=U.createContext(null);jo.displayName="Location";var Ii=U.createContext({outlet:null,matches:[],isDataRoute:!1});Ii.displayName="Route";var bm=U.createContext(null);bm.displayName="RouteError";var L_="REACT_ROUTER_ERROR",kT="REDIRECT",LT="ROUTE_ERROR_RESPONSE";function zT(a){if(a.startsWith(`${L_}:${kT}:{`))try{let e=JSON.parse(a.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function UT(a){if(a.startsWith(`${L_}:${LT}:{`))try{let e=JSON.parse(a.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new NT(e.status,e.statusText,e.data)}catch{}}function PT(a,{relative:e}={}){ue(Ws(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:s}=U.useContext(An),{hash:o,pathname:u,search:f}=ko(a,{relative:e}),m=u;return i!=="/"&&(m=u==="/"?i:Zi([i,u])),s.createHref({pathname:m,search:f,hash:o})}function Ws(){return U.useContext(jo)!=null}function $a(){return ue(Ws(),"useLocation() may be used only in the context of a <Router> component."),U.useContext(jo).location}var z_="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function U_(a){U.useContext(An).static||U.useLayoutEffect(a)}function P_(){let{isDataRoute:a}=U.useContext(Ii);return a?WT():BT()}function BT(){ue(Ws(),"useNavigate() may be used only in the context of a <Router> component.");let a=U.useContext(Js),{basename:e,navigator:i}=U.useContext(An),{matches:s}=U.useContext(Ii),{pathname:o}=$a(),u=JSON.stringify(vm(s)),f=U.useRef(!1);return U_(()=>{f.current=!0}),U.useCallback((p,y={})=>{if(Tn(f.current,z_),!f.current)return;if(typeof p=="number"){i.go(p);return}let E=_m(p,JSON.parse(u),o,y.relative==="path");a==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:Zi([e,E.pathname])),(y.replace?i.replace:i.push)(E,y.state,y)},[e,i,u,o,a])}U.createContext(null);function ko(a,{relative:e}={}){let{matches:i}=U.useContext(Ii),{pathname:s}=$a(),o=JSON.stringify(vm(i));return U.useMemo(()=>_m(a,JSON.parse(o),s,e==="path"),[a,o,s,e])}function qT(a,e){return B_(a,e)}function B_(a,e,i,s,o){var rt;ue(Ws(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=U.useContext(An),{matches:f}=U.useContext(Ii),m=f[f.length-1],p=m?m.params:{},y=m?m.pathname:"/",E=m?m.pathnameBase:"/",T=m&&m.route;{let it=T&&T.path||"";H_(y,!T||it.endsWith("*")||it.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${it}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${it}"> to <Route path="${it==="/"?"*":`${it}/*`}">.`)}let S=$a(),L;if(e){let it=typeof e=="string"?Lr(e):e;ue(E==="/"||((rt=it.pathname)==null?void 0:rt.startsWith(E)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${it.pathname}" was given in the \`location\` prop.`),L=it}else L=S;let K=L.pathname||"/",$=K;if(E!=="/"){let it=E.replace(/^\//,"").split("/");$="/"+K.replace(/^\//,"").split("/").slice(it.length).join("/")}let H=N_(a,{pathname:$});Tn(T||H!=null,`No routes matched location "${L.pathname}${L.search}${L.hash}" `),Tn(H==null||H[H.length-1].route.element!==void 0||H[H.length-1].route.Component!==void 0||H[H.length-1].route.lazy!==void 0,`Matched leaf route at location "${L.pathname}${L.search}${L.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let st=YT(H&&H.map(it=>Object.assign({},it,{params:Object.assign({},p,it.params),pathname:Zi([E,u.encodeLocation?u.encodeLocation(it.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:it.pathname]),pathnameBase:it.pathnameBase==="/"?E:Zi([E,u.encodeLocation?u.encodeLocation(it.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:it.pathnameBase])})),f,i,s,o);return e&&st?U.createElement(jo.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...L},navigationType:"POP"}},st):st}function HT(){let a=JT(),e=DT(a)?`${a.status} ${a.statusText}`:a instanceof Error?a.message:JSON.stringify(a),i=a instanceof Error?a.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",a),f=U.createElement(U.Fragment,null,U.createElement("p",null," Hey developer "),U.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",U.createElement("code",{style:u},"ErrorBoundary")," or"," ",U.createElement("code",{style:u},"errorElement")," prop on your route.")),U.createElement(U.Fragment,null,U.createElement("h2",null,"Unexpected Application Error!"),U.createElement("h3",{style:{fontStyle:"italic"}},e),i?U.createElement("pre",{style:o},i):null,f)}var FT=U.createElement(HT,null),q_=class extends U.Component{constructor(a){super(a),this.state={location:a.location,revalidation:a.revalidation,error:a.error}}static getDerivedStateFromError(a){return{error:a}}static getDerivedStateFromProps(a,e){return e.location!==a.location||e.revalidation!=="idle"&&a.revalidation==="idle"?{error:a.error,location:a.location,revalidation:a.revalidation}:{error:a.error!==void 0?a.error:e.error,location:e.location,revalidation:a.revalidation||e.revalidation}}componentDidCatch(a,e){this.props.onError?this.props.onError(a,e):console.error("React Router caught the following error during render",a)}render(){let a=this.state.error;if(this.context&&typeof a=="object"&&a&&"digest"in a&&typeof a.digest=="string"){const i=UT(a.digest);i&&(a=i)}let e=a!==void 0?U.createElement(Ii.Provider,{value:this.props.routeContext},U.createElement(bm.Provider,{value:a,children:this.props.component})):this.props.children;return this.context?U.createElement(GT,{error:a},e):e}};q_.contextType=MT;var Cd=new WeakMap;function GT({children:a,error:e}){let{basename:i}=U.useContext(An);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let s=zT(e.digest);if(s){let o=Cd.get(e);if(o)throw o;let u=O_(s.location,i);if(M_&&!Cd.get(e))if(u.isExternal||s.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const f=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:s.replace}));throw Cd.set(e,f),f}return U.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return a}function QT({routeContext:a,match:e,children:i}){let s=U.useContext(Js);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),U.createElement(Ii.Provider,{value:a},i)}function YT(a,e=[],i=null,s=null,o=null){if(a==null){if(!i)return null;if(i.errors)a=i.matches;else if(e.length===0&&!i.initialized&&i.matches.length>0)a=i.matches;else return null}let u=a,f=i==null?void 0:i.errors;if(f!=null){let E=u.findIndex(T=>T.route.id&&(f==null?void 0:f[T.route.id])!==void 0);ue(E>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),u=u.slice(0,Math.min(u.length,E+1))}let m=!1,p=-1;if(i)for(let E=0;E<u.length;E++){let T=u[E];if((T.route.HydrateFallback||T.route.hydrateFallbackElement)&&(p=E),T.route.id){let{loaderData:S,errors:L}=i,K=T.route.loader&&!S.hasOwnProperty(T.route.id)&&(!L||L[T.route.id]===void 0);if(T.route.lazy||K){m=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}let y=i&&s?(E,T)=>{var S,L;s(E,{location:i.location,params:((L=(S=i.matches)==null?void 0:S[0])==null?void 0:L.params)??{},unstable_pattern:IT(i.matches),errorInfo:T})}:void 0;return u.reduceRight((E,T,S)=>{let L,K=!1,$=null,H=null;i&&(L=f&&T.route.id?f[T.route.id]:void 0,$=T.route.errorElement||FT,m&&(p<0&&S===0?(H_("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),K=!0,H=null):p===S&&(K=!0,H=T.route.hydrateFallbackElement||null)));let st=e.concat(u.slice(0,S+1)),rt=()=>{let it;return L?it=$:K?it=H:T.route.Component?it=U.createElement(T.route.Component,null):T.route.element?it=T.route.element:it=E,U.createElement(QT,{match:T,routeContext:{outlet:E,matches:st,isDataRoute:i!=null},children:it})};return i&&(T.route.ErrorBoundary||T.route.errorElement||S===0)?U.createElement(q_,{location:i.location,revalidation:i.revalidation,component:$,error:L,children:rt(),routeContext:{outlet:null,matches:st,isDataRoute:!0},onError:y}):rt()},null)}function Em(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function KT(a){let e=U.useContext(Js);return ue(e,Em(a)),e}function $T(a){let e=U.useContext(th);return ue(e,Em(a)),e}function XT(a){let e=U.useContext(Ii);return ue(e,Em(a)),e}function xm(a){let e=XT(a),i=e.matches[e.matches.length-1];return ue(i.route.id,`${a} can only be used on routes that contain a unique "id"`),i.route.id}function ZT(){return xm("useRouteId")}function JT(){var s;let a=U.useContext(bm),e=$T("useRouteError"),i=xm("useRouteError");return a!==void 0?a:(s=e.errors)==null?void 0:s[i]}function WT(){let{router:a}=KT("useNavigate"),e=xm("useNavigate"),i=U.useRef(!1);return U_(()=>{i.current=!0}),U.useCallback(async(o,u={})=>{Tn(i.current,z_),i.current&&(typeof o=="number"?await a.navigate(o):await a.navigate(o,{fromRouteId:e,...u}))},[a,e])}var iv={};function H_(a,e,i){!e&&!iv[a]&&(iv[a]=!0,Tn(!1,i))}U.memo(t2);function t2({routes:a,future:e,state:i,onError:s}){return B_(a,void 0,i,s,e)}function e2({to:a,replace:e,state:i,relative:s}){ue(Ws(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=U.useContext(An);Tn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=U.useContext(Ii),{pathname:f}=$a(),m=P_(),p=_m(a,vm(u),f,s==="path"),y=JSON.stringify(p);return U.useEffect(()=>{m(JSON.parse(y),{replace:e,state:i,relative:s})},[m,y,s,e,i]),null}function mo(a){ue(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function n2({basename:a="/",children:e=null,location:i,navigationType:s="POP",navigator:o,static:u=!1,unstable_useTransitions:f}){ue(!Ws(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=a.replace(/^\/*/,"/"),p=U.useMemo(()=>({basename:m,navigator:o,static:u,unstable_useTransitions:f,future:{}}),[m,o,u,f]);typeof i=="string"&&(i=Lr(i));let{pathname:y="/",search:E="",hash:T="",state:S=null,key:L="default"}=i,K=U.useMemo(()=>{let $=Ji(y,m);return $==null?null:{location:{pathname:$,search:E,hash:T,state:S,key:L},navigationType:s}},[m,y,E,T,S,L,s]);return Tn(K!=null,`<Router basename="${m}"> is not able to match the URL "${y}${E}${T}" because it does not start with the basename, so the <Router> won't render anything.`),K==null?null:U.createElement(An.Provider,{value:p},U.createElement(jo.Provider,{children:e,value:K}))}function i2({children:a,location:e}){return qT(Fd(a),e)}function Fd(a,e=[]){let i=[];return U.Children.forEach(a,(s,o)=>{if(!U.isValidElement(s))return;let u=[...e,o];if(s.type===U.Fragment){i.push.apply(i,Fd(s.props.children,u));return}ue(s.type===mo,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ue(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=Fd(s.props.children,u)),i.push(f)}),i}var Cc="get",Nc="application/x-www-form-urlencoded";function eh(a){return typeof HTMLElement<"u"&&a instanceof HTMLElement}function a2(a){return eh(a)&&a.tagName.toLowerCase()==="button"}function r2(a){return eh(a)&&a.tagName.toLowerCase()==="form"}function s2(a){return eh(a)&&a.tagName.toLowerCase()==="input"}function l2(a){return!!(a.metaKey||a.altKey||a.ctrlKey||a.shiftKey)}function o2(a,e){return a.button===0&&(!e||e==="_self")&&!l2(a)}var _c=null;function u2(){if(_c===null)try{new FormData(document.createElement("form"),0),_c=!1}catch{_c=!0}return _c}var c2=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Nd(a){return a!=null&&!c2.has(a)?(Tn(!1,`"${a}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Nc}"`),null):a}function h2(a,e){let i,s,o,u,f;if(r2(a)){let m=a.getAttribute("action");s=m?Ji(m,e):null,i=a.getAttribute("method")||Cc,o=Nd(a.getAttribute("enctype"))||Nc,u=new FormData(a)}else if(a2(a)||s2(a)&&(a.type==="submit"||a.type==="image")){let m=a.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=a.getAttribute("formaction")||m.getAttribute("action");if(s=p?Ji(p,e):null,i=a.getAttribute("formmethod")||m.getAttribute("method")||Cc,o=Nd(a.getAttribute("formenctype"))||Nd(m.getAttribute("enctype"))||Nc,u=new FormData(m,a),!u2()){let{name:y,type:E,value:T}=a;if(E==="image"){let S=y?`${y}.`:"";u.append(`${S}x`,"0"),u.append(`${S}y`,"0")}else y&&u.append(y,T)}}else{if(eh(a))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=Cc,s=null,o=Nc,f=a}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:i.toLowerCase(),encType:o,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Tm(a,e){if(a===!1||a===null||typeof a>"u")throw new Error(e)}function f2(a,e,i,s){let o=typeof a=="string"?new URL(a,typeof window>"u"?"server://singlefetch/":window.location.origin):a;return i?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${s}`:o.pathname=`${o.pathname}.${s}`:o.pathname==="/"?o.pathname=`_root.${s}`:e&&Ji(o.pathname,e)==="/"?o.pathname=`${e.replace(/\/$/,"")}/_root.${s}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${s}`,o}async function d2(a,e){if(a.id in e)return e[a.id];try{let i=await import(a.module);return e[a.id]=i,i}catch(i){return console.error(`Error loading route module \`${a.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function m2(a){return a==null?!1:a.href==null?a.rel==="preload"&&typeof a.imageSrcSet=="string"&&typeof a.imageSizes=="string":typeof a.rel=="string"&&typeof a.href=="string"}async function g2(a,e,i){let s=await Promise.all(a.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await d2(u,i);return f.links?f.links():[]}return[]}));return _2(s.flat(1).filter(m2).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function av(a,e,i,s,o,u){let f=(p,y)=>i[y]?p.route.id!==i[y].route.id:!0,m=(p,y)=>{var E;return i[y].pathname!==p.pathname||((E=i[y].route.path)==null?void 0:E.endsWith("*"))&&i[y].params["*"]!==p.params["*"]};return u==="assets"?e.filter((p,y)=>f(p,y)||m(p,y)):u==="data"?e.filter((p,y)=>{var T;let E=s.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(f(p,y)||m(p,y))return!0;if(p.route.shouldRevalidate){let S=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((T=i[0])==null?void 0:T.params)||{},nextUrl:new URL(a,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function p2(a,e,{includeHydrateFallback:i}={}){return y2(a.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),i&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function y2(a){return[...new Set(a)]}function v2(a){let e={},i=Object.keys(a).sort();for(let s of i)e[s]=a[s];return e}function _2(a,e){let i=new Set;return new Set(e),a.reduce((s,o)=>{let u=JSON.stringify(v2(o));return i.has(u)||(i.add(u),s.push({key:u,link:o})),s},[])}function F_(){let a=U.useContext(Js);return Tm(a,"You must render this element inside a <DataRouterContext.Provider> element"),a}function b2(){let a=U.useContext(th);return Tm(a,"You must render this element inside a <DataRouterStateContext.Provider> element"),a}var Am=U.createContext(void 0);Am.displayName="FrameworkContext";function G_(){let a=U.useContext(Am);return Tm(a,"You must render this element inside a <HydratedRouter> element"),a}function E2(a,e){let i=U.useContext(Am),[s,o]=U.useState(!1),[u,f]=U.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:y,onMouseLeave:E,onTouchStart:T}=e,S=U.useRef(null);U.useEffect(()=>{if(a==="render"&&f(!0),a==="viewport"){let $=st=>{st.forEach(rt=>{f(rt.isIntersecting)})},H=new IntersectionObserver($,{threshold:.5});return S.current&&H.observe(S.current),()=>{H.disconnect()}}},[a]),U.useEffect(()=>{if(s){let $=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout($)}}},[s]);let L=()=>{o(!0)},K=()=>{o(!1),f(!1)};return i?a!=="intent"?[u,S,{}]:[u,S,{onFocus:fo(m,L),onBlur:fo(p,K),onMouseEnter:fo(y,L),onMouseLeave:fo(E,K),onTouchStart:fo(T,L)}]:[!1,S,{}]}function fo(a,e){return i=>{a&&a(i),i.defaultPrevented||e(i)}}function x2({page:a,...e}){let{router:i}=F_(),s=U.useMemo(()=>N_(i.routes,a,i.basename),[i.routes,a,i.basename]);return s?U.createElement(A2,{page:a,matches:s,...e}):null}function T2(a){let{manifest:e,routeModules:i}=G_(),[s,o]=U.useState([]);return U.useEffect(()=>{let u=!1;return g2(a,e,i).then(f=>{u||o(f)}),()=>{u=!0}},[a,e,i]),s}function A2({page:a,matches:e,...i}){let s=$a(),{future:o,manifest:u,routeModules:f}=G_(),{basename:m}=F_(),{loaderData:p,matches:y}=b2(),E=U.useMemo(()=>av(a,e,y,u,s,"data"),[a,e,y,u,s]),T=U.useMemo(()=>av(a,e,y,u,s,"assets"),[a,e,y,u,s]),S=U.useMemo(()=>{if(a===s.pathname+s.search+s.hash)return[];let $=new Set,H=!1;if(e.forEach(rt=>{var mt;let it=u.routes[rt.route.id];!it||!it.hasLoader||(!E.some(bt=>bt.route.id===rt.route.id)&&rt.route.id in p&&((mt=f[rt.route.id])!=null&&mt.shouldRevalidate)||it.hasClientLoader?H=!0:$.add(rt.route.id))}),$.size===0)return[];let st=f2(a,m,o.unstable_trailingSlashAwareDataRequests,"data");return H&&$.size>0&&st.searchParams.set("_routes",e.filter(rt=>$.has(rt.route.id)).map(rt=>rt.route.id).join(",")),[st.pathname+st.search]},[m,o.unstable_trailingSlashAwareDataRequests,p,s,u,E,e,a,f]),L=U.useMemo(()=>p2(T,u),[T,u]),K=T2(T);return U.createElement(U.Fragment,null,S.map($=>U.createElement("link",{key:$,rel:"prefetch",as:"fetch",href:$,...i})),L.map($=>U.createElement("link",{key:$,rel:"modulepreload",href:$,...i})),K.map(({key:$,link:H})=>U.createElement("link",{key:$,nonce:i.nonce,...H})))}function S2(...a){return e=>{a.forEach(i=>{typeof i=="function"?i(e):i!=null&&(i.current=e)})}}var w2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{w2&&(window.__reactRouterVersion="7.12.0")}catch{}function R2({basename:a,children:e,unstable_useTransitions:i,window:s}){let o=U.useRef();o.current==null&&(o.current=sT({window:s,v5Compat:!0}));let u=o.current,[f,m]=U.useState({action:u.action,location:u.location}),p=U.useCallback(y=>{i===!1?m(y):U.startTransition(()=>m(y))},[i]);return U.useLayoutEffect(()=>u.listen(p),[u,p]),U.createElement(n2,{basename:a,children:e,location:f.location,navigationType:f.action,navigator:u,unstable_useTransitions:i})}var Q_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Y_=U.forwardRef(function({onClick:e,discover:i="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:p,to:y,preventScrollReset:E,viewTransition:T,unstable_defaultShouldRevalidate:S,...L},K){let{basename:$,unstable_useTransitions:H}=U.useContext(An),st=typeof y=="string"&&Q_.test(y),rt=O_(y,$);y=rt.to;let it=PT(y,{relative:o}),[mt,bt,_t]=E2(s,L),N=D2(y,{replace:f,state:m,target:p,preventScrollReset:E,relative:o,viewTransition:T,unstable_defaultShouldRevalidate:S,unstable_useTransitions:H});function w(O){e&&e(O),O.defaultPrevented||N(O)}let C=U.createElement("a",{...L,..._t,href:rt.absoluteURL||it,onClick:rt.isExternal||u?e:w,ref:S2(K,bt),target:p,"data-discover":!st&&i==="render"?"true":void 0});return mt&&!st?U.createElement(U.Fragment,null,C,U.createElement(x2,{page:it})):C});Y_.displayName="Link";var Gd=U.forwardRef(function({"aria-current":e="page",caseSensitive:i=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:p,...y},E){let T=ko(f,{relative:y.relative}),S=$a(),L=U.useContext(th),{navigator:K,basename:$}=U.useContext(An),H=L!=null&&j2(T)&&m===!0,st=K.encodeLocation?K.encodeLocation(T).pathname:T.pathname,rt=S.pathname,it=L&&L.navigation&&L.navigation.location?L.navigation.location.pathname:null;i||(rt=rt.toLowerCase(),it=it?it.toLowerCase():null,st=st.toLowerCase()),it&&$&&(it=Ji(it,$)||it);const mt=st!=="/"&&st.endsWith("/")?st.length-1:st.length;let bt=rt===st||!o&&rt.startsWith(st)&&rt.charAt(mt)==="/",_t=it!=null&&(it===st||!o&&it.startsWith(st)&&it.charAt(st.length)==="/"),N={isActive:bt,isPending:_t,isTransitioning:H},w=bt?e:void 0,C;typeof s=="function"?C=s(N):C=[s,bt?"active":null,_t?"pending":null,H?"transitioning":null].filter(Boolean).join(" ");let O=typeof u=="function"?u(N):u;return U.createElement(Y_,{...y,"aria-current":w,className:C,ref:E,style:O,to:f,viewTransition:m},typeof p=="function"?p(N):p)});Gd.displayName="NavLink";var C2=U.forwardRef(({discover:a="render",fetcherKey:e,navigate:i,reloadDocument:s,replace:o,state:u,method:f=Cc,action:m,onSubmit:p,relative:y,preventScrollReset:E,viewTransition:T,unstable_defaultShouldRevalidate:S,...L},K)=>{let{unstable_useTransitions:$}=U.useContext(An),H=M2(),st=O2(m,{relative:y}),rt=f.toLowerCase()==="get"?"get":"post",it=typeof m=="string"&&Q_.test(m),mt=bt=>{if(p&&p(bt),bt.defaultPrevented)return;bt.preventDefault();let _t=bt.nativeEvent.submitter,N=(_t==null?void 0:_t.getAttribute("formmethod"))||f,w=()=>H(_t||bt.currentTarget,{fetcherKey:e,method:N,navigate:i,replace:o,state:u,relative:y,preventScrollReset:E,viewTransition:T,unstable_defaultShouldRevalidate:S});$&&i!==!1?U.startTransition(()=>w()):w()};return U.createElement("form",{ref:K,method:rt,action:st,onSubmit:s?p:mt,...L,"data-discover":!it&&a==="render"?"true":void 0})});C2.displayName="Form";function N2(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function K_(a){let e=U.useContext(Js);return ue(e,N2(a)),e}function D2(a,{target:e,replace:i,state:s,preventScrollReset:o,relative:u,viewTransition:f,unstable_defaultShouldRevalidate:m,unstable_useTransitions:p}={}){let y=P_(),E=$a(),T=ko(a,{relative:u});return U.useCallback(S=>{if(o2(S,e)){S.preventDefault();let L=i!==void 0?i:Ao(E)===Ao(T),K=()=>y(a,{replace:L,state:s,preventScrollReset:o,relative:u,viewTransition:f,unstable_defaultShouldRevalidate:m});p?U.startTransition(()=>K()):K()}},[E,y,T,i,s,e,a,o,u,f,m,p])}var I2=0,V2=()=>`__${String(++I2)}__`;function M2(){let{router:a}=K_("useSubmit"),{basename:e}=U.useContext(An),i=ZT(),s=a.fetch,o=a.navigate;return U.useCallback(async(u,f={})=>{let{action:m,method:p,encType:y,formData:E,body:T}=h2(u,e);if(f.navigate===!1){let S=f.fetcherKey||V2();await s(S,i,f.action||m,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:E,body:T,formMethod:f.method||p,formEncType:f.encType||y,flushSync:f.flushSync})}else await o(f.action||m,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:E,body:T,formMethod:f.method||p,formEncType:f.encType||y,replace:f.replace,state:f.state,fromRouteId:i,flushSync:f.flushSync,viewTransition:f.viewTransition})},[s,o,e,i])}function O2(a,{relative:e}={}){let{basename:i}=U.useContext(An),s=U.useContext(Ii);ue(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...ko(a||".",{relative:e})},f=$a();if(a==null){u.search=f.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(E=>E==="")){m.delete("index"),p.filter(T=>T).forEach(T=>m.append("index",T));let E=m.toString();u.search=E?`?${E}`:""}}return(!a||a===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(u.pathname=u.pathname==="/"?i:Zi([i,u.pathname])),Ao(u)}function j2(a,{relative:e}={}){let i=U.useContext(k_);ue(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=K_("useViewTransitionState"),o=ko(a,{relative:e});if(!i.isTransitioning)return!1;let u=Ji(i.currentLocation.pathname,s)||i.currentLocation.pathname,f=Ji(i.nextLocation.pathname,s)||i.nextLocation.pathname;return Lc(o.pathname,f)!=null||Lc(o.pathname,u)!=null}/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k2=a=>a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),L2=a=>a.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,s)=>s?s.toUpperCase():i.toLowerCase()),rv=a=>{const e=L2(a);return e.charAt(0).toUpperCase()+e.slice(1)},$_=(...a)=>a.filter((e,i,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===i).join(" ").trim(),z2=a=>{for(const e in a)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var U2={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P2=U.forwardRef(({color:a="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:s,className:o="",children:u,iconNode:f,...m},p)=>U.createElement("svg",{ref:p,...U2,width:e,height:e,stroke:a,strokeWidth:s?Number(i)*24/Number(e):i,className:$_("lucide",o),...!u&&!z2(m)&&{"aria-hidden":"true"},...m},[...f.map(([y,E])=>U.createElement(y,E)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const It=(a,e)=>{const i=U.forwardRef(({className:s,...o},u)=>U.createElement(P2,{ref:u,iconNode:e,className:$_(`lucide-${k2(rv(a))}`,`lucide-${a}`,s),...o}));return i.displayName=rv(a),i};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B2=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],q2=It("arrow-up-down",B2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H2=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],sv=It("building-2",H2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F2=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],tl=It("calendar",F2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G2=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Q2=It("chart-column",G2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y2=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],K2=It("chevron-down",Y2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $2=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],X2=It("chevron-left",$2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z2=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],J2=It("chevron-right",Z2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W2=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],tA=It("chevron-up",W2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eA=[["path",{d:"m11 17-5-5 5-5",key:"13zhaf"}],["path",{d:"m18 17-5-5 5-5",key:"h8a8et"}]],nA=It("chevrons-left",eA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iA=[["path",{d:"m6 17 5-5-5-5",key:"xnjwq"}],["path",{d:"m13 17 5-5-5-5",key:"17xmmf"}]],aA=It("chevrons-right",iA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rA=[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]],sA=It("chevrons-up-down",rA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],X_=It("circle-alert",lA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oA=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],uA=It("circle-check-big",oA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],hA=It("circle-question-mark",cA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Z_=It("circle-x",fA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dA=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],J_=It("dollar-sign",dA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mA=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],W_=It("download",mA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gA=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],Sm=It("external-link",gA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pA=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Qd=It("funnel",pA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yA=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],vA=It("grip-vertical",yA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _A=[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]],bA=It("inbox",_A);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EA=[["path",{d:"M6 3h12",key:"ggurg9"}],["path",{d:"M6 8h12",key:"6g4wlu"}],["path",{d:"m6 13 8.5 8",key:"u1kupk"}],["path",{d:"M6 13h3",key:"wdp6ag"}],["path",{d:"M9 13c6.667 0 6.667-10 0-10",key:"1nkvk2"}]],xA=It("indian-rupee",EA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TA=[["path",{d:"M5 3v14",key:"9nsxs2"}],["path",{d:"M12 3v8",key:"1h2ygw"}],["path",{d:"M19 3v18",key:"1sk56x"}]],AA=It("kanban",TA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SA=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],wA=It("layout-dashboard",SA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RA=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],wm=It("loader-circle",RA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CA=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],NA=It("log-out",CA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DA=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Lo=It("mail",DA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IA=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],VA=It("menu",IA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MA=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],OA=It("message-square",MA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jA=[["path",{d:"M12.586 12.586 19 19",key:"ea5xo7"}],["path",{d:"M3.688 3.037a.497.497 0 0 0-.651.651l6.5 15.999a.501.501 0 0 0 .947-.062l1.569-6.083a2 2 0 0 1 1.448-1.479l6.124-1.579a.5.5 0 0 0 .063-.947z",key:"277e5u"}]],kA=It("mouse-pointer",jA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LA=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],zA=It("phone",LA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UA=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],t1=It("refresh-cw",UA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PA=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],e1=It("search",PA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BA=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],qA=It("settings",BA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HA=[["path",{d:"M10 5H3",key:"1qgfaw"}],["path",{d:"M12 19H3",key:"yhmn1j"}],["path",{d:"M14 3v4",key:"1sua03"}],["path",{d:"M16 17v4",key:"1q0r14"}],["path",{d:"M21 12h-9",key:"1o4lsq"}],["path",{d:"M21 19h-5",key:"1rlt1p"}],["path",{d:"M21 5h-7",key:"1oszz2"}],["path",{d:"M8 10v4",key:"tgpxqk"}],["path",{d:"M8 12H3",key:"a7s4jb"}]],FA=It("sliders-horizontal",HA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],QA=It("target",GA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YA=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],n1=It("trash-2",YA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KA=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],$A=It("trending-up",KA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XA=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],vo=It("users",XA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZA=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],zr=It("x",ZA),de=(...a)=>a.filter(Boolean).join(" "),JA=[{to:"/",icon:wA,label:"Dashboard"},{to:"/pipeline",icon:AA,label:"Pipeline"},{to:"/companion",icon:vo,label:"Companion Leads"}],WA=({isOpen:a,onClose:e})=>{const i=()=>{window.innerWidth<1024&&e()};return _.jsxs(_.Fragment,{children:[a&&_.jsx("div",{className:"fixed inset-0 z-30 bg-black/30 backdrop-blur-sm lg:hidden",onClick:e}),_.jsxs("div",{className:de("fixed inset-y-0 left-0 z-40 w-60 flex flex-col bg-white border-r border-gray-100 transition-transform duration-300 ease-in-out lg:translate-x-0",a?"translate-x-0":"-translate-x-full"),children:[_.jsxs("div",{className:"flex items-center justify-between px-5 py-4 border-b border-gray-100",children:[_.jsxs("div",{className:"flex items-center gap-2.5",children:[_.jsx("div",{className:"w-8 h-8 rounded-lg bg-gray-900 flex items-center justify-center text-white text-xs font-bold shrink-0",children:"EL"}),_.jsxs("div",{children:[_.jsx("p",{className:"text-sm font-bold text-gray-900 leading-none",children:"Evoc Labs"}),_.jsx("p",{className:"text-[11px] text-gray-400 mt-0.5",children:"CRM Dashboard"})]})]}),_.jsx("button",{className:"lg:hidden p-1 text-gray-400 hover:text-gray-600 rounded-md transition-colors",onClick:e,children:_.jsx(zr,{size:16})})]}),_.jsxs("nav",{className:"flex-1 overflow-y-auto px-3 py-4 space-y-0.5",children:[_.jsx("p",{className:"px-3 mb-2 text-[10px] font-semibold uppercase tracking-widest text-gray-400",children:"Main Menu"}),JA.map(({to:s,icon:o,label:u})=>_.jsx(Gd,{to:s,end:s==="/",onClick:i,className:({isActive:f})=>de("flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm font-medium transition-colors group relative",f?"bg-gray-100 text-gray-900":"text-gray-500 hover:bg-gray-50 hover:text-gray-800"),children:({isActive:f})=>_.jsxs(_.Fragment,{children:[f&&_.jsx("span",{className:"absolute left-0 top-1/2 -translate-y-1/2 w-0.5 h-5 bg-orange-500 rounded-r-full"}),_.jsx(o,{size:17,className:de("shrink-0 transition-colors",f?"text-gray-800":"text-gray-400 group-hover:text-gray-600")}),_.jsx("span",{children:u})]})},s))]}),_.jsxs("div",{className:"px-3 py-3 border-t border-gray-100 space-y-0.5",children:[_.jsxs("a",{href:"mailto:support@evoclabs.in",className:"flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm text-gray-500 hover:bg-gray-50 hover:text-gray-800 transition-colors",children:[_.jsx(hA,{size:17,className:"text-gray-400 shrink-0"}),"Help Center"]}),_.jsxs(Gd,{to:"/settings",onClick:i,className:"flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm text-gray-500 hover:bg-gray-50 hover:text-gray-800 transition-colors",children:[_.jsx(qA,{size:17,className:"text-gray-400 shrink-0"}),"Settings"]})]}),_.jsx("div",{className:"px-3 py-3 border-t border-gray-100",children:_.jsxs("div",{className:"flex items-center gap-3 px-3 py-2.5 rounded-lg hover:bg-gray-50 transition-colors cursor-pointer group",children:[_.jsx("div",{className:"w-8 h-8 rounded-full bg-orange-100 flex items-center justify-center text-orange-600 text-xs font-bold shrink-0",children:"EA"}),_.jsxs("div",{className:"flex-1 min-w-0",children:[_.jsx("p",{className:"text-sm font-semibold text-gray-800 truncate",children:"Evoc Admin"}),_.jsx("p",{className:"text-xs text-gray-400 truncate",children:"evoclabs@gmail.com"})]}),_.jsx(NA,{size:15,className:"text-gray-300 group-hover:text-gray-500 transition-colors shrink-0"})]})})]})]})},tS=()=>{};var lv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i1=function(a){const e=[];let i=0;for(let s=0;s<a.length;s++){let o=a.charCodeAt(s);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&s+1<a.length&&(a.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(a.charCodeAt(++s)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},eS=function(a){const e=[];let i=0,s=0;for(;i<a.length;){const o=a[i++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=a[i++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=a[i++],f=a[i++],m=a[i++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=a[i++],f=a[i++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},a1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,e){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<a.length;o+=3){const u=a[o],f=o+1<a.length,m=f?a[o+1]:0,p=o+2<a.length,y=p?a[o+2]:0,E=u>>2,T=(u&3)<<4|m>>4;let S=(m&15)<<2|y>>6,L=y&63;p||(L=64,f||(S=64)),s.push(i[E],i[T],i[S],i[L])}return s.join("")},encodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(a):this.encodeByteArray(i1(a),e)},decodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(a):eS(this.decodeStringToByteArray(a,e))},decodeStringToByteArray(a,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<a.length;){const u=i[a.charAt(o++)],m=o<a.length?i[a.charAt(o)]:0;++o;const y=o<a.length?i[a.charAt(o)]:64;++o;const T=o<a.length?i[a.charAt(o)]:64;if(++o,u==null||m==null||y==null||T==null)throw new nS;const S=u<<2|m>>4;if(s.push(S),y!==64){const L=m<<4&240|y>>2;if(s.push(L),T!==64){const K=y<<6&192|T;s.push(K)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class nS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const iS=function(a){const e=i1(a);return a1.encodeByteArray(e,!0)},zc=function(a){return iS(a).replace(/\./g,"")},aS=function(a){try{return a1.decodeString(a,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sS=()=>rS().__FIREBASE_DEFAULTS__,lS=()=>{if(typeof process>"u"||typeof lv>"u")return;const a=lv.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},oS=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=a&&aS(a[1]);return e&&JSON.parse(e)},Rm=()=>{try{return tS()||sS()||lS()||oS()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},uS=a=>{var e,i;return(i=(e=Rm())==null?void 0:e.emulatorHosts)==null?void 0:i[a]},cS=a=>{const e=uS(a);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),s]:[e.substring(0,i),s]},r1=()=>{var a;return(a=Rm())==null?void 0:a.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cm(a){try{return(a.startsWith("http://")||a.startsWith("https://")?new URL(a).hostname:a).endsWith(".cloudworkstations.dev")}catch{return!1}}async function fS(a){return(await fetch(a,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dS(a,e){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=e||"demo-project",o=a.iat||0,u=a.sub||a.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...a};return[zc(JSON.stringify(i)),zc(JSON.stringify(f)),""].join(".")}const _o={};function mS(){const a={prod:[],emulator:[]};for(const e of Object.keys(_o))_o[e]?a.emulator.push(e):a.prod.push(e);return a}function gS(a){let e=document.getElementById(a),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",a),i=!0),{created:i,element:e}}let ov=!1;function pS(a,e){if(typeof window>"u"||typeof document>"u"||!Cm(window.location.host)||_o[a]===e||_o[a]||ov)return;_o[a]=e;function i(S){return`__firebase__banner__${S}`}const s="__firebase__banner",u=mS().prod.length>0;function f(){const S=document.getElementById(s);S&&S.remove()}function m(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function p(S,L){S.setAttribute("width","24"),S.setAttribute("id",L),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function y(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{ov=!0,f()},S}function E(S,L){S.setAttribute("id",L),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function T(){const S=gS(s),L=i("text"),K=document.getElementById(L)||document.createElement("span"),$=i("learnmore"),H=document.getElementById($)||document.createElement("a"),st=i("preprendIcon"),rt=document.getElementById(st)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const it=S.element;m(it),E(H,$);const mt=y();p(rt,st),it.append(rt,K,H,mt),document.body.appendChild(it)}u?(K.innerText="Preview backend disconnected.",rt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(rt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,K.innerText="Preview backend running in this workspace."),K.setAttribute("id",L)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yS(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function vS(){var e;const a=(e=Rm())==null?void 0:e.forceEnvironment;if(a==="node")return!0;if(a==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function _S(){const a=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof a=="object"&&a.id!==void 0}function bS(){return!vS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function s1(){try{return typeof indexedDB=="object"}catch{return!1}}function l1(){return new Promise((a,e)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(s),a(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{var u;e(((u=o.error)==null?void 0:u.message)||"")}}catch(i){e(i)}})}function ES(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xS="FirebaseError";class Xa extends Error{constructor(e,i,s){super(i),this.code=e,this.customData=s,this.name=xS,Object.setPrototypeOf(this,Xa.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,nh.prototype.create)}}class nh{constructor(e,i,s){this.service=e,this.serviceName=i,this.errors=s}create(e,...i){const s=i[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?TS(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new Xa(o,m,s)}}function TS(a,e){return a.replace(AS,(i,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const AS=/\{\$([^}]+)}/g;function So(a,e){if(a===e)return!0;const i=Object.keys(a),s=Object.keys(e);for(const o of i){if(!s.includes(o))return!1;const u=a[o],f=e[o];if(uv(u)&&uv(f)){if(!So(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!i.includes(o))return!1;return!0}function uv(a){return a!==null&&typeof a=="object"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SS=1e3,wS=2,RS=14400*1e3,CS=.5;function cv(a,e=SS,i=wS){const s=e*Math.pow(i,a),o=Math.round(CS*s*(Math.random()-.5)*2);return Math.min(RS,s+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Un(a){return a&&a._delegate?a._delegate:a}class Wi{constructor(e,i,s){this.name=e,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NS{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const s=new hS;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(e==null?void 0:e.optional)??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(IS(e))try{this.getOrInitializeService({instanceIdentifier:Nr})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Nr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Nr){return this.instances.has(e)}getOptions(e=Nr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(e,i){const s=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const s=this.onInitCallbacks.get(i);if(s)for(const o of s)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:DS(e),options:i}),this.instances.set(e,s),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Nr){return this.component?this.component.multipleInstances?e:Nr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function DS(a){return a===Nr?void 0:a}function IS(a){return a.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new NS(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qt;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(qt||(qt={}));const MS={debug:qt.DEBUG,verbose:qt.VERBOSE,info:qt.INFO,warn:qt.WARN,error:qt.ERROR,silent:qt.SILENT},OS=qt.INFO,jS={[qt.DEBUG]:"log",[qt.VERBOSE]:"log",[qt.INFO]:"info",[qt.WARN]:"warn",[qt.ERROR]:"error"},kS=(a,e,...i)=>{if(e<a.logLevel)return;const s=new Date().toISOString(),o=jS[e];if(o)console[o](`[${s}]  ${a.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Nm{constructor(e){this.name=e,this._logLevel=OS,this._logHandler=kS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in qt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?MS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,qt.DEBUG,...e),this._logHandler(this,qt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,qt.VERBOSE,...e),this._logHandler(this,qt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,qt.INFO,...e),this._logHandler(this,qt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,qt.WARN,...e),this._logHandler(this,qt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,qt.ERROR,...e),this._logHandler(this,qt.ERROR,...e)}}const LS=(a,e)=>e.some(i=>a instanceof i);let hv,fv;function zS(){return hv||(hv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function US(){return fv||(fv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const o1=new WeakMap,Yd=new WeakMap,u1=new WeakMap,Dd=new WeakMap,Dm=new WeakMap;function PS(a){const e=new Promise((i,s)=>{const o=()=>{a.removeEventListener("success",u),a.removeEventListener("error",f)},u=()=>{i(La(a.result)),o()},f=()=>{s(a.error),o()};a.addEventListener("success",u),a.addEventListener("error",f)});return e.then(i=>{i instanceof IDBCursor&&o1.set(i,a)}).catch(()=>{}),Dm.set(e,a),e}function BS(a){if(Yd.has(a))return;const e=new Promise((i,s)=>{const o=()=>{a.removeEventListener("complete",u),a.removeEventListener("error",f),a.removeEventListener("abort",f)},u=()=>{i(),o()},f=()=>{s(a.error||new DOMException("AbortError","AbortError")),o()};a.addEventListener("complete",u),a.addEventListener("error",f),a.addEventListener("abort",f)});Yd.set(a,e)}let Kd={get(a,e,i){if(a instanceof IDBTransaction){if(e==="done")return Yd.get(a);if(e==="objectStoreNames")return a.objectStoreNames||u1.get(a);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return La(a[e])},set(a,e,i){return a[e]=i,!0},has(a,e){return a instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in a}};function qS(a){Kd=a(Kd)}function HS(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const s=a.call(Id(this),e,...i);return u1.set(s,e.sort?e.sort():[e]),La(s)}:US().includes(a)?function(...e){return a.apply(Id(this),e),La(o1.get(this))}:function(...e){return La(a.apply(Id(this),e))}}function FS(a){return typeof a=="function"?HS(a):(a instanceof IDBTransaction&&BS(a),LS(a,zS())?new Proxy(a,Kd):a)}function La(a){if(a instanceof IDBRequest)return PS(a);if(Dd.has(a))return Dd.get(a);const e=FS(a);return e!==a&&(Dd.set(a,e),Dm.set(e,a)),e}const Id=a=>Dm.get(a);function c1(a,e,{blocked:i,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(a,e),m=La(f);return s&&f.addEventListener("upgradeneeded",p=>{s(La(f.result),p.oldVersion,p.newVersion,La(f.transaction),p)}),i&&f.addEventListener("blocked",p=>i(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const GS=["get","getKey","getAll","getAllKeys","count"],QS=["put","add","delete","clear"],Vd=new Map;function dv(a,e){if(!(a instanceof IDBDatabase&&!(e in a)&&typeof e=="string"))return;if(Vd.get(e))return Vd.get(e);const i=e.replace(/FromIndex$/,""),s=e!==i,o=QS.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(o||GS.includes(i)))return;const u=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let y=p.store;return s&&(y=y.index(m.shift())),(await Promise.all([y[i](...m),o&&p.done]))[0]};return Vd.set(e,u),u}qS(a=>({...a,get:(e,i,s)=>dv(e,i)||a.get(e,i,s),has:(e,i)=>!!dv(e,i)||a.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(KS(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function KS(a){const e=a.getComponent();return(e==null?void 0:e.type)==="VERSION"}const $d="@firebase/app",mv="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ta=new Nm("@firebase/app"),$S="@firebase/app-compat",XS="@firebase/analytics-compat",ZS="@firebase/analytics",JS="@firebase/app-check-compat",WS="@firebase/app-check",tw="@firebase/auth",ew="@firebase/auth-compat",nw="@firebase/database",iw="@firebase/data-connect",aw="@firebase/database-compat",rw="@firebase/functions",sw="@firebase/functions-compat",lw="@firebase/installations",ow="@firebase/installations-compat",uw="@firebase/messaging",cw="@firebase/messaging-compat",hw="@firebase/performance",fw="@firebase/performance-compat",dw="@firebase/remote-config",mw="@firebase/remote-config-compat",gw="@firebase/storage",pw="@firebase/storage-compat",yw="@firebase/firestore",vw="@firebase/ai",_w="@firebase/firestore-compat",bw="firebase",Ew="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xd="[DEFAULT]",xw={[$d]:"fire-core",[$S]:"fire-core-compat",[ZS]:"fire-analytics",[XS]:"fire-analytics-compat",[WS]:"fire-app-check",[JS]:"fire-app-check-compat",[tw]:"fire-auth",[ew]:"fire-auth-compat",[nw]:"fire-rtdb",[iw]:"fire-data-connect",[aw]:"fire-rtdb-compat",[rw]:"fire-fn",[sw]:"fire-fn-compat",[lw]:"fire-iid",[ow]:"fire-iid-compat",[uw]:"fire-fcm",[cw]:"fire-fcm-compat",[hw]:"fire-perf",[fw]:"fire-perf-compat",[dw]:"fire-rc",[mw]:"fire-rc-compat",[gw]:"fire-gcs",[pw]:"fire-gcs-compat",[yw]:"fire-fst",[_w]:"fire-fst-compat",[vw]:"fire-vertex","fire-js":"fire-js",[bw]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uc=new Map,Tw=new Map,Zd=new Map;function gv(a,e){try{a.container.addComponent(e)}catch(i){ta.debug(`Component ${e.name} failed to register with FirebaseApp ${a.name}`,i)}}function qa(a){const e=a.name;if(Zd.has(e))return ta.debug(`There were multiple attempts to register component ${e}.`),!1;Zd.set(e,a);for(const i of Uc.values())gv(i,a);for(const i of Tw.values())gv(i,a);return!0}function zo(a,e){const i=a.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),a.container.getProvider(e)}function Aw(a){return a==null?!1:a.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sw={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},za=new nh("app","Firebase",Sw);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ww{constructor(e,i,s){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Wi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw za.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rw=Ew;function h1(a,e={}){let i=a;typeof e!="object"&&(e={name:e});const s={name:Xd,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw za.create("bad-app-name",{appName:String(o)});if(i||(i=r1()),!i)throw za.create("no-options");const u=Uc.get(o);if(u){if(So(i,u.options)&&So(s,u.config))return u;throw za.create("duplicate-app",{appName:o})}const f=new VS(o);for(const p of Zd.values())f.addComponent(p);const m=new ww(i,s,f);return Uc.set(o,m),m}function f1(a=Xd){const e=Uc.get(a);if(!e&&a===Xd&&r1())return h1();if(!e)throw za.create("no-app",{appName:a});return e}function Ai(a,e,i){let s=xw[a]??a;i&&(s+=`-${i}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const f=[`Unable to register library "${s}" with version "${e}":`];o&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ta.warn(f.join(" "));return}qa(new Wi(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cw="firebase-heartbeat-database",Nw=1,wo="firebase-heartbeat-store";let Md=null;function d1(){return Md||(Md=c1(Cw,Nw,{upgrade:(a,e)=>{switch(e){case 0:try{a.createObjectStore(wo)}catch(i){console.warn(i)}}}}).catch(a=>{throw za.create("idb-open",{originalErrorMessage:a.message})})),Md}async function Dw(a){try{const i=(await d1()).transaction(wo),s=await i.objectStore(wo).get(m1(a));return await i.done,s}catch(e){if(e instanceof Xa)ta.warn(e.message);else{const i=za.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ta.warn(i.message)}}}async function pv(a,e){try{const s=(await d1()).transaction(wo,"readwrite");await s.objectStore(wo).put(e,m1(a)),await s.done}catch(i){if(i instanceof Xa)ta.warn(i.message);else{const s=za.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});ta.warn(s.message)}}}function m1(a){return`${a.name}!${a.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iw=1024,Vw=30;class Mw{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new jw(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,i;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=yv();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)==null?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>Vw){const f=kw(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){ta.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=yv(),{heartbeatsToSend:s,unsentEntries:o}=Ow(this._heartbeatsCache.heartbeats),u=zc(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=i,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(i){return ta.warn(i),""}}}function yv(){return new Date().toISOString().substring(0,10)}function Ow(a,e=Iw){const i=[];let s=a.slice();for(const o of a){const u=i.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),vv(i)>e){u.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),vv(i)>e){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class jw{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return s1()?l1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await Dw(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return pv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return pv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function vv(a){return zc(JSON.stringify({version:2,heartbeats:a})).length}function kw(a){if(a.length===0)return-1;let e=0,i=a[0].date;for(let s=1;s<a.length;s++)a[s].date<i&&(i=a[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lw(a){qa(new Wi("platform-logger",e=>new YS(e),"PRIVATE")),qa(new Wi("heartbeat",e=>new Mw(e),"PRIVATE")),Ai($d,mv,a),Ai($d,mv,"esm2020"),Ai("fire-js","")}Lw("");var _v=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ua,g1;(function(){var a;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,w){function C(){}C.prototype=w.prototype,N.F=w.prototype,N.prototype=new C,N.prototype.constructor=N,N.D=function(O,V,D){for(var R=Array(arguments.length-2),gt=2;gt<arguments.length;gt++)R[gt-2]=arguments[gt];return w.prototype[V].apply(O,R)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,i),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,w,C){C||(C=0);const O=Array(16);if(typeof w=="string")for(var V=0;V<16;++V)O[V]=w.charCodeAt(C++)|w.charCodeAt(C++)<<8|w.charCodeAt(C++)<<16|w.charCodeAt(C++)<<24;else for(V=0;V<16;++V)O[V]=w[C++]|w[C++]<<8|w[C++]<<16|w[C++]<<24;w=N.g[0],C=N.g[1],V=N.g[2];let D=N.g[3],R;R=w+(D^C&(V^D))+O[0]+3614090360&4294967295,w=C+(R<<7&4294967295|R>>>25),R=D+(V^w&(C^V))+O[1]+3905402710&4294967295,D=w+(R<<12&4294967295|R>>>20),R=V+(C^D&(w^C))+O[2]+606105819&4294967295,V=D+(R<<17&4294967295|R>>>15),R=C+(w^V&(D^w))+O[3]+3250441966&4294967295,C=V+(R<<22&4294967295|R>>>10),R=w+(D^C&(V^D))+O[4]+4118548399&4294967295,w=C+(R<<7&4294967295|R>>>25),R=D+(V^w&(C^V))+O[5]+1200080426&4294967295,D=w+(R<<12&4294967295|R>>>20),R=V+(C^D&(w^C))+O[6]+2821735955&4294967295,V=D+(R<<17&4294967295|R>>>15),R=C+(w^V&(D^w))+O[7]+4249261313&4294967295,C=V+(R<<22&4294967295|R>>>10),R=w+(D^C&(V^D))+O[8]+1770035416&4294967295,w=C+(R<<7&4294967295|R>>>25),R=D+(V^w&(C^V))+O[9]+2336552879&4294967295,D=w+(R<<12&4294967295|R>>>20),R=V+(C^D&(w^C))+O[10]+4294925233&4294967295,V=D+(R<<17&4294967295|R>>>15),R=C+(w^V&(D^w))+O[11]+2304563134&4294967295,C=V+(R<<22&4294967295|R>>>10),R=w+(D^C&(V^D))+O[12]+1804603682&4294967295,w=C+(R<<7&4294967295|R>>>25),R=D+(V^w&(C^V))+O[13]+4254626195&4294967295,D=w+(R<<12&4294967295|R>>>20),R=V+(C^D&(w^C))+O[14]+2792965006&4294967295,V=D+(R<<17&4294967295|R>>>15),R=C+(w^V&(D^w))+O[15]+1236535329&4294967295,C=V+(R<<22&4294967295|R>>>10),R=w+(V^D&(C^V))+O[1]+4129170786&4294967295,w=C+(R<<5&4294967295|R>>>27),R=D+(C^V&(w^C))+O[6]+3225465664&4294967295,D=w+(R<<9&4294967295|R>>>23),R=V+(w^C&(D^w))+O[11]+643717713&4294967295,V=D+(R<<14&4294967295|R>>>18),R=C+(D^w&(V^D))+O[0]+3921069994&4294967295,C=V+(R<<20&4294967295|R>>>12),R=w+(V^D&(C^V))+O[5]+3593408605&4294967295,w=C+(R<<5&4294967295|R>>>27),R=D+(C^V&(w^C))+O[10]+38016083&4294967295,D=w+(R<<9&4294967295|R>>>23),R=V+(w^C&(D^w))+O[15]+3634488961&4294967295,V=D+(R<<14&4294967295|R>>>18),R=C+(D^w&(V^D))+O[4]+3889429448&4294967295,C=V+(R<<20&4294967295|R>>>12),R=w+(V^D&(C^V))+O[9]+568446438&4294967295,w=C+(R<<5&4294967295|R>>>27),R=D+(C^V&(w^C))+O[14]+3275163606&4294967295,D=w+(R<<9&4294967295|R>>>23),R=V+(w^C&(D^w))+O[3]+4107603335&4294967295,V=D+(R<<14&4294967295|R>>>18),R=C+(D^w&(V^D))+O[8]+1163531501&4294967295,C=V+(R<<20&4294967295|R>>>12),R=w+(V^D&(C^V))+O[13]+2850285829&4294967295,w=C+(R<<5&4294967295|R>>>27),R=D+(C^V&(w^C))+O[2]+4243563512&4294967295,D=w+(R<<9&4294967295|R>>>23),R=V+(w^C&(D^w))+O[7]+1735328473&4294967295,V=D+(R<<14&4294967295|R>>>18),R=C+(D^w&(V^D))+O[12]+2368359562&4294967295,C=V+(R<<20&4294967295|R>>>12),R=w+(C^V^D)+O[5]+4294588738&4294967295,w=C+(R<<4&4294967295|R>>>28),R=D+(w^C^V)+O[8]+2272392833&4294967295,D=w+(R<<11&4294967295|R>>>21),R=V+(D^w^C)+O[11]+1839030562&4294967295,V=D+(R<<16&4294967295|R>>>16),R=C+(V^D^w)+O[14]+4259657740&4294967295,C=V+(R<<23&4294967295|R>>>9),R=w+(C^V^D)+O[1]+2763975236&4294967295,w=C+(R<<4&4294967295|R>>>28),R=D+(w^C^V)+O[4]+1272893353&4294967295,D=w+(R<<11&4294967295|R>>>21),R=V+(D^w^C)+O[7]+4139469664&4294967295,V=D+(R<<16&4294967295|R>>>16),R=C+(V^D^w)+O[10]+3200236656&4294967295,C=V+(R<<23&4294967295|R>>>9),R=w+(C^V^D)+O[13]+681279174&4294967295,w=C+(R<<4&4294967295|R>>>28),R=D+(w^C^V)+O[0]+3936430074&4294967295,D=w+(R<<11&4294967295|R>>>21),R=V+(D^w^C)+O[3]+3572445317&4294967295,V=D+(R<<16&4294967295|R>>>16),R=C+(V^D^w)+O[6]+76029189&4294967295,C=V+(R<<23&4294967295|R>>>9),R=w+(C^V^D)+O[9]+3654602809&4294967295,w=C+(R<<4&4294967295|R>>>28),R=D+(w^C^V)+O[12]+3873151461&4294967295,D=w+(R<<11&4294967295|R>>>21),R=V+(D^w^C)+O[15]+530742520&4294967295,V=D+(R<<16&4294967295|R>>>16),R=C+(V^D^w)+O[2]+3299628645&4294967295,C=V+(R<<23&4294967295|R>>>9),R=w+(V^(C|~D))+O[0]+4096336452&4294967295,w=C+(R<<6&4294967295|R>>>26),R=D+(C^(w|~V))+O[7]+1126891415&4294967295,D=w+(R<<10&4294967295|R>>>22),R=V+(w^(D|~C))+O[14]+2878612391&4294967295,V=D+(R<<15&4294967295|R>>>17),R=C+(D^(V|~w))+O[5]+4237533241&4294967295,C=V+(R<<21&4294967295|R>>>11),R=w+(V^(C|~D))+O[12]+1700485571&4294967295,w=C+(R<<6&4294967295|R>>>26),R=D+(C^(w|~V))+O[3]+2399980690&4294967295,D=w+(R<<10&4294967295|R>>>22),R=V+(w^(D|~C))+O[10]+4293915773&4294967295,V=D+(R<<15&4294967295|R>>>17),R=C+(D^(V|~w))+O[1]+2240044497&4294967295,C=V+(R<<21&4294967295|R>>>11),R=w+(V^(C|~D))+O[8]+1873313359&4294967295,w=C+(R<<6&4294967295|R>>>26),R=D+(C^(w|~V))+O[15]+4264355552&4294967295,D=w+(R<<10&4294967295|R>>>22),R=V+(w^(D|~C))+O[6]+2734768916&4294967295,V=D+(R<<15&4294967295|R>>>17),R=C+(D^(V|~w))+O[13]+1309151649&4294967295,C=V+(R<<21&4294967295|R>>>11),R=w+(V^(C|~D))+O[4]+4149444226&4294967295,w=C+(R<<6&4294967295|R>>>26),R=D+(C^(w|~V))+O[11]+3174756917&4294967295,D=w+(R<<10&4294967295|R>>>22),R=V+(w^(D|~C))+O[2]+718787259&4294967295,V=D+(R<<15&4294967295|R>>>17),R=C+(D^(V|~w))+O[9]+3951481745&4294967295,N.g[0]=N.g[0]+w&4294967295,N.g[1]=N.g[1]+(V+(R<<21&4294967295|R>>>11))&4294967295,N.g[2]=N.g[2]+V&4294967295,N.g[3]=N.g[3]+D&4294967295}s.prototype.v=function(N,w){w===void 0&&(w=N.length);const C=w-this.blockSize,O=this.C;let V=this.h,D=0;for(;D<w;){if(V==0)for(;D<=C;)o(this,N,D),D+=this.blockSize;if(typeof N=="string"){for(;D<w;)if(O[V++]=N.charCodeAt(D++),V==this.blockSize){o(this,O),V=0;break}}else for(;D<w;)if(O[V++]=N[D++],V==this.blockSize){o(this,O),V=0;break}}this.h=V,this.o+=w},s.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var w=1;w<N.length-8;++w)N[w]=0;w=this.o*8;for(var C=N.length-8;C<N.length;++C)N[C]=w&255,w/=256;for(this.v(N),N=Array(16),w=0,C=0;C<4;++C)for(let O=0;O<32;O+=8)N[w++]=this.g[C]>>>O&255;return N};function u(N,w){var C=m;return Object.prototype.hasOwnProperty.call(C,N)?C[N]:C[N]=w(N)}function f(N,w){this.h=w;const C=[];let O=!0;for(let V=N.length-1;V>=0;V--){const D=N[V]|0;O&&D==w||(C[V]=D,O=!1)}this.g=C}var m={};function p(N){return-128<=N&&N<128?u(N,function(w){return new f([w|0],w<0?-1:0)}):new f([N|0],N<0?-1:0)}function y(N){if(isNaN(N)||!isFinite(N))return T;if(N<0)return H(y(-N));const w=[];let C=1;for(let O=0;N>=C;O++)w[O]=N/C|0,C*=4294967296;return new f(w,0)}function E(N,w){if(N.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(N.charAt(0)=="-")return H(E(N.substring(1),w));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=y(Math.pow(w,8));let O=T;for(let D=0;D<N.length;D+=8){var V=Math.min(8,N.length-D);const R=parseInt(N.substring(D,D+V),w);V<8?(V=y(Math.pow(w,V)),O=O.j(V).add(y(R))):(O=O.j(C),O=O.add(y(R)))}return O}var T=p(0),S=p(1),L=p(16777216);a=f.prototype,a.m=function(){if($(this))return-H(this).m();let N=0,w=1;for(let C=0;C<this.g.length;C++){const O=this.i(C);N+=(O>=0?O:4294967296+O)*w,w*=4294967296}return N},a.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(K(this))return"0";if($(this))return"-"+H(this).toString(N);const w=y(Math.pow(N,6));var C=this;let O="";for(;;){const V=mt(C,w).g;C=st(C,V.j(w));let D=((C.g.length>0?C.g[0]:C.h)>>>0).toString(N);if(C=V,K(C))return D+O;for(;D.length<6;)D="0"+D;O=D+O}},a.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function K(N){if(N.h!=0)return!1;for(let w=0;w<N.g.length;w++)if(N.g[w]!=0)return!1;return!0}function $(N){return N.h==-1}a.l=function(N){return N=st(this,N),$(N)?-1:K(N)?0:1};function H(N){const w=N.g.length,C=[];for(let O=0;O<w;O++)C[O]=~N.g[O];return new f(C,~N.h).add(S)}a.abs=function(){return $(this)?H(this):this},a.add=function(N){const w=Math.max(this.g.length,N.g.length),C=[];let O=0;for(let V=0;V<=w;V++){let D=O+(this.i(V)&65535)+(N.i(V)&65535),R=(D>>>16)+(this.i(V)>>>16)+(N.i(V)>>>16);O=R>>>16,D&=65535,R&=65535,C[V]=R<<16|D}return new f(C,C[C.length-1]&-2147483648?-1:0)};function st(N,w){return N.add(H(w))}a.j=function(N){if(K(this)||K(N))return T;if($(this))return $(N)?H(this).j(H(N)):H(H(this).j(N));if($(N))return H(this.j(H(N)));if(this.l(L)<0&&N.l(L)<0)return y(this.m()*N.m());const w=this.g.length+N.g.length,C=[];for(var O=0;O<2*w;O++)C[O]=0;for(O=0;O<this.g.length;O++)for(let V=0;V<N.g.length;V++){const D=this.i(O)>>>16,R=this.i(O)&65535,gt=N.i(V)>>>16,et=N.i(V)&65535;C[2*O+2*V]+=R*et,rt(C,2*O+2*V),C[2*O+2*V+1]+=D*et,rt(C,2*O+2*V+1),C[2*O+2*V+1]+=R*gt,rt(C,2*O+2*V+1),C[2*O+2*V+2]+=D*gt,rt(C,2*O+2*V+2)}for(N=0;N<w;N++)C[N]=C[2*N+1]<<16|C[2*N];for(N=w;N<2*w;N++)C[N]=0;return new f(C,0)};function rt(N,w){for(;(N[w]&65535)!=N[w];)N[w+1]+=N[w]>>>16,N[w]&=65535,w++}function it(N,w){this.g=N,this.h=w}function mt(N,w){if(K(w))throw Error("division by zero");if(K(N))return new it(T,T);if($(N))return w=mt(H(N),w),new it(H(w.g),H(w.h));if($(w))return w=mt(N,H(w)),new it(H(w.g),w.h);if(N.g.length>30){if($(N)||$(w))throw Error("slowDivide_ only works with positive integers.");for(var C=S,O=w;O.l(N)<=0;)C=bt(C),O=bt(O);var V=_t(C,1),D=_t(O,1);for(O=_t(O,2),C=_t(C,2);!K(O);){var R=D.add(O);R.l(N)<=0&&(V=V.add(C),D=R),O=_t(O,1),C=_t(C,1)}return w=st(N,V.j(w)),new it(V,w)}for(V=T;N.l(w)>=0;){for(C=Math.max(1,Math.floor(N.m()/w.m())),O=Math.ceil(Math.log(C)/Math.LN2),O=O<=48?1:Math.pow(2,O-48),D=y(C),R=D.j(w);$(R)||R.l(N)>0;)C-=O,D=y(C),R=D.j(w);K(D)&&(D=S),V=V.add(D),N=st(N,R)}return new it(V,N)}a.B=function(N){return mt(this,N).h},a.and=function(N){const w=Math.max(this.g.length,N.g.length),C=[];for(let O=0;O<w;O++)C[O]=this.i(O)&N.i(O);return new f(C,this.h&N.h)},a.or=function(N){const w=Math.max(this.g.length,N.g.length),C=[];for(let O=0;O<w;O++)C[O]=this.i(O)|N.i(O);return new f(C,this.h|N.h)},a.xor=function(N){const w=Math.max(this.g.length,N.g.length),C=[];for(let O=0;O<w;O++)C[O]=this.i(O)^N.i(O);return new f(C,this.h^N.h)};function bt(N){const w=N.g.length+1,C=[];for(let O=0;O<w;O++)C[O]=N.i(O)<<1|N.i(O-1)>>>31;return new f(C,N.h)}function _t(N,w){const C=w>>5;w%=32;const O=N.g.length-C,V=[];for(let D=0;D<O;D++)V[D]=w>0?N.i(D+C)>>>w|N.i(D+C+1)<<32-w:N.i(D+C);return new f(V,N.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,g1=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=E,Ua=f}).apply(typeof _v<"u"?_v:typeof self<"u"?self:typeof window<"u"?window:{});var bc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var p1,go,y1,Dc,Jd,v1,_1,b1;(function(){var a,e=Object.defineProperty;function i(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof bc=="object"&&bc];for(var g=0;g<c.length;++g){var b=c[g];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var s=i(this);function o(c,g){if(g)t:{var b=s;c=c.split(".");for(var A=0;A<c.length-1;A++){var P=c[A];if(!(P in b))break t;b=b[P]}c=c[c.length-1],A=b[c],g=g(A),g!=A&&g!=null&&e(b,c,{configurable:!0,writable:!0,value:g})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(g){var b=[],A;for(A in g)Object.prototype.hasOwnProperty.call(g,A)&&b.push([A,g[A]]);return b}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},f=this||self;function m(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function p(c,g,b){return c.call.apply(c.bind,arguments)}function y(c,g,b){return y=p,y.apply(null,arguments)}function E(c,g){var b=Array.prototype.slice.call(arguments,1);return function(){var A=b.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function T(c,g){function b(){}b.prototype=g.prototype,c.Z=g.prototype,c.prototype=new b,c.prototype.constructor=c,c.Ob=function(A,P,Q){for(var lt=Array(arguments.length-2),Rt=2;Rt<arguments.length;Rt++)lt[Rt-2]=arguments[Rt];return g.prototype[P].apply(A,lt)}}var S=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function L(c){const g=c.length;if(g>0){const b=Array(g);for(let A=0;A<g;A++)b[A]=c[A];return b}return[]}function K(c,g){for(let A=1;A<arguments.length;A++){const P=arguments[A];var b=typeof P;if(b=b!="object"?b:P?Array.isArray(P)?"array":b:"null",b=="array"||b=="object"&&typeof P.length=="number"){b=c.length||0;const Q=P.length||0;c.length=b+Q;for(let lt=0;lt<Q;lt++)c[b+lt]=P[lt]}else c.push(P)}}class ${constructor(g,b){this.i=g,this.j=b,this.h=0,this.g=null}get(){let g;return this.h>0?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function H(c){f.setTimeout(()=>{throw c},0)}function st(){var c=N;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class rt{constructor(){this.h=this.g=null}add(g,b){const A=it.get();A.set(g,b),this.h?this.h.next=A:this.g=A,this.h=A}}var it=new $(()=>new mt,c=>c.reset());class mt{constructor(){this.next=this.g=this.h=null}set(g,b){this.h=g,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let bt,_t=!1,N=new rt,w=()=>{const c=Promise.resolve(void 0);bt=()=>{c.then(C)}};function C(){for(var c;c=st();){try{c.h.call(c.g)}catch(b){H(b)}var g=it;g.j(c),g.h<100&&(g.h++,c.next=g.g,g.g=c)}_t=!1}function O(){this.u=this.u,this.C=this.C}O.prototype.u=!1,O.prototype.dispose=function(){this.u||(this.u=!0,this.N())},O.prototype[Symbol.dispose]=function(){this.dispose()},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function V(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}V.prototype.h=function(){this.defaultPrevented=!0};var D=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const b=()=>{};f.addEventListener("test",b,g),f.removeEventListener("test",b,g)}catch{}return c})();function R(c){return/^[\s\xa0]*$/.test(c)}function gt(c,g){V.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,g)}T(gt,V),gt.prototype.init=function(c,g){const b=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget,g||(b=="mouseover"?g=c.fromElement:b=="mouseout"&&(g=c.toElement)),this.relatedTarget=g,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&gt.Z.h.call(this)},gt.prototype.h=function(){gt.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var et="closure_listenable_"+(Math.random()*1e6|0),M=0;function G(c,g,b,A,P){this.listener=c,this.proxy=null,this.src=g,this.type=b,this.capture=!!A,this.ha=P,this.key=++M,this.da=this.fa=!1}function at(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function ut(c,g,b){for(const A in c)g.call(b,c[A],A,c)}function Ut(c,g){for(const b in c)g.call(void 0,c[b],b,c)}function k(c){const g={};for(const b in c)g[b]=c[b];return g}const W="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ot(c,g){let b,A;for(let P=1;P<arguments.length;P++){A=arguments[P];for(b in A)c[b]=A[b];for(let Q=0;Q<W.length;Q++)b=W[Q],Object.prototype.hasOwnProperty.call(A,b)&&(c[b]=A[b])}}function ft(c){this.src=c,this.g={},this.h=0}ft.prototype.add=function(c,g,b,A,P){const Q=c.toString();c=this.g[Q],c||(c=this.g[Q]=[],this.h++);const lt=Nt(c,g,A,P);return lt>-1?(g=c[lt],b||(g.fa=!1)):(g=new G(g,this.src,Q,!!A,P),g.fa=b,c.push(g)),g};function Tt(c,g){const b=g.type;if(b in c.g){var A=c.g[b],P=Array.prototype.indexOf.call(A,g,void 0),Q;(Q=P>=0)&&Array.prototype.splice.call(A,P,1),Q&&(at(g),c.g[b].length==0&&(delete c.g[b],c.h--))}}function Nt(c,g,b,A){for(let P=0;P<c.length;++P){const Q=c[P];if(!Q.da&&Q.listener==g&&Q.capture==!!b&&Q.ha==A)return P}return-1}var Pt="closure_lm_"+(Math.random()*1e6|0),Ie={};function se(c,g,b,A,P){if(Array.isArray(g)){for(let Q=0;Q<g.length;Q++)se(c,g[Q],b,A,P);return null}return b=ol(b),c&&c[et]?c.J(g,b,m(A)?!!A.capture:!1,P):Ja(c,g,b,!1,A,P)}function Ja(c,g,b,A,P,Q){if(!g)throw Error("Invalid event type");const lt=m(P)?!!P.capture:!!P;let Rt=Wa(c);if(Rt||(c[Pt]=Rt=new ft(c)),b=Rt.add(g,b,A,lt,Q),b.proxy)return b;if(A=Hr(),b.proxy=A,A.src=c,A.listener=b,c.addEventListener)D||(P=lt),P===void 0&&(P=!1),c.addEventListener(g.toString(),A,P);else if(c.attachEvent)c.attachEvent(ti(g.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return b}function Hr(){function c(b){return g.call(c.src,c.listener,b)}const g=sl;return c}function Fr(c,g,b,A,P){if(Array.isArray(g))for(var Q=0;Q<g.length;Q++)Fr(c,g[Q],b,A,P);else A=m(A)?!!A.capture:!!A,b=ol(b),c&&c[et]?(c=c.i,Q=String(g).toString(),Q in c.g&&(g=c.g[Q],b=Nt(g,b,A,P),b>-1&&(at(g[b]),Array.prototype.splice.call(g,b,1),g.length==0&&(delete c.g[Q],c.h--)))):c&&(c=Wa(c))&&(g=c.g[g.toString()],c=-1,g&&(c=Nt(g,b,A,P)),(b=c>-1?g[c]:null)&&Gr(b))}function Gr(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[et])Tt(g.i,c);else{var b=c.type,A=c.proxy;g.removeEventListener?g.removeEventListener(b,A,c.capture):g.detachEvent?g.detachEvent(ti(b),A):g.addListener&&g.removeListener&&g.removeListener(A),(b=Wa(g))?(Tt(b,c),b.h==0&&(b.src=null,g[Pt]=null)):at(c)}}}function ti(c){return c in Ie?Ie[c]:Ie[c]="on"+c}function sl(c,g){if(c.da)c=!0;else{g=new gt(g,this);const b=c.listener,A=c.ha||c.src;c.fa&&Gr(c),c=b.call(A,g)}return c}function Wa(c){return c=c[Pt],c instanceof ft?c:null}var ll="__closure_events_fn_"+(Math.random()*1e9>>>0);function ol(c){return typeof c=="function"?c:(c[ll]||(c[ll]=function(g){return c.handleEvent(g)}),c[ll])}function _e(){O.call(this),this.i=new ft(this),this.M=this,this.G=null}T(_e,O),_e.prototype[et]=!0,_e.prototype.removeEventListener=function(c,g,b,A){Fr(this,c,g,b,A)};function Ve(c,g){var b,A=c.G;if(A)for(b=[];A;A=A.G)b.push(A);if(c=c.M,A=g.type||g,typeof g=="string")g=new V(g,c);else if(g instanceof V)g.target=g.target||c;else{var P=g;g=new V(A,c),ot(g,P)}P=!0;let Q,lt;if(b)for(lt=b.length-1;lt>=0;lt--)Q=g.g=b[lt],P=ia(Q,A,!0,g)&&P;if(Q=g.g=c,P=ia(Q,A,!0,g)&&P,P=ia(Q,A,!1,g)&&P,b)for(lt=0;lt<b.length;lt++)Q=g.g=b[lt],P=ia(Q,A,!1,g)&&P}_e.prototype.N=function(){if(_e.Z.N.call(this),this.i){var c=this.i;for(const g in c.g){const b=c.g[g];for(let A=0;A<b.length;A++)at(b[A]);delete c.g[g],c.h--}}this.G=null},_e.prototype.J=function(c,g,b,A){return this.i.add(String(c),g,!1,b,A)},_e.prototype.K=function(c,g,b,A){return this.i.add(String(c),g,!0,b,A)};function ia(c,g,b,A){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();let P=!0;for(let Q=0;Q<g.length;++Q){const lt=g[Q];if(lt&&!lt.da&&lt.capture==b){const Rt=lt.listener,ge=lt.ha||lt.src;lt.fa&&Tt(c.i,lt),P=Rt.call(ge,A)!==!1&&P}}return P&&!A.defaultPrevented}function xh(c,g){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=y(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(g)>2147483647?-1:f.setTimeout(c,g||0)}function Fo(c){c.g=xh(()=>{c.g=null,c.i&&(c.i=!1,Fo(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class We extends O{constructor(g,b){super(),this.m=g,this.l=b,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:Fo(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function tr(c){O.call(this),this.h=c,this.g={}}T(tr,O);var ul=[];function cl(c){ut(c.g,function(g,b){this.g.hasOwnProperty(b)&&Gr(g)},c),c.g={}}tr.prototype.N=function(){tr.Z.N.call(this),cl(this)},tr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var aa=f.JSON.stringify,Th=f.JSON.parse,Go=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function Qo(){}function Yo(){}var Pn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Pe(){V.call(this,"d")}T(Pe,V);function Sn(){V.call(this,"c")}T(Sn,V);var me={},Ko=null;function Qr(){return Ko=Ko||new _e}me.Ia="serverreachability";function $o(c){V.call(this,me.Ia,c)}T($o,V);function ei(c){const g=Qr();Ve(g,new $o(g))}me.STAT_EVENT="statevent";function er(c,g){V.call(this,me.STAT_EVENT,c),this.stat=g}T(er,V);function be(c){const g=Qr();Ve(g,new er(g,c))}me.Ja="timingevent";function ni(c,g){V.call(this,me.Ja,c),this.size=g}T(ni,V);function ii(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},g)}function Bn(){this.g=!0}Bn.prototype.ua=function(){this.g=!1};function Ah(c,g,b,A,P,Q){c.info(function(){if(c.g)if(Q){var lt="",Rt=Q.split("&");for(let Gt=0;Gt<Rt.length;Gt++){var ge=Rt[Gt].split("=");if(ge.length>1){const le=ge[0];ge=ge[1];const Nn=le.split("_");lt=Nn.length>=2&&Nn[1]=="type"?lt+(le+"="+ge+"&"):lt+(le+"=redacted&")}}}else lt=null;else lt=Q;return"XMLHTTP REQ ("+A+") [attempt "+P+"]: "+g+`
`+b+`
`+lt})}function Xo(c,g,b,A,P,Q,lt){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+P+"]: "+g+`
`+b+`
`+Q+" "+lt})}function ai(c,g,b,A){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+Sh(c,b)+(A?" "+A:"")})}function nr(c,g){c.info(function(){return"TIMEOUT: "+g})}Bn.prototype.info=function(){};function Sh(c,g){if(!c.g)return g;if(!g)return null;try{const Q=JSON.parse(g);if(Q){for(c=0;c<Q.length;c++)if(Array.isArray(Q[c])){var b=Q[c];if(!(b.length<2)){var A=b[1];if(Array.isArray(A)&&!(A.length<1)){var P=A[0];if(P!="noop"&&P!="stop"&&P!="close")for(let lt=1;lt<A.length;lt++)A[lt]=""}}}}return aa(Q)}catch{return g}}var ir={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},hl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},fl;function ar(){}T(ar,Qo),ar.prototype.g=function(){return new XMLHttpRequest},fl=new ar;function Vi(c){return encodeURIComponent(String(c))}function Zo(c){var g=1;c=c.split(":");const b=[];for(;g>0&&c.length;)b.push(c.shift()),g--;return c.length&&b.push(c.join(":")),b}function qn(c,g,b,A){this.j=c,this.i=g,this.l=b,this.S=A||1,this.V=new tr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Hn}function Hn(){this.i=null,this.g="",this.h=!1}var Ee={},ke={};function ri(c,g,b){c.M=1,c.A=rr(Te(g)),c.u=b,c.R=!0,Yr(c,null)}function Yr(c,g){c.F=Date.now(),si(c),c.B=Te(c.A);var b=c.B,A=c.S;Array.isArray(A)||(A=[String(A)]),Zr(b.i,"t",A),c.C=0,b=c.j.L,c.h=new Hn,c.g=fu(c.j,b?g:null,!c.u),c.P>0&&(c.O=new We(y(c.Y,c,c.g),c.P)),g=c.V,b=c.g,A=c.ba;var P="readystatechange";Array.isArray(P)||(P&&(ul[0]=P.toString()),P=ul);for(let Q=0;Q<P.length;Q++){const lt=se(b,P[Q],A||g.handleEvent,!1,g.h||g);if(!lt)break;g.g[lt.key]=lt}g=c.J?k(c.J):{},c.u?(c.v||(c.v="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,g)):(c.v="GET",c.g.ea(c.B,c.v,null,g)),ei(),Ah(c.i,c.v,c.B,c.l,c.S,c.u)}qn.prototype.ba=function(c){c=c.target;const g=this.O;g&&Qn(c)==3?g.j():this.Y(c)},qn.prototype.Y=function(c){try{if(c==this.g)t:{const Rt=Qn(this.g),ge=this.g.ya(),Gt=this.g.ca();if(!(Rt<3)&&(Rt!=3||this.g&&(this.h.h||this.g.la()||Be(this.g)))){this.K||Rt!=4||ge==7||(ge==8||Gt<=0?ei(3):ei(2)),li(this);var g=this.g.ca();this.X=g;var b=wh(this);if(this.o=g==200,Xo(this.i,this.v,this.B,this.l,this.S,Rt,g),this.o){if(this.U&&!this.L){e:{if(this.g){var A,P=this.g;if((A=P.g?P.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(A)){var Q=A;break e}}Q=null}if(c=Q)ai(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,oi(this,c);else{this.o=!1,this.m=3,be(12),fn(this),wn(this);break t}}if(this.R){c=!0;let le;for(;!this.K&&this.C<b.length;)if(le=Wo(this,b),le==ke){Rt==4&&(this.m=4,be(14),c=!1),ai(this.i,this.l,null,"[Incomplete Response]");break}else if(le==Ee){this.m=4,be(15),ai(this.i,this.l,b,"[Invalid Chunk]"),c=!1;break}else ai(this.i,this.l,le,null),oi(this,le);if(Jo(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Rt!=4||b.length!=0||this.h.h||(this.m=1,be(16),c=!1),this.o=this.o&&c,!c)ai(this.i,this.l,b,"[Invalid Chunked Response]"),fn(this),wn(this);else if(b.length>0&&!this.W){this.W=!0;var lt=this.j;lt.g==this&&lt.aa&&!lt.P&&(lt.j.info("Great, no buffering proxy detected. Bytes received: "+b.length),Rl(lt),lt.P=!0,be(11))}}else ai(this.i,this.l,b,null),oi(this,b);Rt==4&&fn(this),this.o&&!this.K&&(Rt==4?ou(this.j,this):(this.o=!1,si(this)))}else Oi(this.g),g==400&&b.indexOf("Unknown SID")>0?(this.m=3,be(12)):(this.m=0,be(13)),fn(this),wn(this)}}}catch{}finally{}};function wh(c){if(!Jo(c))return c.g.la();const g=Be(c.g);if(g==="")return"";let b="";const A=g.length,P=Qn(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return fn(c),wn(c),"";c.h.i=new f.TextDecoder}for(let Q=0;Q<A;Q++)c.h.h=!0,b+=c.h.i.decode(g[Q],{stream:!(P&&Q==A-1)});return g.length=0,c.h.g+=b,c.C=0,c.h.g}function Jo(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Wo(c,g){var b=c.C,A=g.indexOf(`
`,b);return A==-1?ke:(b=Number(g.substring(b,A)),isNaN(b)?Ee:(A+=1,A+b>g.length?ke:(g=g.slice(A,A+b),c.C=A+b,g)))}qn.prototype.cancel=function(){this.K=!0,fn(this)};function si(c){c.T=Date.now()+c.H,Kr(c,c.H)}function Kr(c,g){if(c.D!=null)throw Error("WatchDog timer not null");c.D=ii(y(c.aa,c),g)}function li(c){c.D&&(f.clearTimeout(c.D),c.D=null)}qn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(nr(this.i,this.B),this.M!=2&&(ei(),be(17)),fn(this),this.m=2,wn(this)):Kr(this,this.T-c)};function wn(c){c.j.I==0||c.K||ou(c.j,c)}function fn(c){li(c);var g=c.O;g&&typeof g.dispose=="function"&&g.dispose(),c.O=null,cl(c.V),c.g&&(g=c.g,c.g=null,g.abort(),g.dispose())}function oi(c,g){try{var b=c.j;if(b.I!=0&&(b.g==c||ci(b.h,c))){if(!c.L&&ci(b.h,c)&&b.I==3){try{var A=b.Ba.g.parse(g)}catch{A=null}if(Array.isArray(A)&&A.length==3){var P=A;if(P[0]==0){t:if(!b.v){if(b.g)if(b.g.F+3e3<c.F)ns(b),fa(b);else break t;fr(b),be(18)}}else b.xa=P[1],0<b.xa-b.K&&P[2]<37500&&b.F&&b.A==0&&!b.C&&(b.C=ii(y(b.Va,b),6e3));ui(b.h)<=1&&b.ta&&(b.ta=void 0)}else pi(b,11)}else if((c.L||b.g==c)&&ns(b),!R(g))for(P=b.Ba.g.parse(g),g=0;g<P.length;g++){let Gt=P[g];const le=Gt[0];if(!(le<=b.K))if(b.K=le,Gt=Gt[1],b.I==2)if(Gt[0]=="c"){b.M=Gt[1],b.ba=Gt[2];const Nn=Gt[3];Nn!=null&&(b.ka=Nn,b.j.info("VER="+b.ka));const yi=Gt[4];yi!=null&&(b.za=yi,b.j.info("SVER="+b.za));const Yn=Gt[5];Yn!=null&&typeof Yn=="number"&&Yn>0&&(A=1.5*Yn,b.O=A,b.j.info("backChannelRequestTimeoutMs_="+A)),A=b;const Kn=c.g;if(Kn){const dr=Kn.g?Kn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(dr){var Q=A.h;Q.g||dr.indexOf("spdy")==-1&&dr.indexOf("quic")==-1&&dr.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(gl(Q,Q.h),Q.h=null))}if(A.G){const is=Kn.g?Kn.g.getResponseHeader("X-HTTP-Session-Id"):null;is&&(A.wa=is,Kt(A.J,A.G,is))}}b.I=3,b.l&&b.l.ra(),b.aa&&(b.T=Date.now()-c.F,b.j.info("Handshake RTT: "+b.T+"ms")),A=b;var lt=c;if(A.na=hu(A,A.L?A.ba:null,A.W),lt.L){pl(A.h,lt);var Rt=lt,ge=A.O;ge&&(Rt.H=ge),Rt.D&&(li(Rt),si(Rt)),A.g=lt}else su(A);b.i.length>0&&gi(b)}else Gt[0]!="stop"&&Gt[0]!="close"||pi(b,7);else b.I==3&&(Gt[0]=="stop"||Gt[0]=="close"?Gt[0]=="stop"?pi(b,7):Sl(b):Gt[0]!="noop"&&b.l&&b.l.qa(Gt),b.A=0)}}ei(4)}catch{}}var xe=class{constructor(c,g){this.g=c,this.map=g}};function dl(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function ml(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function ui(c){return c.h?1:c.g?c.g.size:0}function ci(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function gl(c,g){c.g?c.g.add(g):c.h=g}function pl(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}dl.prototype.cancel=function(){if(this.i=yl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function yl(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const b of c.g.values())g=g.concat(b.G);return g}return L(c.i)}var tu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function $r(c,g){if(c){c=c.split("&");for(let b=0;b<c.length;b++){const A=c[b].indexOf("=");let P,Q=null;A>=0?(P=c[b].substring(0,A),Q=c[b].substring(A+1)):P=c[b],g(P,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function dn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let g;c instanceof dn?(this.l=c.l,Le(this,c.j),this.o=c.o,this.g=c.g,ra(this,c.u),this.h=c.h,vl(this,au(c.i)),this.m=c.m):c&&(g=String(c).match(tu))?(this.l=!1,Le(this,g[1]||"",!0),this.o=hi(g[2]||""),this.g=hi(g[3]||"",!0),ra(this,g[4]),this.h=hi(g[5]||"",!0),vl(this,g[6]||"",!0),this.m=hi(g[7]||"")):(this.l=!1,this.i=new la(null,this.l))}dn.prototype.toString=function(){const c=[];var g=this.j;g&&c.push(sr(g,Xr,!0),":");var b=this.g;return(b||g=="file")&&(c.push("//"),(g=this.o)&&c.push(sr(g,Xr,!0),"@"),c.push(Vi(b).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.u,b!=null&&c.push(":",String(b))),(b=this.h)&&(this.g&&b.charAt(0)!="/"&&c.push("/"),c.push(sr(b,b.charAt(0)=="/"?_l:eu,!0))),(b=this.i.toString())&&c.push("?",b),(b=this.m)&&c.push("#",sr(b,nu)),c.join("")},dn.prototype.resolve=function(c){const g=Te(this);let b=!!c.j;b?Le(g,c.j):b=!!c.o,b?g.o=c.o:b=!!c.g,b?g.g=c.g:b=c.u!=null;var A=c.h;if(b)ra(g,c.u);else if(b=!!c.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var P=g.h.lastIndexOf("/");P!=-1&&(A=g.h.slice(0,P+1)+A)}if(P=A,P==".."||P==".")A="";else if(P.indexOf("./")!=-1||P.indexOf("/.")!=-1){A=P.lastIndexOf("/",0)==0,P=P.split("/");const Q=[];for(let lt=0;lt<P.length;){const Rt=P[lt++];Rt=="."?A&&lt==P.length&&Q.push(""):Rt==".."?((Q.length>1||Q.length==1&&Q[0]!="")&&Q.pop(),A&&lt==P.length&&Q.push("")):(Q.push(Rt),A=!0)}A=Q.join("/")}else A=P}return b?g.h=A:b=c.i.toString()!=="",b?vl(g,au(c.i)):b=!!c.m,b&&(g.m=c.m),g};function Te(c){return new dn(c)}function Le(c,g,b){c.j=b?hi(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function ra(c,g){if(g){if(g=Number(g),isNaN(g)||g<0)throw Error("Bad port number "+g);c.u=g}else c.u=null}function vl(c,g,b){g instanceof la?(c.i=g,Jr(c.i,c.l)):(b||(g=sr(g,sa)),c.i=new la(g,c.l))}function Kt(c,g,b){c.i.set(g,b)}function rr(c){return Kt(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function hi(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function sr(c,g,b){return typeof c=="string"?(c=encodeURI(c).replace(g,an),b&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function an(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Xr=/[#\/\?@]/g,eu=/[#\?:]/g,_l=/[#\?]/g,sa=/[#\?@]/g,nu=/#/g;function la(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function rn(c){c.g||(c.g=new Map,c.h=0,c.i&&$r(c.i,function(g,b){c.add(decodeURIComponent(g.replace(/\+/g," ")),b)}))}a=la.prototype,a.add=function(c,g){rn(this),this.i=null,c=oa(this,c);let b=this.g.get(c);return b||this.g.set(c,b=[]),b.push(g),this.h+=1,this};function iu(c,g){rn(c),g=oa(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function bl(c,g){return rn(c),g=oa(c,g),c.g.has(g)}a.forEach=function(c,g){rn(this),this.g.forEach(function(b,A){b.forEach(function(P){c.call(g,P,A,this)},this)},this)};function El(c,g){rn(c);let b=[];if(typeof g=="string")bl(c,g)&&(b=b.concat(c.g.get(oa(c,g))));else for(c=Array.from(c.g.values()),g=0;g<c.length;g++)b=b.concat(c[g]);return b}a.set=function(c,g){return rn(this),this.i=null,c=oa(this,c),bl(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},a.get=function(c,g){return c?(c=El(this,c),c.length>0?String(c[0]):g):g};function Zr(c,g,b){iu(c,g),b.length>0&&(c.i=null,c.g.set(oa(c,g),L(b)),c.h+=b.length)}a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(let A=0;A<g.length;A++){var b=g[A];const P=Vi(b);b=El(this,b);for(let Q=0;Q<b.length;Q++){let lt=P;b[Q]!==""&&(lt+="="+Vi(b[Q])),c.push(lt)}}return this.i=c.join("&")};function au(c){const g=new la;return g.i=c.i,c.g&&(g.g=new Map(c.g),g.h=c.h),g}function oa(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function Jr(c,g){g&&!c.j&&(rn(c),c.i=null,c.g.forEach(function(b,A){const P=A.toLowerCase();A!=P&&(iu(this,A),Zr(this,P,b))},c)),c.j=g}function Fn(c,g){const b=new Bn;if(f.Image){const A=new Image;A.onload=E(Rn,b,"TestLoadImage: loaded",!0,g,A),A.onerror=E(Rn,b,"TestLoadImage: error",!1,g,A),A.onabort=E(Rn,b,"TestLoadImage: abort",!1,g,A),A.ontimeout=E(Rn,b,"TestLoadImage: timeout",!1,g,A),f.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else g(!1)}function xl(c,g){const b=new Bn,A=new AbortController,P=setTimeout(()=>{A.abort(),Rn(b,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:A.signal}).then(Q=>{clearTimeout(P),Q.ok?Rn(b,"TestPingServer: ok",!0,g):Rn(b,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(P),Rn(b,"TestPingServer: error",!1,g)})}function Rn(c,g,b,A,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),A(b)}catch{}}function ua(){this.g=new Go}function fi(c){this.i=c.Sb||null,this.h=c.ab||!1}T(fi,Qo),fi.prototype.g=function(){return new lr(this.i,this.h)};function lr(c,g){_e.call(this),this.H=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}T(lr,_e),a=lr.prototype,a.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=g,this.readyState=1,Gn(this)},a.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const g={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(g.body=c),(this.H||f).fetch(new Request(this.D,g)).then(this.Pa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ca(this)),this.readyState=0},a.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Gn(this)),this.g&&(this.readyState=3,Gn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Wr(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function Wr(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}a.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.B.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?ca(this):Gn(this),this.readyState==3&&Wr(this)}},a.Oa=function(c){this.g&&(this.response=this.responseText=c,ca(this))},a.Na=function(c){this.g&&(this.response=c,ca(this))},a.ga=function(){this.g&&ca(this)};function ca(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Gn(c)}a.setRequestHeader=function(c,g){this.A.append(c,g)},a.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var b=g.next();!b.done;)b=b.value,c.push(b[0]+": "+b[1]),b=g.next();return c.join(`\r
`)};function Gn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(lr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Cn(c){let g="";return ut(c,function(b,A){g+=A,g+=":",g+=b,g+=`\r
`}),g}function or(c,g,b){t:{for(A in b){var A=!1;break t}A=!0}A||(b=Cn(b),typeof c=="string"?b!=null&&Vi(b):Kt(c,g,b))}function Zt(c){_e.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}T(Zt,_e);var di=/^https?$/i,Tl=["POST","PUT"];a=Zt.prototype,a.Fa=function(c){this.H=c},a.ea=function(c,g,b,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():fl.g(),this.g.onreadystatechange=S(y(this.Ca,this));try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(Q){ur(this,Q);return}if(c=b||"",b=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var P in A)b.set(P,A[P]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const Q of A.keys())b.set(Q,A.get(Q));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(b.keys()).find(Q=>Q.toLowerCase()=="content-type"),P=f.FormData&&c instanceof f.FormData,!(Array.prototype.indexOf.call(Tl,g,void 0)>=0)||A||P||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,lt]of b)this.g.setRequestHeader(Q,lt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(Q){ur(this,Q)}};function ur(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.o=5,Al(c),Mi(c)}function Al(c){c.A||(c.A=!0,Ve(c,"complete"),Ve(c,"error"))}a.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Ve(this,"complete"),Ve(this,"abort"),Mi(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Mi(this,!0)),Zt.Z.N.call(this)},a.Ca=function(){this.u||(this.B||this.v||this.j?cr(this):this.Xa())},a.Xa=function(){cr(this)};function cr(c){if(c.h&&typeof u<"u"){if(c.v&&Qn(c)==4)setTimeout(c.Ca.bind(c),0);else if(Ve(c,"readystatechange"),Qn(c)==4){c.h=!1;try{const Q=c.ca();t:switch(Q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break t;default:g=!1}var b;if(!(b=g)){var A;if(A=Q===0){let lt=String(c.D).match(tu)[1]||null;!lt&&f.self&&f.self.location&&(lt=f.self.location.protocol.slice(0,-1)),A=!di.test(lt?lt.toLowerCase():"")}b=A}if(b)Ve(c,"complete"),Ve(c,"success");else{c.o=6;try{var P=Qn(c)>2?c.g.statusText:""}catch{P=""}c.l=P+" ["+c.ca()+"]",Al(c)}}finally{Mi(c)}}}}function Mi(c,g){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const b=c.g;c.g=null,g||Ve(c,"ready");try{b.onreadystatechange=null}catch{}}}a.isActive=function(){return!!this.g};function Qn(c){return c.g?c.g.readyState:0}a.ca=function(){try{return Qn(this)>2?this.g.status:-1}catch{return-1}},a.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.La=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),Th(g)}};function Be(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Oi(c){const g={};c=(c.g&&Qn(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(R(c[A]))continue;var b=Zo(c[A]);const P=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const Q=g[P]||[];g[P]=Q,Q.push(b)}Ut(g,function(A){return A.join(", ")})}a.ya=function(){return this.o},a.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function mi(c,g,b){return b&&b.internalChannelParams&&b.internalChannelParams[c]||g}function ha(c){this.za=0,this.i=[],this.j=new Bn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=mi("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=mi("baseRetryDelayMs",5e3,c),this.Za=mi("retryDelaySeedMs",1e4,c),this.Ta=mi("forwardChannelMaxRetries",2,c),this.va=mi("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new dl(c&&c.concurrentRequestLimit),this.Ba=new ua,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}a=ha.prototype,a.ka=8,a.I=1,a.connect=function(c,g,b,A){be(0),this.W=c,this.H=g||{},b&&A!==void 0&&(this.H.OSID=b,this.H.OAID=A),this.F=this.X,this.J=hu(this,null,this.W),gi(this)};function Sl(c){if(ts(c),c.I==3){var g=c.V++,b=Te(c.J);if(Kt(b,"SID",c.M),Kt(b,"RID",g),Kt(b,"TYPE","terminate"),hr(c,b),g=new qn(c,c.j,g),g.M=2,g.A=rr(Te(b)),b=!1,f.navigator&&f.navigator.sendBeacon)try{b=f.navigator.sendBeacon(g.A.toString(),"")}catch{}!b&&f.Image&&(new Image().src=g.A,b=!0),b||(g.g=fu(g.j,null),g.g.ea(g.A)),g.F=Date.now(),si(g)}cu(c)}function fa(c){c.g&&(Rl(c),c.g.cancel(),c.g=null)}function ts(c){fa(c),c.v&&(f.clearTimeout(c.v),c.v=null),ns(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&f.clearTimeout(c.m),c.m=null)}function gi(c){if(!ml(c.h)&&!c.m){c.m=!0;var g=c.Ea;bt||w(),_t||(bt(),_t=!0),N.add(g,c),c.D=0}}function es(c,g){return ui(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=g.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=ii(y(c.Ea,c,g),uu(c,c.D)),c.D++,!0)}a.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const P=new qn(this,this.j,c);let Q=this.o;if(this.U&&(Q?(Q=k(Q),ot(Q,this.U)):Q=this.U),this.u!==null||this.R||(P.J=Q,Q=null),this.S)t:{for(var g=0,b=0;b<this.i.length;b++){e:{var A=this.i[b];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(g+=A,g>4096){g=b;break t}if(g===4096||b===this.i.length-1){g=b+1;break t}}g=1e3}else g=1e3;g=ru(this,P,g),b=Te(this.J),Kt(b,"RID",c),Kt(b,"CVER",22),this.G&&Kt(b,"X-HTTP-Session-Id",this.G),hr(this,b),Q&&(this.R?g="headers="+Vi(Cn(Q))+"&"+g:this.u&&or(b,this.u,Q)),gl(this.h,P),this.Ra&&Kt(b,"TYPE","init"),this.S?(Kt(b,"$req",g),Kt(b,"SID","null"),P.U=!0,ri(P,b,null)):ri(P,b,g),this.I=2}}else this.I==3&&(c?wl(this,c):this.i.length==0||ml(this.h)||wl(this))};function wl(c,g){var b;g?b=g.l:b=c.V++;const A=Te(c.J);Kt(A,"SID",c.M),Kt(A,"RID",b),Kt(A,"AID",c.K),hr(c,A),c.u&&c.o&&or(A,c.u,c.o),b=new qn(c,c.j,b,c.D+1),c.u===null&&(b.J=c.o),g&&(c.i=g.G.concat(c.i)),g=ru(c,b,1e3),b.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),gl(c.h,b),ri(b,A,g)}function hr(c,g){c.H&&ut(c.H,function(b,A){Kt(g,A,b)}),c.l&&ut({},function(b,A){Kt(g,A,b)})}function ru(c,g,b){b=Math.min(c.i.length,b);const A=c.l?y(c.l.Ka,c.l,c):null;t:{var P=c.i;let Rt=-1;for(;;){const ge=["count="+b];Rt==-1?b>0?(Rt=P[0].g,ge.push("ofs="+Rt)):Rt=0:ge.push("ofs="+Rt);let Gt=!0;for(let le=0;le<b;le++){var Q=P[le].g;const Nn=P[le].map;if(Q-=Rt,Q<0)Rt=Math.max(0,P[le].g-100),Gt=!1;else try{Q="req"+Q+"_"||"";try{var lt=Nn instanceof Map?Nn:Object.entries(Nn);for(const[yi,Yn]of lt){let Kn=Yn;m(Yn)&&(Kn=aa(Yn)),ge.push(Q+yi+"="+encodeURIComponent(Kn))}}catch(yi){throw ge.push(Q+"type="+encodeURIComponent("_badmap")),yi}}catch{A&&A(Nn)}}if(Gt){lt=ge.join("&");break t}}lt=void 0}return c=c.i.splice(0,b),g.G=c,lt}function su(c){if(!c.g&&!c.v){c.Y=1;var g=c.Da;bt||w(),_t||(bt(),_t=!0),N.add(g,c),c.A=0}}function fr(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=ii(y(c.Da,c),uu(c,c.A)),c.A++,!0)}a.Da=function(){if(this.v=null,lu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=ii(y(this.Wa,this),c)}},a.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,be(10),fa(this),lu(this))};function Rl(c){c.B!=null&&(f.clearTimeout(c.B),c.B=null)}function lu(c){c.g=new qn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var g=Te(c.na);Kt(g,"RID","rpc"),Kt(g,"SID",c.M),Kt(g,"AID",c.K),Kt(g,"CI",c.F?"0":"1"),!c.F&&c.ia&&Kt(g,"TO",c.ia),Kt(g,"TYPE","xmlhttp"),hr(c,g),c.u&&c.o&&or(g,c.u,c.o),c.O&&(c.g.H=c.O);var b=c.g;c=c.ba,b.M=1,b.A=rr(Te(g)),b.u=null,b.R=!0,Yr(b,c)}a.Va=function(){this.C!=null&&(this.C=null,fa(this),fr(this),be(19))};function ns(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function ou(c,g){var b=null;if(c.g==g){ns(c),Rl(c),c.g=null;var A=2}else if(ci(c.h,g))b=g.G,pl(c.h,g),A=1;else return;if(c.I!=0){if(g.o)if(A==1){b=g.u?g.u.length:0,g=Date.now()-g.F;var P=c.D;A=Qr(),Ve(A,new ni(A,b)),gi(c)}else su(c);else if(P=g.m,P==3||P==0&&g.X>0||!(A==1&&es(c,g)||A==2&&fr(c)))switch(b&&b.length>0&&(g=c.h,g.i=g.i.concat(b)),P){case 1:pi(c,5);break;case 4:pi(c,10);break;case 3:pi(c,6);break;default:pi(c,2)}}}function uu(c,g){let b=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(b*=2),b*g}function pi(c,g){if(c.j.info("Error code "+g),g==2){var b=y(c.bb,c),A=c.Ua;const P=!A;A=new dn(A||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Le(A,"https"),rr(A),P?Fn(A.toString(),b):xl(A.toString(),b)}else be(2);c.I=0,c.l&&c.l.pa(g),cu(c),ts(c)}a.bb=function(c){c?(this.j.info("Successfully pinged google.com"),be(2)):(this.j.info("Failed to ping google.com"),be(1))};function cu(c){if(c.I=0,c.ja=[],c.l){const g=yl(c.h);(g.length!=0||c.i.length!=0)&&(K(c.ja,g),K(c.ja,c.i),c.h.i.length=0,L(c.i),c.i.length=0),c.l.oa()}}function hu(c,g,b){var A=b instanceof dn?Te(b):new dn(b);if(A.g!="")g&&(A.g=g+"."+A.g),ra(A,A.u);else{var P=f.location;A=P.protocol,g=g?g+"."+P.hostname:P.hostname,P=+P.port;const Q=new dn(null);A&&Le(Q,A),g&&(Q.g=g),P&&ra(Q,P),b&&(Q.h=b),A=Q}return b=c.G,g=c.wa,b&&g&&Kt(A,b,g),Kt(A,"VER",c.ka),hr(c,A),A}function fu(c,g,b){if(g&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Aa&&!c.ma?new Zt(new fi({ab:b})):new Zt(c.ma),g.Fa(c.L),g}a.isActive=function(){return!!this.l&&this.l.isActive(this)};function du(){}a=du.prototype,a.ra=function(){},a.qa=function(){},a.pa=function(){},a.oa=function(){},a.isActive=function(){return!0},a.Ka=function(){};function da(){}da.prototype.g=function(c,g){return new tn(c,g)};function tn(c,g){_e.call(this),this.g=new ha(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.sa&&(c?c["X-WebChannel-Client-Profile"]=g.sa:c={"X-WebChannel-Client-Profile":g.sa}),this.g.U=c,(c=g&&g.Qb)&&!R(c)&&(this.g.u=c),this.A=g&&g.supportsCrossDomainXhr||!1,this.v=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!R(g)&&(this.g.G=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new ji(this)}T(tn,_e),tn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},tn.prototype.close=function(){Sl(this.g)},tn.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var b={};b.__data__=c,c=b}else this.v&&(b={},b.__data__=aa(c),c=b);g.i.push(new xe(g.Ya++,c)),g.I==3&&gi(g)},tn.prototype.N=function(){this.g.l=null,delete this.j,Sl(this.g),delete this.g,tn.Z.N.call(this)};function mu(c){Pe.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){t:{for(const b in g){c=b;break t}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}T(mu,Pe);function gu(){Sn.call(this),this.status=1}T(gu,Sn);function ji(c){this.g=c}T(ji,du),ji.prototype.ra=function(){Ve(this.g,"a")},ji.prototype.qa=function(c){Ve(this.g,new mu(c))},ji.prototype.pa=function(c){Ve(this.g,new gu)},ji.prototype.oa=function(){Ve(this.g,"b")},da.prototype.createWebChannel=da.prototype.g,tn.prototype.send=tn.prototype.o,tn.prototype.open=tn.prototype.m,tn.prototype.close=tn.prototype.close,b1=function(){return new da},_1=function(){return Qr()},v1=me,Jd={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ir.NO_ERROR=0,ir.TIMEOUT=8,ir.HTTP_ERROR=6,Dc=ir,hl.COMPLETE="complete",y1=hl,Yo.EventType=Pn,Pn.OPEN="a",Pn.CLOSE="b",Pn.ERROR="c",Pn.MESSAGE="d",_e.prototype.listen=_e.prototype.J,go=Yo,Zt.prototype.listenOnce=Zt.prototype.K,Zt.prototype.getLastError=Zt.prototype.Ha,Zt.prototype.getLastErrorCode=Zt.prototype.ya,Zt.prototype.getStatus=Zt.prototype.ca,Zt.prototype.getResponseJson=Zt.prototype.La,Zt.prototype.getResponseText=Zt.prototype.la,Zt.prototype.send=Zt.prototype.ea,Zt.prototype.setWithCredentials=Zt.prototype.Fa,p1=Zt}).apply(typeof bc<"u"?bc:typeof self<"u"?self:typeof window<"u"?window:{});const bv="@firebase/firestore",Ev="4.9.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ze.UNAUTHENTICATED=new Ze(null),Ze.GOOGLE_CREDENTIALS=new Ze("google-credentials-uid"),Ze.FIRST_PARTY=new Ze("first-party-uid"),Ze.MOCK_USER=new Ze("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let el="12.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mr=new Nm("@firebase/firestore");function Os(){return Mr.logLevel}function ht(a,...e){if(Mr.logLevel<=qt.DEBUG){const i=e.map(Im);Mr.debug(`Firestore (${el}): ${a}`,...i)}}function ea(a,...e){if(Mr.logLevel<=qt.ERROR){const i=e.map(Im);Mr.error(`Firestore (${el}): ${a}`,...i)}}function Hs(a,...e){if(Mr.logLevel<=qt.WARN){const i=e.map(Im);Mr.warn(`Firestore (${el}): ${a}`,...i)}}function Im(a){if(typeof a=="string")return a;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(i){return JSON.stringify(i)})(a)}catch{return a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xt(a,e,i){let s="Unexpected state";typeof e=="string"?s=e:i=e,E1(a,s,i)}function E1(a,e,i){let s=`FIRESTORE (${el}) INTERNAL ASSERTION FAILED: ${e} (ID: ${a.toString(16)})`;if(i!==void 0)try{s+=" CONTEXT: "+JSON.stringify(i)}catch{s+=" CONTEXT: "+i}throw ea(s),new Error(s)}function Yt(a,e,i,s){let o="Unexpected state";typeof i=="string"?o=i:s=i,a||E1(e,o,s)}function wt(a,e){return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ct extends Xa{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x1{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class zw{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(Ze.UNAUTHENTICATED)))}shutdown(){}}class Uw{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class Pw{constructor(e){this.t=e,this.currentUser=Ze.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){Yt(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,i(p)):Promise.resolve();let u=new Pa;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Pa,e.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const p=u;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{ht("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(ht("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Pa)}}),0),f()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((s=>this.i!==e?(ht("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Yt(typeof s.accessToken=="string",31837,{l:s}),new x1(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Yt(e===null||typeof e=="string",2055,{h:e}),new Ze(e)}}class Bw{constructor(e,i,s){this.P=e,this.T=i,this.I=s,this.type="FirstParty",this.user=Ze.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class qw{constructor(e,i,s){this.P=e,this.T=i,this.I=s}getToken(){return Promise.resolve(new Bw(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(Ze.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class xv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Hw{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Aw(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){Yt(this.o===void 0,3512);const s=u=>{u.error!=null&&ht("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,ht("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?i(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{ht("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ht("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new xv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(Yt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new xv(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fw(a){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(a);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let s=0;s<a;s++)i[s]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=Fw(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<i&&(s+=e.charAt(o[u]%62))}return s}}function kt(a,e){return a<e?-1:a>e?1:0}function Wd(a,e){const i=Math.min(a.length,e.length);for(let s=0;s<i;s++){const o=a.charAt(s),u=e.charAt(s);if(o!==u)return Od(o)===Od(u)?kt(o,u):Od(o)?1:-1}return kt(a.length,e.length)}const Gw=55296,Qw=57343;function Od(a){const e=a.charCodeAt(0);return e>=Gw&&e<=Qw}function Fs(a,e,i){return a.length===e.length&&a.every(((s,o)=>i(s,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tv="__name__";class xi{constructor(e,i,s){i===void 0?i=0:i>e.length&&xt(637,{offset:i,range:e.length}),s===void 0?s=e.length-i:s>e.length-i&&xt(1746,{length:s,range:e.length-i}),this.segments=e,this.offset=i,this.len=s}get length(){return this.len}isEqual(e){return xi.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof xi?e.forEach((s=>{i.push(s)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,s=this.limit();i<s;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const s=Math.min(e.length,i.length);for(let o=0;o<s;o++){const u=xi.compareSegments(e.get(o),i.get(o));if(u!==0)return u}return kt(e.length,i.length)}static compareSegments(e,i){const s=xi.isNumericId(e),o=xi.isNumericId(i);return s&&!o?-1:!s&&o?1:s&&o?xi.extractNumericId(e).compare(xi.extractNumericId(i)):Wd(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ua.fromString(e.substring(4,e.length-2))}}class ne extends xi{construct(e,i,s){return new ne(e,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const s of e){if(s.indexOf("//")>=0)throw new ct(tt.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter((o=>o.length>0)))}return new ne(i)}static emptyPath(){return new ne([])}}const Yw=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ye extends xi{construct(e,i,s){return new Ye(e,i,s)}static isValidIdentifier(e){return Yw.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ye.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Tv}static keyField(){return new Ye([Tv])}static fromServerFormat(e){const i=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ct(tt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new ct(tt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ct(tt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new ct(tt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ye(i)}static emptyPath(){return new Ye([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(e){this.path=e}static fromPath(e){return new vt(ne.fromString(e))}static fromName(e){return new vt(ne.fromString(e).popFirst(5))}static empty(){return new vt(ne.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ne.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return ne.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new vt(new ne(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T1(a,e,i){if(!i)throw new ct(tt.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${e}.`)}function Kw(a,e,i,s){if(e===!0&&s===!0)throw new ct(tt.INVALID_ARGUMENT,`${a} and ${i} cannot be used together.`)}function Av(a){if(!vt.isDocumentKey(a))throw new ct(tt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function Sv(a){if(vt.isDocumentKey(a))throw new ct(tt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${a} has ${a.length}.`)}function A1(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}function ih(a){if(a===void 0)return"undefined";if(a===null)return"null";if(typeof a=="string")return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if(typeof a=="number"||typeof a=="boolean")return""+a;if(typeof a=="object"){if(a instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(a);return e?`a custom ${e} object`:"an object"}}return typeof a=="function"?"a function":xt(12329,{type:typeof a})}function Gs(a,e){if("_delegate"in a&&(a=a._delegate),!(a instanceof e)){if(e.name===a.constructor.name)throw new ct(tt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=ih(a);throw new ct(tt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return a}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function De(a,e){const i={typeString:a};return e&&(i.value=e),i}function Uo(a,e){if(!A1(a))throw new ct(tt.INVALID_ARGUMENT,"JSON must be an object");let i;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in a)){i=`JSON missing required field: '${s}'`;break}const f=a[s];if(o&&typeof f!==o){i=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){i=`Expected '${s}' field to equal '${u.value}'`;break}}if(i)throw new ct(tt.INVALID_ARGUMENT,i);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wv=-62135596800,Rv=1e6;class re{static now(){return re.fromMillis(Date.now())}static fromDate(e){return re.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),s=Math.floor((e-1e3*i)*Rv);return new re(i,s)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new ct(tt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ct(tt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<wv)throw new ct(tt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ct(tt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Rv}_compareTo(e){return this.seconds===e.seconds?kt(this.nanoseconds,e.nanoseconds):kt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:re._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Uo(e,re._jsonSchema))return new re(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-wv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}re._jsonSchemaVersion="firestore/timestamp/1.0",re._jsonSchema={type:De("string",re._jsonSchemaVersion),seconds:De("number"),nanoseconds:De("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{static fromTimestamp(e){return new At(e)}static min(){return new At(new re(0,0))}static max(){return new At(new re(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ro=-1;function $w(a,e){const i=a.toTimestamp().seconds,s=a.toTimestamp().nanoseconds+1,o=At.fromTimestamp(s===1e9?new re(i+1,0):new re(i,s));return new Ha(o,vt.empty(),e)}function Xw(a){return new Ha(a.readTime,a.key,Ro)}class Ha{constructor(e,i,s){this.readTime=e,this.documentKey=i,this.largestBatchId=s}static min(){return new Ha(At.min(),vt.empty(),Ro)}static max(){return new Ha(At.max(),vt.empty(),Ro)}}function Zw(a,e){let i=a.readTime.compareTo(e.readTime);return i!==0?i:(i=vt.comparator(a.documentKey,e.documentKey),i!==0?i:kt(a.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jw="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Ww{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nl(a){if(a.code!==tt.FAILED_PRECONDITION||a.message!==Jw)throw a;ht("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&xt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new nt(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(i,u).next(s,o)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof nt?i:nt.resolve(i)}catch(i){return nt.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):nt.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):nt.reject(i)}static resolve(e){return new nt(((i,s)=>{i(e)}))}static reject(e){return new nt(((i,s)=>{s(e)}))}static waitFor(e){return new nt(((i,s)=>{let o=0,u=0,f=!1;e.forEach((m=>{++o,m.next((()=>{++u,f&&u===o&&i()}),(p=>s(p)))})),f=!0,u===o&&i()}))}static or(e){let i=nt.resolve(!1);for(const s of e)i=i.next((o=>o?nt.resolve(o):s()));return i}static forEach(e,i){const s=[];return e.forEach(((o,u)=>{s.push(i.call(this,o,u))})),this.waitFor(s)}static mapArray(e,i){return new nt(((s,o)=>{const u=e.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const y=p;i(e[y]).next((E=>{f[y]=E,++m,m===u&&s(f)}),(E=>o(E)))}}))}static doWhile(e,i){return new nt(((s,o)=>{const u=()=>{e()===!0?i().next((()=>{u()}),o):s()};u()}))}}function tR(a){const e=a.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function il(a){return a.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ah{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>i.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}ah.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mm=-1;function rh(a){return a==null}function Pc(a){return a===0&&1/a==-1/0}function eR(a){return typeof a=="number"&&Number.isInteger(a)&&!Pc(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S1="";function nR(a){let e="";for(let i=0;i<a.length;i++)e.length>0&&(e=Cv(e)),e=iR(a.get(i),e);return Cv(e)}function iR(a,e){let i=e;const s=a.length;for(let o=0;o<s;o++){const u=a.charAt(o);switch(u){case"\0":i+="";break;case S1:i+="";break;default:i+=u}}return i}function Cv(a){return a+S1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nv(a){let e=0;for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&e++;return e}function Za(a,e){for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&e(i,a[i])}function w1(a){for(const e in a)if(Object.prototype.hasOwnProperty.call(a,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{constructor(e,i){this.comparator=e,this.root=i||Qe.EMPTY}insert(e,i){return new ce(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Qe.BLACK,null,null))}remove(e){return new ce(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Qe.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(e){let i=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return i+s.left.size;o<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,s)=>(e(i,s),!1)))}toString(){const e=[];return this.inorderTraversal(((i,s)=>(e.push(`${i}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ec(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ec(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ec(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ec(this.root,e,this.comparator,!0)}}class Ec{constructor(e,i,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=i?s(e.key,i):1,i&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Qe{constructor(e,i,s,o,u){this.key=e,this.value=i,this.color=s??Qe.RED,this.left=o??Qe.EMPTY,this.right=u??Qe.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,s,o,u){return new Qe(e??this.key,i??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,i,s),null):u===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Qe.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let s,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return Qe.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Qe.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Qe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw xt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw xt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw xt(27949);return e+(this.isRed()?0:1)}}Qe.EMPTY=null,Qe.RED=!0,Qe.BLACK=!1;Qe.EMPTY=new class{constructor(){this.size=0}get key(){throw xt(57766)}get value(){throw xt(16141)}get color(){throw xt(16727)}get left(){throw xt(29726)}get right(){throw xt(36894)}copy(e,i,s,o,u){return this}insert(e,i,s){return new Qe(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{constructor(e){this.comparator=e,this.data=new ce(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,s)=>(e(i),!1)))}forEachInRange(e,i){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new Dv(this.data.getIterator())}getIteratorFrom(e){return new Dv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((s=>{i=i.add(s)})),i}isEqual(e){if(!(e instanceof je)||this.size!==e.size)return!1;const i=this.data.getIterator(),s=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new je(this.comparator);return i.data=e,i}}class Dv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(e){this.fields=e,e.sort(Ye.comparator)}static empty(){return new Jn([])}unionWith(e){let i=new je(Ye.comparator);for(const s of this.fields)i=i.add(s);for(const s of e)i=i.add(s);return new Jn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return Fs(this.fields,e.fields,((i,s)=>i.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new R1("Invalid base64 string: "+u):u}})(e);return new Ke(i)}static fromUint8Array(e){const i=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(e);return new Ke(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const s=new Uint8Array(i.length);for(let o=0;o<i.length;o++)s[o]=i.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return kt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ke.EMPTY_BYTE_STRING=new Ke("");const aR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Fa(a){if(Yt(!!a,39018),typeof a=="string"){let e=0;const i=aR.exec(a);if(Yt(!!i,46558,{timestamp:a}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(a);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:ve(a.seconds),nanos:ve(a.nanos)}}function ve(a){return typeof a=="number"?a:typeof a=="string"?Number(a):0}function Ga(a){return typeof a=="string"?Ke.fromBase64String(a):Ke.fromUint8Array(a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C1="server_timestamp",N1="__type__",D1="__previous_value__",I1="__local_write_time__";function Om(a){var i,s;return((s=(((i=a==null?void 0:a.mapValue)==null?void 0:i.fields)||{})[N1])==null?void 0:s.stringValue)===C1}function sh(a){const e=a.mapValue.fields[D1];return Om(e)?sh(e):e}function Co(a){const e=Fa(a.mapValue.fields[I1].timestampValue);return new re(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rR{constructor(e,i,s,o,u,f,m,p,y,E){this.databaseId=e,this.appId=i,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=y,this.isUsingEmulator=E}}const Bc="(default)";class No{constructor(e,i){this.projectId=e,this.database=i||Bc}static empty(){return new No("","")}get isDefaultDatabase(){return this.database===Bc}isEqual(e){return e instanceof No&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V1="__type__",sR="__max__",xc={mapValue:{}},M1="__vector__",qc="value";function Qa(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?Om(a)?4:oR(a)?9007199254740991:lR(a)?10:11:xt(28295,{value:a})}function Di(a,e){if(a===e)return!0;const i=Qa(a);if(i!==Qa(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===e.booleanValue;case 4:return Co(a).isEqual(Co(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=Fa(o.timestampValue),m=Fa(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos})(a,e);case 5:return a.stringValue===e.stringValue;case 6:return(function(o,u){return Ga(o.bytesValue).isEqual(Ga(u.bytesValue))})(a,e);case 7:return a.referenceValue===e.referenceValue;case 8:return(function(o,u){return ve(o.geoPointValue.latitude)===ve(u.geoPointValue.latitude)&&ve(o.geoPointValue.longitude)===ve(u.geoPointValue.longitude)})(a,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return ve(o.integerValue)===ve(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=ve(o.doubleValue),m=ve(u.doubleValue);return f===m?Pc(f)===Pc(m):isNaN(f)&&isNaN(m)}return!1})(a,e);case 9:return Fs(a.arrayValue.values||[],e.arrayValue.values||[],Di);case 10:case 11:return(function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(Nv(f)!==Nv(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!Di(f[p],m[p])))return!1;return!0})(a,e);default:return xt(52216,{left:a})}}function Do(a,e){return(a.values||[]).find((i=>Di(i,e)))!==void 0}function Qs(a,e){if(a===e)return 0;const i=Qa(a),s=Qa(e);if(i!==s)return kt(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return kt(a.booleanValue,e.booleanValue);case 2:return(function(u,f){const m=ve(u.integerValue||u.doubleValue),p=ve(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(a,e);case 3:return Iv(a.timestampValue,e.timestampValue);case 4:return Iv(Co(a),Co(e));case 5:return Wd(a.stringValue,e.stringValue);case 6:return(function(u,f){const m=Ga(u),p=Ga(f);return m.compareTo(p)})(a.bytesValue,e.bytesValue);case 7:return(function(u,f){const m=u.split("/"),p=f.split("/");for(let y=0;y<m.length&&y<p.length;y++){const E=kt(m[y],p[y]);if(E!==0)return E}return kt(m.length,p.length)})(a.referenceValue,e.referenceValue);case 8:return(function(u,f){const m=kt(ve(u.latitude),ve(f.latitude));return m!==0?m:kt(ve(u.longitude),ve(f.longitude))})(a.geoPointValue,e.geoPointValue);case 9:return Vv(a.arrayValue,e.arrayValue);case 10:return(function(u,f){var S,L,K,$;const m=u.fields||{},p=f.fields||{},y=(S=m[qc])==null?void 0:S.arrayValue,E=(L=p[qc])==null?void 0:L.arrayValue,T=kt(((K=y==null?void 0:y.values)==null?void 0:K.length)||0,(($=E==null?void 0:E.values)==null?void 0:$.length)||0);return T!==0?T:Vv(y,E)})(a.mapValue,e.mapValue);case 11:return(function(u,f){if(u===xc.mapValue&&f===xc.mapValue)return 0;if(u===xc.mapValue)return 1;if(f===xc.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),y=f.fields||{},E=Object.keys(y);p.sort(),E.sort();for(let T=0;T<p.length&&T<E.length;++T){const S=Wd(p[T],E[T]);if(S!==0)return S;const L=Qs(m[p[T]],y[E[T]]);if(L!==0)return L}return kt(p.length,E.length)})(a.mapValue,e.mapValue);default:throw xt(23264,{he:i})}}function Iv(a,e){if(typeof a=="string"&&typeof e=="string"&&a.length===e.length)return kt(a,e);const i=Fa(a),s=Fa(e),o=kt(i.seconds,s.seconds);return o!==0?o:kt(i.nanos,s.nanos)}function Vv(a,e){const i=a.values||[],s=e.values||[];for(let o=0;o<i.length&&o<s.length;++o){const u=Qs(i[o],s[o]);if(u)return u}return kt(i.length,s.length)}function Ys(a){return tm(a)}function tm(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?(function(i){const s=Fa(i);return`time(${s.seconds},${s.nanos})`})(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?(function(i){return Ga(i).toBase64()})(a.bytesValue):"referenceValue"in a?(function(i){return vt.fromName(i).toString()})(a.referenceValue):"geoPointValue"in a?(function(i){return`geo(${i.latitude},${i.longitude})`})(a.geoPointValue):"arrayValue"in a?(function(i){let s="[",o=!0;for(const u of i.values||[])o?o=!1:s+=",",s+=tm(u);return s+"]"})(a.arrayValue):"mapValue"in a?(function(i){const s=Object.keys(i.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${tm(i.fields[f])}`;return o+"}"})(a.mapValue):xt(61005,{value:a})}function Ic(a){switch(Qa(a)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=sh(a);return e?16+Ic(e):16;case 5:return 2*a.stringValue.length;case 6:return Ga(a.bytesValue).approximateByteSize();case 7:return a.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+Ic(u)),0)})(a.arrayValue);case 10:case 11:return(function(s){let o=0;return Za(s.fields,((u,f)=>{o+=u.length+Ic(f)})),o})(a.mapValue);default:throw xt(13486,{value:a})}}function Mv(a,e){return{referenceValue:`projects/${a.projectId}/databases/${a.database}/documents/${e.path.canonicalString()}`}}function em(a){return!!a&&"integerValue"in a}function jm(a){return!!a&&"arrayValue"in a}function Ov(a){return!!a&&"nullValue"in a}function jv(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function Vc(a){return!!a&&"mapValue"in a}function lR(a){var i,s;return((s=(((i=a==null?void 0:a.mapValue)==null?void 0:i.fields)||{})[V1])==null?void 0:s.stringValue)===M1}function bo(a){if(a.geoPointValue)return{geoPointValue:{...a.geoPointValue}};if(a.timestampValue&&typeof a.timestampValue=="object")return{timestampValue:{...a.timestampValue}};if(a.mapValue){const e={mapValue:{fields:{}}};return Za(a.mapValue.fields,((i,s)=>e.mapValue.fields[i]=bo(s))),e}if(a.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(a.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=bo(a.arrayValue.values[i]);return e}return{...a}}function oR(a){return(((a.mapValue||{}).fields||{}).__type__||{}).stringValue===sR}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e){this.value=e}static empty(){return new En({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let s=0;s<e.length-1;++s)if(i=(i.mapValue.fields||{})[e.get(s)],!Vc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=bo(i)}setAll(e){let i=Ye.emptyPath(),s={},o=[];e.forEach(((f,m)=>{if(!i.isImmediateParentOf(m)){const p=this.getFieldsMap(i);this.applyChanges(p,s,o),s={},o=[],i=m.popLast()}f?s[m.lastSegment()]=bo(f):o.push(m.lastSegment())}));const u=this.getFieldsMap(i);this.applyChanges(u,s,o)}delete(e){const i=this.field(e.popLast());Vc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Di(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=i.mapValue.fields[e.get(s)];Vc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(s)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,s){Za(i,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new En(bo(this.value))}}function O1(a){const e=[];return Za(a.fields,((i,s)=>{const o=new Ye([i]);if(Vc(s)){const u=O1(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)})),new Jn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je{constructor(e,i,s,o,u,f,m){this.key=e,this.documentType=i,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new Je(e,0,At.min(),At.min(),At.min(),En.empty(),0)}static newFoundDocument(e,i,s,o){return new Je(e,1,i,At.min(),s,o,0)}static newNoDocument(e,i){return new Je(e,2,i,At.min(),At.min(),En.empty(),0)}static newUnknownDocument(e,i){return new Je(e,3,i,At.min(),At.min(),En.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(At.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=En.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=En.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=At.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Je&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Je(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc{constructor(e,i){this.position=e,this.inclusive=i}}function kv(a,e,i){let s=0;for(let o=0;o<a.position.length;o++){const u=e[o],f=a.position[o];if(u.field.isKeyField()?s=vt.comparator(vt.fromName(f.referenceValue),i.key):s=Qs(f,i.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function Lv(a,e){if(a===null)return e===null;if(e===null||a.inclusive!==e.inclusive||a.position.length!==e.position.length)return!1;for(let i=0;i<a.position.length;i++)if(!Di(a.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(e,i="asc"){this.field=e,this.dir=i}}function uR(a,e){return a.dir===e.dir&&a.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j1{}class Ne extends j1{constructor(e,i,s){super(),this.field=e,this.op=i,this.value=s}static create(e,i,s){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,s):new hR(e,i,s):i==="array-contains"?new mR(e,s):i==="in"?new gR(e,s):i==="not-in"?new pR(e,s):i==="array-contains-any"?new yR(e,s):new Ne(e,i,s)}static createKeyFieldInFilter(e,i,s){return i==="in"?new fR(e,s):new dR(e,s)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Qs(i,this.value)):i!==null&&Qa(this.value)===Qa(i)&&this.matchesComparison(Qs(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return xt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Wn extends j1{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new Wn(e,i)}matches(e){return k1(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function k1(a){return a.op==="and"}function L1(a){return cR(a)&&k1(a)}function cR(a){for(const e of a.filters)if(e instanceof Wn)return!1;return!0}function nm(a){if(a instanceof Ne)return a.field.canonicalString()+a.op.toString()+Ys(a.value);if(L1(a))return a.filters.map((e=>nm(e))).join(",");{const e=a.filters.map((i=>nm(i))).join(",");return`${a.op}(${e})`}}function z1(a,e){return a instanceof Ne?(function(s,o){return o instanceof Ne&&s.op===o.op&&s.field.isEqual(o.field)&&Di(s.value,o.value)})(a,e):a instanceof Wn?(function(s,o){return o instanceof Wn&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,f,m)=>u&&z1(f,o.filters[m])),!0):!1})(a,e):void xt(19439)}function U1(a){return a instanceof Ne?(function(i){return`${i.field.canonicalString()} ${i.op} ${Ys(i.value)}`})(a):a instanceof Wn?(function(i){return i.op.toString()+" {"+i.getFilters().map(U1).join(" ,")+"}"})(a):"Filter"}class hR extends Ne{constructor(e,i,s){super(e,i,s),this.key=vt.fromName(s.referenceValue)}matches(e){const i=vt.comparator(e.key,this.key);return this.matchesComparison(i)}}class fR extends Ne{constructor(e,i){super(e,"in",i),this.keys=P1("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class dR extends Ne{constructor(e,i){super(e,"not-in",i),this.keys=P1("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function P1(a,e){var i;return(((i=e.arrayValue)==null?void 0:i.values)||[]).map((s=>vt.fromName(s.referenceValue)))}class mR extends Ne{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return jm(i)&&Do(i.arrayValue,this.value)}}class gR extends Ne{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Do(this.value.arrayValue,i)}}class pR extends Ne{constructor(e,i){super(e,"not-in",i)}matches(e){if(Do(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Do(this.value.arrayValue,i)}}class yR extends Ne{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!jm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((s=>Do(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vR{constructor(e,i=null,s=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=i,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Te=null}}function zv(a,e=null,i=[],s=[],o=null,u=null,f=null){return new vR(a,e,i,s,o,u,f)}function km(a){const e=wt(a);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((s=>nm(s))).join(","),i+="|ob:",i+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),rh(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((s=>Ys(s))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((s=>Ys(s))).join(",")),e.Te=i}return e.Te}function Lm(a,e){if(a.limit!==e.limit||a.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<a.orderBy.length;i++)if(!uR(a.orderBy[i],e.orderBy[i]))return!1;if(a.filters.length!==e.filters.length)return!1;for(let i=0;i<a.filters.length;i++)if(!z1(a.filters[i],e.filters[i]))return!1;return a.collectionGroup===e.collectionGroup&&!!a.path.isEqual(e.path)&&!!Lv(a.startAt,e.startAt)&&Lv(a.endAt,e.endAt)}function im(a){return vt.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al{constructor(e,i=null,s=[],o=[],u=null,f="F",m=null,p=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function _R(a,e,i,s,o,u,f,m){return new al(a,e,i,s,o,u,f,m)}function B1(a){return new al(a)}function Uv(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}function q1(a){return a.collectionGroup!==null}function Eo(a){const e=wt(a);if(e.Ie===null){e.Ie=[];const i=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),i.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new je(Ye.comparator);return f.filters.forEach((p=>{p.getFlattenedFilters().forEach((y=>{y.isInequality()&&(m=m.add(y.field))}))})),m})(e).forEach((u=>{i.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new Io(u,s))})),i.has(Ye.keyField().canonicalString())||e.Ie.push(new Io(Ye.keyField(),s))}return e.Ie}function Si(a){const e=wt(a);return e.Ee||(e.Ee=bR(e,Eo(a))),e.Ee}function bR(a,e){if(a.limitType==="F")return zv(a.path,a.collectionGroup,e,a.filters,a.limit,a.startAt,a.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Io(o.field,u)}));const i=a.endAt?new Hc(a.endAt.position,a.endAt.inclusive):null,s=a.startAt?new Hc(a.startAt.position,a.startAt.inclusive):null;return zv(a.path,a.collectionGroup,e,a.filters,a.limit,i,s)}}function am(a,e){const i=a.filters.concat([e]);return new al(a.path,a.collectionGroup,a.explicitOrderBy.slice(),i,a.limit,a.limitType,a.startAt,a.endAt)}function rm(a,e,i){return new al(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),e,i,a.startAt,a.endAt)}function lh(a,e){return Lm(Si(a),Si(e))&&a.limitType===e.limitType}function H1(a){return`${km(Si(a))}|lt:${a.limitType}`}function js(a){return`Query(target=${(function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map((o=>U1(o))).join(", ")}]`),rh(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map((o=>Ys(o))).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map((o=>Ys(o))).join(",")),`Target(${s})`})(Si(a))}; limitType=${a.limitType})`}function oh(a,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):vt.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(a,e)&&(function(s,o){for(const u of Eo(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(a,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(a,e)&&(function(s,o){return!(s.startAt&&!(function(f,m,p){const y=kv(f,m,p);return f.inclusive?y<=0:y<0})(s.startAt,Eo(s),o)||s.endAt&&!(function(f,m,p){const y=kv(f,m,p);return f.inclusive?y>=0:y>0})(s.endAt,Eo(s),o))})(a,e)}function ER(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function F1(a){return(e,i)=>{let s=!1;for(const o of Eo(a)){const u=xR(o,e,i);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function xR(a,e,i){const s=a.field.isKeyField()?vt.comparator(e.key,i.key):(function(u,f,m){const p=f.data.field(u),y=m.data.field(u);return p!==null&&y!==null?Qs(p,y):xt(42886)})(a.field,e,i);switch(a.dir){case"asc":return s;case"desc":return-1*s;default:return xt(19790,{direction:a.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,i){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,i]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[i]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Za(this.inner,((i,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return w1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TR=new ce(vt.comparator);function na(){return TR}const G1=new ce(vt.comparator);function po(...a){let e=G1;for(const i of a)e=e.insert(i.key,i);return e}function Q1(a){let e=G1;return a.forEach(((i,s)=>e=e.insert(i,s.overlayedDocument))),e}function Ir(){return xo()}function Y1(){return xo()}function xo(){return new Ur((a=>a.toString()),((a,e)=>a.isEqual(e)))}const AR=new ce(vt.comparator),SR=new je(vt.comparator);function Lt(...a){let e=SR;for(const i of a)e=e.add(i);return e}const wR=new je(kt);function RR(){return wR}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zm(a,e){if(a.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Pc(e)?"-0":e}}function K1(a){return{integerValue:""+a}}function CR(a,e){return eR(e)?K1(e):zm(a,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh{constructor(){this._=void 0}}function NR(a,e,i){return a instanceof Fc?(function(o,u){const f={fields:{[N1]:{stringValue:C1},[I1]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Om(u)&&(u=sh(u)),u&&(f.fields[D1]=u),{mapValue:f}})(i,e):a instanceof Vo?X1(a,e):a instanceof Mo?Z1(a,e):(function(o,u){const f=$1(o,u),m=Pv(f)+Pv(o.Ae);return em(f)&&em(o.Ae)?K1(m):zm(o.serializer,m)})(a,e)}function DR(a,e,i){return a instanceof Vo?X1(a,e):a instanceof Mo?Z1(a,e):i}function $1(a,e){return a instanceof Gc?(function(s){return em(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class Fc extends uh{}class Vo extends uh{constructor(e){super(),this.elements=e}}function X1(a,e){const i=J1(e);for(const s of a.elements)i.some((o=>Di(o,s)))||i.push(s);return{arrayValue:{values:i}}}class Mo extends uh{constructor(e){super(),this.elements=e}}function Z1(a,e){let i=J1(e);for(const s of a.elements)i=i.filter((o=>!Di(o,s)));return{arrayValue:{values:i}}}class Gc extends uh{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function Pv(a){return ve(a.integerValue||a.doubleValue)}function J1(a){return jm(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}function IR(a,e){return a.field.isEqual(e.field)&&(function(s,o){return s instanceof Vo&&o instanceof Vo||s instanceof Mo&&o instanceof Mo?Fs(s.elements,o.elements,Di):s instanceof Gc&&o instanceof Gc?Di(s.Ae,o.Ae):s instanceof Fc&&o instanceof Fc})(a.transform,e.transform)}class VR{constructor(e,i){this.version=e,this.transformResults=i}}class wi{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new wi}static exists(e){return new wi(void 0,e)}static updateTime(e){return new wi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Mc(a,e){return a.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(a.updateTime):a.exists===void 0||a.exists===e.isFoundDocument()}class ch{}function W1(a,e){if(!a.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return a.isNoDocument()?new Um(a.key,wi.none()):new hh(a.key,a.data,wi.none());{const i=a.data,s=En.empty();let o=new je(Ye.comparator);for(let u of e.fields)if(!o.has(u)){let f=i.field(u);f===null&&u.length>1&&(u=u.popLast(),f=i.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new Pr(a.key,s,new Jn(o.toArray()),wi.none())}}function MR(a,e,i){a instanceof hh?(function(o,u,f){const m=o.value.clone(),p=qv(o.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()})(a,e,i):a instanceof Pr?(function(o,u,f){if(!Mc(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=qv(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(tb(o)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()})(a,e,i):(function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,i)}function To(a,e,i,s){return a instanceof hh?(function(u,f,m,p){if(!Mc(u.precondition,f))return m;const y=u.value.clone(),E=Hv(u.fieldTransforms,p,f);return y.setAll(E),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null})(a,e,i,s):a instanceof Pr?(function(u,f,m,p){if(!Mc(u.precondition,f))return m;const y=Hv(u.fieldTransforms,p,f),E=f.data;return E.setAll(tb(u)),E.setAll(y),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((T=>T.field)))})(a,e,i,s):(function(u,f,m){return Mc(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m})(a,e,i)}function OR(a,e){let i=null;for(const s of a.fieldTransforms){const o=e.data.field(s.field),u=$1(s.transform,o||null);u!=null&&(i===null&&(i=En.empty()),i.set(s.field,u))}return i||null}function Bv(a,e){return a.type===e.type&&!!a.key.isEqual(e.key)&&!!a.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Fs(s,o,((u,f)=>IR(u,f)))})(a.fieldTransforms,e.fieldTransforms)&&(a.type===0?a.value.isEqual(e.value):a.type!==1||a.data.isEqual(e.data)&&a.fieldMask.isEqual(e.fieldMask))}class hh extends ch{constructor(e,i,s,o=[]){super(),this.key=e,this.value=i,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Pr extends ch{constructor(e,i,s,o,u=[]){super(),this.key=e,this.data=i,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function tb(a){const e=new Map;return a.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const s=a.data.field(i);e.set(i,s)}})),e}function qv(a,e,i){const s=new Map;Yt(a.length===i.length,32656,{Re:i.length,Ve:a.length});for(let o=0;o<i.length;o++){const u=a[o],f=u.transform,m=e.data.field(u.field);s.set(u.field,DR(f,m,i[o]))}return s}function Hv(a,e,i){const s=new Map;for(const o of a){const u=o.transform,f=i.data.field(o.field);s.set(o.field,NR(u,f,e))}return s}class Um extends ch{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class jR extends ch{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kR{constructor(e,i,s,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,i){const s=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&MR(u,e,s[o])}}applyToLocalView(e,i){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(i=To(s,e,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(i=To(s,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const s=Y1();return this.mutations.forEach((o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=i.has(o.key)?null:m;const p=W1(f,m);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(At.min())})),s}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),Lt())}isEqual(e){return this.batchId===e.batchId&&Fs(this.mutations,e.mutations,((i,s)=>Bv(i,s)))&&Fs(this.baseMutations,e.baseMutations,((i,s)=>Bv(i,s)))}}class Pm{constructor(e,i,s,o){this.batch=e,this.commitVersion=i,this.mutationResults=s,this.docVersions=o}static from(e,i,s){Yt(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return AR})();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new Pm(e,i,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LR{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zR{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ce,Bt;function UR(a){switch(a){case tt.OK:return xt(64938);case tt.CANCELLED:case tt.UNKNOWN:case tt.DEADLINE_EXCEEDED:case tt.RESOURCE_EXHAUSTED:case tt.INTERNAL:case tt.UNAVAILABLE:case tt.UNAUTHENTICATED:return!1;case tt.INVALID_ARGUMENT:case tt.NOT_FOUND:case tt.ALREADY_EXISTS:case tt.PERMISSION_DENIED:case tt.FAILED_PRECONDITION:case tt.ABORTED:case tt.OUT_OF_RANGE:case tt.UNIMPLEMENTED:case tt.DATA_LOSS:return!0;default:return xt(15467,{code:a})}}function eb(a){if(a===void 0)return ea("GRPC error has no .code"),tt.UNKNOWN;switch(a){case Ce.OK:return tt.OK;case Ce.CANCELLED:return tt.CANCELLED;case Ce.UNKNOWN:return tt.UNKNOWN;case Ce.DEADLINE_EXCEEDED:return tt.DEADLINE_EXCEEDED;case Ce.RESOURCE_EXHAUSTED:return tt.RESOURCE_EXHAUSTED;case Ce.INTERNAL:return tt.INTERNAL;case Ce.UNAVAILABLE:return tt.UNAVAILABLE;case Ce.UNAUTHENTICATED:return tt.UNAUTHENTICATED;case Ce.INVALID_ARGUMENT:return tt.INVALID_ARGUMENT;case Ce.NOT_FOUND:return tt.NOT_FOUND;case Ce.ALREADY_EXISTS:return tt.ALREADY_EXISTS;case Ce.PERMISSION_DENIED:return tt.PERMISSION_DENIED;case Ce.FAILED_PRECONDITION:return tt.FAILED_PRECONDITION;case Ce.ABORTED:return tt.ABORTED;case Ce.OUT_OF_RANGE:return tt.OUT_OF_RANGE;case Ce.UNIMPLEMENTED:return tt.UNIMPLEMENTED;case Ce.DATA_LOSS:return tt.DATA_LOSS;default:return xt(39323,{code:a})}}(Bt=Ce||(Ce={}))[Bt.OK=0]="OK",Bt[Bt.CANCELLED=1]="CANCELLED",Bt[Bt.UNKNOWN=2]="UNKNOWN",Bt[Bt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Bt[Bt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Bt[Bt.NOT_FOUND=5]="NOT_FOUND",Bt[Bt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Bt[Bt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Bt[Bt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Bt[Bt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Bt[Bt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Bt[Bt.ABORTED=10]="ABORTED",Bt[Bt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Bt[Bt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Bt[Bt.INTERNAL=13]="INTERNAL",Bt[Bt.UNAVAILABLE=14]="UNAVAILABLE",Bt[Bt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PR(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BR=new Ua([4294967295,4294967295],0);function Fv(a){const e=PR().encode(a),i=new g1;return i.update(e),new Uint8Array(i.digest())}function Gv(a){const e=new DataView(a.buffer),i=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Ua([i,s],0),new Ua([o,u],0)]}class Bm{constructor(e,i,s){if(this.bitmap=e,this.padding=i,this.hashCount=s,i<0||i>=8)throw new yo(`Invalid padding: ${i}`);if(s<0)throw new yo(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new yo(`Invalid hash count: ${s}`);if(e.length===0&&i!==0)throw new yo(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=Ua.fromNumber(this.ge)}ye(e,i,s){let o=e.add(i.multiply(Ua.fromNumber(s)));return o.compare(BR)===1&&(o=new Ua([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=Fv(e),[s,o]=Gv(i);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);if(!this.we(f))return!1}return!0}static create(e,i,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new Bm(u,o,i);return s.forEach((m=>f.insert(m))),f}insert(e){if(this.ge===0)return;const i=Fv(e),[s,o]=Gv(i);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);this.Se(f)}}Se(e){const i=Math.floor(e/8),s=e%8;this.bitmap[i]|=1<<s}}class yo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh{constructor(e,i,s,o,u){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,i,s){const o=new Map;return o.set(e,Po.createSynthesizedTargetChangeForCurrentChange(e,i,s)),new fh(At.min(),o,new ce(kt),na(),Lt())}}class Po{constructor(e,i,s,o,u){this.resumeToken=e,this.current=i,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,i,s){return new Po(s,i,Lt(),Lt(),Lt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc{constructor(e,i,s,o){this.be=e,this.removedTargetIds=i,this.key=s,this.De=o}}class nb{constructor(e,i){this.targetId=e,this.Ce=i}}class ib{constructor(e,i,s=Ke.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=s,this.cause=o}}class Qv{constructor(){this.ve=0,this.Fe=Yv(),this.Me=Ke.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Lt(),i=Lt(),s=Lt();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:s=s.add(o);break;default:xt(38017,{changeType:u})}})),new Po(this.Me,this.xe,e,i,s)}qe(){this.Oe=!1,this.Fe=Yv()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Yt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class qR{constructor(e){this.Ge=e,this.ze=new Map,this.je=na(),this.Je=Tc(),this.He=Tc(),this.Ye=new ce(kt)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const s=this.nt(i);switch(e.state){case 0:this.rt(i)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),s.Le(e.resumeToken));break;default:xt(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((s,o)=>{this.rt(o)&&i(o)}))}st(e){const i=e.targetId,s=e.Ce.count,o=this.ot(i);if(o){const u=o.target;if(im(u))if(s===0){const f=new vt(u.path);this.et(i,f,Je.newNoDocument(f,At.min()))}else Yt(s===1,20013,{expectedCount:s});else{const f=this._t(i);if(f!==s){const m=this.ut(e),p=m?this.ct(m,e,f):1;if(p!==0){this.it(i);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,y)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=i;let f,m;try{f=Ga(s).toUint8Array()}catch(p){if(p instanceof R1)return Hs("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Bm(f,o,u)}catch(p){return Hs(p instanceof yo?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(e,i,s){return i.Ce.count===s-this.Pt(e,i.targetId)?0:2}Pt(e,i){const s=this.Ge.getRemoteKeysForTarget(i);let o=0;return s.forEach((u=>{const f=this.Ge.ht(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(i,u,null),o++)})),o}Tt(e){const i=new Map;this.ze.forEach(((u,f)=>{const m=this.ot(f);if(m){if(u.current&&im(m.target)){const p=new vt(m.target.path);this.It(p).has(f)||this.Et(f,p)||this.et(f,p,Je.newNoDocument(p,e))}u.Be&&(i.set(f,u.ke()),u.qe())}}));let s=Lt();this.He.forEach(((u,f)=>{let m=!0;f.forEachWhile((p=>{const y=this.ot(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(e)));const o=new fh(e,i,this.Ye,this.je,s);return this.je=na(),this.Je=Tc(),this.He=Tc(),this.Ye=new ce(kt),o}Xe(e,i){if(!this.rt(e))return;const s=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,s),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,i)?o.Qe(i,1):o.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),s&&(this.je=this.je.insert(i,s))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new Qv,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new je(kt),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new je(kt),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||ht("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Qv),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Tc(){return new ce(vt.comparator)}function Yv(){return new ce(vt.comparator)}const HR={asc:"ASCENDING",desc:"DESCENDING"},FR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},GR={and:"AND",or:"OR"};class QR{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function sm(a,e){return a.useProto3Json||rh(e)?e:{value:e}}function Qc(a,e){return a.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ab(a,e){return a.useProto3Json?e.toBase64():e.toUint8Array()}function YR(a,e){return Qc(a,e.toTimestamp())}function Ri(a){return Yt(!!a,49232),At.fromTimestamp((function(i){const s=Fa(i);return new re(s.seconds,s.nanos)})(a))}function qm(a,e){return lm(a,e).canonicalString()}function lm(a,e){const i=(function(o){return new ne(["projects",o.projectId,"databases",o.database])})(a).child("documents");return e===void 0?i:i.child(e)}function rb(a){const e=ne.fromString(a);return Yt(cb(e),10190,{key:e.toString()}),e}function om(a,e){return qm(a.databaseId,e.path)}function jd(a,e){const i=rb(e);if(i.get(1)!==a.databaseId.projectId)throw new ct(tt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+a.databaseId.projectId);if(i.get(3)!==a.databaseId.database)throw new ct(tt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+a.databaseId.database);return new vt(lb(i))}function sb(a,e){return qm(a.databaseId,e)}function KR(a){const e=rb(a);return e.length===4?ne.emptyPath():lb(e)}function um(a){return new ne(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function lb(a){return Yt(a.length>4&&a.get(4)==="documents",29091,{key:a.toString()}),a.popFirst(5)}function Kv(a,e,i){return{name:om(a,e),fields:i.value.mapValue.fields}}function $R(a,e){let i;if("targetChange"in e){e.targetChange;const s=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:xt(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(y,E){return y.useProto3Json?(Yt(E===void 0||typeof E=="string",58123),Ke.fromBase64String(E||"")):(Yt(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Ke.fromUint8Array(E||new Uint8Array))})(a,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&(function(y){const E=y.code===void 0?tt.UNKNOWN:eb(y.code);return new ct(E,y.message||"")})(f);i=new ib(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=jd(a,s.document.name),u=Ri(s.document.updateTime),f=s.document.createTime?Ri(s.document.createTime):At.min(),m=new En({mapValue:{fields:s.document.fields}}),p=Je.newFoundDocument(o,u,f,m),y=s.targetIds||[],E=s.removedTargetIds||[];i=new Oc(y,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=jd(a,s.document),u=s.readTime?Ri(s.readTime):At.min(),f=Je.newNoDocument(o,u),m=s.removedTargetIds||[];i=new Oc([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=jd(a,s.document),u=s.removedTargetIds||[];i=new Oc([],u,o,null)}else{if(!("filter"in e))return xt(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new zR(o,u),m=s.targetId;i=new nb(m,f)}}return i}function XR(a,e){let i;if(e instanceof hh)i={update:Kv(a,e.key,e.value)};else if(e instanceof Um)i={delete:om(a,e.key)};else if(e instanceof Pr)i={update:Kv(a,e.key,e.data),updateMask:rC(e.fieldMask)};else{if(!(e instanceof jR))return xt(16599,{Vt:e.type});i={verify:om(a,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((s=>(function(u,f){const m=f.transform;if(m instanceof Fc)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Vo)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Mo)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Gc)return{fieldPath:f.field.canonicalString(),increment:m.Ae};throw xt(20930,{transform:f.transform})})(0,s)))),e.precondition.isNone||(i.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:YR(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:xt(27497)})(a,e.precondition)),i}function ZR(a,e){return a&&a.length>0?(Yt(e!==void 0,14353),a.map((i=>(function(o,u){let f=o.updateTime?Ri(o.updateTime):Ri(u);return f.isEqual(At.min())&&(f=Ri(u)),new VR(f,o.transformResults||[])})(i,e)))):[]}function JR(a,e){return{documents:[sb(a,e.path)]}}function WR(a,e){const i={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=sb(a,o);const u=(function(y){if(y.length!==0)return ub(Wn.create(y,"and"))})(e.filters);u&&(i.structuredQuery.where=u);const f=(function(y){if(y.length!==0)return y.map((E=>(function(S){return{field:ks(S.field),direction:nC(S.dir)}})(E)))})(e.orderBy);f&&(i.structuredQuery.orderBy=f);const m=sm(a,e.limit);return m!==null&&(i.structuredQuery.limit=m),e.startAt&&(i.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:i,parent:o}}function tC(a){let e=KR(a.parent);const i=a.structuredQuery,s=i.from?i.from.length:0;let o=null;if(s>0){Yt(s===1,65062);const E=i.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];i.where&&(u=(function(T){const S=ob(T);return S instanceof Wn&&L1(S)?S.getFilters():[S]})(i.where));let f=[];i.orderBy&&(f=(function(T){return T.map((S=>(function(K){return new Io(Ls(K.field),(function(H){switch(H){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(K.direction))})(S)))})(i.orderBy));let m=null;i.limit&&(m=(function(T){let S;return S=typeof T=="object"?T.value:T,rh(S)?null:S})(i.limit));let p=null;i.startAt&&(p=(function(T){const S=!!T.before,L=T.values||[];return new Hc(L,S)})(i.startAt));let y=null;return i.endAt&&(y=(function(T){const S=!T.before,L=T.values||[];return new Hc(L,S)})(i.endAt)),_R(e,o,f,u,m,"F",p,y)}function eC(a,e){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return xt(28987,{purpose:o})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function ob(a){return a.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=Ls(i.unaryFilter.field);return Ne.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Ls(i.unaryFilter.field);return Ne.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Ls(i.unaryFilter.field);return Ne.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Ls(i.unaryFilter.field);return Ne.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return xt(61313);default:return xt(60726)}})(a):a.fieldFilter!==void 0?(function(i){return Ne.create(Ls(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return xt(58110);default:return xt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(a):a.compositeFilter!==void 0?(function(i){return Wn.create(i.compositeFilter.filters.map((s=>ob(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return xt(1026)}})(i.compositeFilter.op))})(a):xt(30097,{filter:a})}function nC(a){return HR[a]}function iC(a){return FR[a]}function aC(a){return GR[a]}function ks(a){return{fieldPath:a.canonicalString()}}function Ls(a){return Ye.fromServerFormat(a.fieldPath)}function ub(a){return a instanceof Ne?(function(i){if(i.op==="=="){if(jv(i.value))return{unaryFilter:{field:ks(i.field),op:"IS_NAN"}};if(Ov(i.value))return{unaryFilter:{field:ks(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(jv(i.value))return{unaryFilter:{field:ks(i.field),op:"IS_NOT_NAN"}};if(Ov(i.value))return{unaryFilter:{field:ks(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ks(i.field),op:iC(i.op),value:i.value}}})(a):a instanceof Wn?(function(i){const s=i.getFilters().map((o=>ub(o)));return s.length===1?s[0]:{compositeFilter:{op:aC(i.op),filters:s}}})(a):xt(54877,{filter:a})}function rC(a){const e=[];return a.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function cb(a){return a.length>=4&&a.get(0)==="projects"&&a.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka{constructor(e,i,s,o,u=At.min(),f=At.min(),m=Ke.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=i,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new ka(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new ka(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ka(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ka(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sC{constructor(e){this.yt=e}}function lC(a){const e=tC({parent:a.parent,structuredQuery:a.structuredQuery});return a.limitType==="LAST"?rm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oC{constructor(){this.Cn=new uC}addToCollectionParentIndex(e,i){return this.Cn.add(i),nt.resolve()}getCollectionParents(e,i){return nt.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return nt.resolve()}deleteFieldIndex(e,i){return nt.resolve()}deleteAllFieldIndexes(e){return nt.resolve()}createTargetIndexes(e,i){return nt.resolve()}getDocumentsMatchingTarget(e,i){return nt.resolve(null)}getIndexType(e,i){return nt.resolve(0)}getFieldIndexes(e,i){return nt.resolve([])}getNextCollectionGroupToUpdate(e){return nt.resolve(null)}getMinOffset(e,i){return nt.resolve(Ha.min())}getMinOffsetFromCollectionGroup(e,i){return nt.resolve(Ha.min())}updateCollectionGroup(e,i,s){return nt.resolve()}updateIndexEntries(e,i){return nt.resolve()}}class uC{constructor(){this.index={}}add(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i]||new je(ne.comparator),u=!o.has(s);return this.index[i]=o.add(s),u}has(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i];return o&&o.has(s)}getEntries(e){return(this.index[e]||new je(ne.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $v={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},hb=41943040;class hn{static withCacheSize(e){return new hn(e,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */hn.DEFAULT_COLLECTION_PERCENTILE=10,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,hn.DEFAULT=new hn(hb,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),hn.DISABLED=new hn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Ks(0)}static cr(){return new Ks(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xv="LruGarbageCollector",cC=1048576;function Zv([a,e],[i,s]){const o=kt(a,i);return o===0?kt(e,s):o}class hC{constructor(e){this.Ir=e,this.buffer=new je(Zv),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();Zv(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class fC{constructor(e,i,s){this.garbageCollector=e,this.asyncQueue=i,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ht(Xv,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){il(i)?ht(Xv,"Ignoring IndexedDB error during garbage collection: ",i):await nl(i)}await this.Vr(3e5)}))}}class dC{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((s=>Math.floor(i/100*s)))}nthSequenceNumber(e,i){if(i===0)return nt.resolve(ah.ce);const s=new hC(i);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,i,s){return this.mr.removeTargets(e,i,s)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(ht("LruGarbageCollector","Garbage collection skipped; disabled"),nt.resolve($v)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(ht("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),$v):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let s,o,u,f,m,p,y;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(ht("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,f=Date.now(),this.nthSequenceNumber(e,o)))).next((T=>(s=T,m=Date.now(),this.removeTargets(e,s,i)))).next((T=>(u=T,p=Date.now(),this.removeOrphanedDocuments(e,s)))).next((T=>(y=Date.now(),Os()<=qt.DEBUG&&ht("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${T} documents in `+(y-p)+`ms
Total Duration: ${y-E}ms`),nt.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:T}))))}}function mC(a,e){return new dC(a,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gC{constructor(){this.changes=new Ur((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Je.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?nt.resolve(s):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pC{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yC{constructor(e,i,s,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,i){let s=null;return this.documentOverlayCache.getOverlay(e,i).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,i)))).next((o=>(s!==null&&To(s.mutation,o,Jn.empty(),re.now()),o)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((s=>this.getLocalViewOfDocuments(e,s,Lt()).next((()=>s))))}getLocalViewOfDocuments(e,i,s=Lt()){const o=Ir();return this.populateOverlays(e,o,i).next((()=>this.computeViews(e,i,o,s).next((u=>{let f=po();return u.forEach(((m,p)=>{f=f.insert(m,p.overlayedDocument)})),f}))))}getOverlayedDocuments(e,i){const s=Ir();return this.populateOverlays(e,s,i).next((()=>this.computeViews(e,i,s,Lt())))}populateOverlays(e,i,s){const o=[];return s.forEach((u=>{i.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((f,m)=>{i.set(f,m)}))}))}computeViews(e,i,s,o){let u=na();const f=xo(),m=(function(){return xo()})();return i.forEach(((p,y)=>{const E=s.get(y.key);o.has(y.key)&&(E===void 0||E.mutation instanceof Pr)?u=u.insert(y.key,y):E!==void 0?(f.set(y.key,E.mutation.getFieldMask()),To(E.mutation,y,E.mutation.getFieldMask(),re.now())):f.set(y.key,Jn.empty())})),this.recalculateAndSaveOverlays(e,u).next((p=>(p.forEach(((y,E)=>f.set(y,E))),i.forEach(((y,E)=>m.set(y,new pC(E,f.get(y)??null)))),m)))}recalculateAndSaveOverlays(e,i){const s=xo();let o=new ce(((f,m)=>f-m)),u=Lt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((f=>{for(const m of f)m.keys().forEach((p=>{const y=i.get(p);if(y===null)return;let E=s.get(p)||Jn.empty();E=m.applyToLocalView(y,E),s.set(p,E);const T=(o.get(m.batchId)||Lt()).add(p);o=o.insert(m.batchId,T)}))})).next((()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),y=p.key,E=p.value,T=Y1();E.forEach((S=>{if(!u.has(S)){const L=W1(i.get(S),s.get(S));L!==null&&T.set(S,L),u=u.add(S)}})),f.push(this.documentOverlayCache.saveOverlays(e,y,T))}return nt.waitFor(f)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,i,s,o){return(function(f){return vt.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):q1(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,s,o):this.getDocumentsMatchingCollectionQuery(e,i,s,o)}getNextDocuments(e,i,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,s,o).next((u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,s.largestBatchId,o-u.size):nt.resolve(Ir());let m=Ro,p=u;return f.next((y=>nt.forEach(y,((E,T)=>(m<T.largestBatchId&&(m=T.largestBatchId),u.get(E)?nt.resolve():this.remoteDocumentCache.getEntry(e,E).next((S=>{p=p.insert(E,S)}))))).next((()=>this.populateOverlays(e,y,u))).next((()=>this.computeViews(e,p,y,Lt()))).next((E=>({batchId:m,changes:Q1(E)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new vt(i)).next((s=>{let o=po();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,i,s,o){const u=i.collectionGroup;let f=po();return this.indexManager.getCollectionParents(e,u).next((m=>nt.forEach(m,(p=>{const y=(function(T,S){return new al(S,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(i,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,y,s,o).next((E=>{E.forEach(((T,S)=>{f=f.insert(T,S)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,i,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,s.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,s,u,o)))).next((f=>{u.forEach(((p,y)=>{const E=y.getKey();f.get(E)===null&&(f=f.insert(E,Je.newInvalidDocument(E)))}));let m=po();return f.forEach(((p,y)=>{const E=u.get(p);E!==void 0&&To(E.mutation,y,Jn.empty(),re.now()),oh(i,y)&&(m=m.insert(p,y))})),m}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vC{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return nt.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:Ri(o.createTime)}})(i)),nt.resolve()}getNamedQuery(e,i){return nt.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(o){return{name:o.name,query:lC(o.bundledQuery),readTime:Ri(o.readTime)}})(i)),nt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _C{constructor(){this.overlays=new ce(vt.comparator),this.qr=new Map}getOverlay(e,i){return nt.resolve(this.overlays.get(i))}getOverlays(e,i){const s=Ir();return nt.forEach(i,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,i,s){return s.forEach(((o,u)=>{this.St(e,i,u)})),nt.resolve()}removeOverlaysForBatchId(e,i,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),nt.resolve()}getOverlaysForCollection(e,i,s){const o=Ir(),u=i.length+1,f=new vt(i.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,y=p.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return nt.resolve(o)}getOverlaysForCollectionGroup(e,i,s,o){let u=new ce(((y,E)=>y-E));const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>s){let E=u.get(y.largestBatchId);E===null&&(E=Ir(),u=u.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const m=Ir(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((y,E)=>m.set(y,E))),!(m.size()>=o)););return nt.resolve(m)}St(e,i,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new LR(i,s));let u=this.qr.get(i);u===void 0&&(u=Lt(),this.qr.set(i,u)),this.qr.set(i,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bC{constructor(){this.sessionToken=Ke.EMPTY_BYTE_STRING}getSessionToken(e){return nt.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,nt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hm{constructor(){this.Qr=new je(Ue.$r),this.Ur=new je(Ue.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const s=new Ue(e,i);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,i){e.forEach((s=>this.addReference(s,i)))}removeReference(e,i){this.Gr(new Ue(e,i))}zr(e,i){e.forEach((s=>this.removeReference(s,i)))}jr(e){const i=new vt(new ne([])),s=new Ue(i,e),o=new Ue(i,e+1),u=[];return this.Ur.forEachInRange([s,o],(f=>{this.Gr(f),u.push(f.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new vt(new ne([])),s=new Ue(i,e),o=new Ue(i,e+1);let u=Lt();return this.Ur.forEachInRange([s,o],(f=>{u=u.add(f.key)})),u}containsKey(e){const i=new Ue(e,0),s=this.Qr.firstAfterOrEqual(i);return s!==null&&e.isEqual(s.key)}}class Ue{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return vt.comparator(e.key,i.key)||kt(e.Yr,i.Yr)}static Kr(e,i){return kt(e.Yr,i.Yr)||vt.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EC{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new je(Ue.$r)}checkEmpty(e){return nt.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new kR(u,i,s,o);this.mutationQueue.push(f);for(const m of o)this.Zr=this.Zr.add(new Ue(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return nt.resolve(f)}lookupMutationBatch(e,i){return nt.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const s=i+1,o=this.ei(s),u=o<0?0:o;return nt.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return nt.resolve(this.mutationQueue.length===0?Mm:this.tr-1)}getAllMutationBatches(e){return nt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const s=new Ue(i,0),o=new Ue(i,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],(f=>{const m=this.Xr(f.Yr);u.push(m)})),nt.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,i){let s=new je(kt);return i.forEach((o=>{const u=new Ue(o,0),f=new Ue(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],(m=>{s=s.add(m.Yr)}))})),nt.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,i){const s=i.path,o=s.length+1;let u=s;vt.isDocumentKey(u)||(u=u.child(""));const f=new Ue(new vt(u),0);let m=new je(kt);return this.Zr.forEachWhile((p=>{const y=p.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(m=m.add(p.Yr)),!0)}),f),nt.resolve(this.ti(m))}ti(e){const i=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&i.push(o)})),i}removeMutationBatch(e,i){Yt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return nt.forEach(i.mutations,(o=>{const u=new Ue(o.key,i.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,i){const s=new Ue(i,0),o=this.Zr.firstAfterOrEqual(s);return nt.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,nt.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xC{constructor(e){this.ri=e,this.docs=(function(){return new ce(vt.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const s=i.key,o=this.docs.get(s),u=o?o.size:0,f=this.ri(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const s=this.docs.get(i);return nt.resolve(s?s.document.mutableCopy():Je.newInvalidDocument(i))}getEntries(e,i){let s=na();return i.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Je.newInvalidDocument(o))})),nt.resolve(s)}getDocumentsMatchingQuery(e,i,s,o){let u=na();const f=i.path,m=new vt(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:y,value:{document:E}}=p.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||Zw(Xw(E),s)<=0||(o.has(E.key)||oh(i,E))&&(u=u.insert(E.key,E.mutableCopy()))}return nt.resolve(u)}getAllFromCollectionGroup(e,i,s,o){xt(9500)}ii(e,i){return nt.forEach(this.docs,(s=>i(s)))}newChangeBuffer(e){return new TC(this)}getSize(e){return nt.resolve(this.size)}}class TC extends gC{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?i.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),nt.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AC{constructor(e){this.persistence=e,this.si=new Ur((i=>km(i)),Lm),this.lastRemoteSnapshotVersion=At.min(),this.highestTargetId=0,this.oi=0,this._i=new Hm,this.targetCount=0,this.ai=Ks.ur()}forEachTarget(e,i){return this.si.forEach(((s,o)=>i(o))),nt.resolve()}getLastRemoteSnapshotVersion(e){return nt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return nt.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),nt.resolve(this.highestTargetId)}setTargetsMetadata(e,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.oi&&(this.oi=i),nt.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new Ks(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,nt.resolve()}updateTargetData(e,i){return this.Pr(i),nt.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,nt.resolve()}removeTargets(e,i,s){let o=0;const u=[];return this.si.forEach(((f,m)=>{m.sequenceNumber<=i&&s.get(m.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),nt.waitFor(u).next((()=>o))}getTargetCount(e){return nt.resolve(this.targetCount)}getTargetData(e,i){const s=this.si.get(i)||null;return nt.resolve(s)}addMatchingKeys(e,i,s){return this._i.Wr(i,s),nt.resolve()}removeMatchingKeys(e,i,s){this._i.zr(i,s);const o=this.persistence.referenceDelegate,u=[];return o&&i.forEach((f=>{u.push(o.markPotentiallyOrphaned(e,f))})),nt.waitFor(u)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),nt.resolve()}getMatchingKeysForTargetId(e,i){const s=this._i.Hr(i);return nt.resolve(s)}containsKey(e,i){return nt.resolve(this._i.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fb{constructor(e,i){this.ui={},this.overlays={},this.ci=new ah(0),this.li=!1,this.li=!0,this.hi=new bC,this.referenceDelegate=e(this),this.Pi=new AC(this),this.indexManager=new oC,this.remoteDocumentCache=(function(o){return new xC(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new sC(i),this.Ii=new vC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new _C,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let s=this.ui[e.toKey()];return s||(s=new EC(i,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,s){ht("MemoryPersistence","Starting transaction:",e);const o=new SC(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(e,i){return nt.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,i))))}}class SC extends Ww{constructor(e){super(),this.currentSequenceNumber=e}}class Fm{constructor(e){this.persistence=e,this.Ri=new Hm,this.Vi=null}static mi(e){return new Fm(e)}get fi(){if(this.Vi)return this.Vi;throw xt(60996)}addReference(e,i,s){return this.Ri.addReference(s,i),this.fi.delete(s.toString()),nt.resolve()}removeReference(e,i,s){return this.Ri.removeReference(s,i),this.fi.add(s.toString()),nt.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),nt.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,i.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return nt.forEach(this.fi,(s=>{const o=vt.fromPath(s);return this.gi(e,o).next((u=>{u||i.removeEntry(o,At.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((s=>{s?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return nt.or([()=>nt.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class Yc{constructor(e,i){this.persistence=e,this.pi=new Ur((s=>nR(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=mC(this,i)}static mi(e,i){return new Yc(e,i)}Ei(){}di(e){return nt.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>i.next((o=>s+o))))}wr(e){let i=0;return this.pr(e,(s=>{i++})).next((()=>i))}pr(e,i){return nt.forEach(this.pi,((s,o)=>this.br(e,s,o).next((u=>u?nt.resolve():i(o)))))}removeTargets(e,i,s){return this.persistence.getTargetCache().removeTargets(e,i,s)}removeOrphanedDocuments(e,i){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,(f=>this.br(e,f,i).next((m=>{m||(s++,u.removeEntry(f,At.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),nt.resolve()}removeTarget(e,i){const s=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,i,s){return this.pi.set(s,e.currentSequenceNumber),nt.resolve()}removeReference(e,i,s){return this.pi.set(s,e.currentSequenceNumber),nt.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),nt.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Ic(e.data.value)),i}br(e,i,s){return nt.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.pi.get(i);return nt.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gm{constructor(e,i,s,o){this.targetId=e,this.fromCache=i,this.Es=s,this.ds=o}static As(e,i){let s=Lt(),o=Lt();for(const u of i.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Gm(e,i.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RC{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return bS()?8:tR(yS())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,s,o){const u={result:null};return this.ys(e,i).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ws(e,i,o,s).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new wC;return this.Ss(e,i,f).next((m=>{if(u.result=m,this.Vs)return this.bs(e,i,f,m.size)}))})).next((()=>u.result))}bs(e,i,s,o){return s.documentReadCount<this.fs?(Os()<=qt.DEBUG&&ht("QueryEngine","SDK will not create cache indexes for query:",js(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),nt.resolve()):(Os()<=qt.DEBUG&&ht("QueryEngine","Query:",js(i),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(Os()<=qt.DEBUG&&ht("QueryEngine","The SDK decides to create cache indexes for query:",js(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Si(i))):nt.resolve())}ys(e,i){if(Uv(i))return nt.resolve(null);let s=Si(i);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=rm(i,null,"F"),s=Si(i)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const f=Lt(...u);return this.ps.getDocuments(e,f).next((m=>this.indexManager.getMinOffset(e,s).next((p=>{const y=this.Ds(i,m);return this.Cs(i,y,f,p.readTime)?this.ys(e,rm(i,null,"F")):this.vs(e,y,i,p)}))))})))))}ws(e,i,s,o){return Uv(i)||o.isEqual(At.min())?nt.resolve(null):this.ps.getDocuments(e,s).next((u=>{const f=this.Ds(i,u);return this.Cs(i,f,s,o)?nt.resolve(null):(Os()<=qt.DEBUG&&ht("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),js(i)),this.vs(e,f,i,$w(o,Ro)).next((m=>m)))}))}Ds(e,i){let s=new je(F1(e));return i.forEach(((o,u)=>{oh(e,u)&&(s=s.add(u))})),s}Cs(e,i,s,o){if(e.limit===null)return!1;if(s.size!==i.size)return!0;const u=e.limitType==="F"?i.last():i.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,i,s){return Os()<=qt.DEBUG&&ht("QueryEngine","Using full collection scan to execute query:",js(i)),this.ps.getDocumentsMatchingQuery(e,i,Ha.min(),s)}vs(e,i,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((u=>(i.forEach((f=>{u=u.insert(f.key,f)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qm="LocalStore",CC=3e8;class NC{constructor(e,i,s,o){this.persistence=e,this.Fs=i,this.serializer=o,this.Ms=new ce(kt),this.xs=new Ur((u=>km(u)),Lm),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new yC(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function DC(a,e,i,s){return new NC(a,e,i,s)}async function db(a,e){const i=wt(a);return await i.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return i.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,i.Bs(e),i.mutationQueue.getAllMutationBatches(s)))).next((u=>{const f=[],m=[];let p=Lt();for(const y of o){f.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}for(const y of u){m.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}return i.localDocuments.getDocuments(s,p).next((y=>({Ls:y,removedBatchIds:f,addedBatchIds:m})))}))}))}function IC(a,e){const i=wt(a);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,p,y,E){const T=y.batch,S=T.keys();let L=nt.resolve();return S.forEach((K=>{L=L.next((()=>E.getEntry(p,K))).next(($=>{const H=y.docVersions.get(K);Yt(H!==null,48541),$.version.compareTo(H)<0&&(T.applyToRemoteDocument($,y),$.isValidDocument()&&($.setReadTime(y.commitVersion),E.addEntry($)))}))})),L.next((()=>m.mutationQueue.removeMutationBatch(p,T)))})(i,s,e,u).next((()=>u.apply(s))).next((()=>i.mutationQueue.performConsistencyCheck(s))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let p=Lt();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(p=p.add(m.batch.mutations[y].key));return p})(e)))).next((()=>i.localDocuments.getDocuments(s,o)))}))}function mb(a){const e=wt(a);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function VC(a,e){const i=wt(a),s=e.snapshotVersion;let o=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=i.Ns.newChangeBuffer({trackRemovals:!0});o=i.Ms;const m=[];e.targetChanges.forEach(((E,T)=>{const S=o.get(T);if(!S)return;m.push(i.Pi.removeMatchingKeys(u,E.removedDocuments,T).next((()=>i.Pi.addMatchingKeys(u,E.addedDocuments,T))));let L=S.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(T)!==null?L=L.withResumeToken(Ke.EMPTY_BYTE_STRING,At.min()).withLastLimboFreeSnapshotVersion(At.min()):E.resumeToken.approximateByteSize()>0&&(L=L.withResumeToken(E.resumeToken,s)),o=o.insert(T,L),(function($,H,st){return $.resumeToken.approximateByteSize()===0||H.snapshotVersion.toMicroseconds()-$.snapshotVersion.toMicroseconds()>=CC?!0:st.addedDocuments.size+st.modifiedDocuments.size+st.removedDocuments.size>0})(S,L,E)&&m.push(i.Pi.updateTargetData(u,L))}));let p=na(),y=Lt();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&m.push(i.persistence.referenceDelegate.updateLimboDocument(u,E))})),m.push(MC(u,f,e.documentUpdates).next((E=>{p=E.ks,y=E.qs}))),!s.isEqual(At.min())){const E=i.Pi.getLastRemoteSnapshotVersion(u).next((T=>i.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(E)}return nt.waitFor(m).next((()=>f.apply(u))).next((()=>i.localDocuments.getLocalViewOfDocuments(u,p,y))).next((()=>p))})).then((u=>(i.Ms=o,u)))}function MC(a,e,i){let s=Lt(),o=Lt();return i.forEach((u=>s=s.add(u))),e.getEntries(a,s).next((u=>{let f=na();return i.forEach(((m,p)=>{const y=u.get(m);p.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(At.min())?(e.removeEntry(m,p.readTime),f=f.insert(m,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(p),f=f.insert(m,p)):ht(Qm,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",p.version)})),{ks:f,qs:o}}))}function OC(a,e){const i=wt(a);return i.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Mm),i.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function jC(a,e){const i=wt(a);return i.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return i.Pi.getTargetData(s,e).next((u=>u?(o=u,nt.resolve(o)):i.Pi.allocateTargetId(s).next((f=>(o=new ka(e,f,"TargetPurposeListen",s.currentSequenceNumber),i.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=i.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(s.targetId,s),i.xs.set(e,s.targetId)),s}))}async function cm(a,e,i){const s=wt(a),o=s.Ms.get(e),u=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",u,(f=>s.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!il(f))throw f;ht(Qm,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function Jv(a,e,i){const s=wt(a);let o=At.min(),u=Lt();return s.persistence.runTransaction("Execute query","readwrite",(f=>(function(p,y,E){const T=wt(p),S=T.xs.get(E);return S!==void 0?nt.resolve(T.Ms.get(S)):T.Pi.getTargetData(y,E)})(s,f,Si(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(f,m.targetId).next((p=>{u=p}))})).next((()=>s.Fs.getDocumentsMatchingQuery(f,e,i?o:At.min(),i?u:Lt()))).next((m=>(kC(s,ER(e),m),{documents:m,Qs:u})))))}function kC(a,e,i){let s=a.Os.get(e)||At.min();i.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),a.Os.set(e,s)}class Wv{constructor(){this.activeTargetIds=RR()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class LC{constructor(){this.Mo=new Wv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,s){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,s){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Wv,Promise.resolve()}handleUserChange(e,i,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zC{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t_="ConnectivityMonitor";class e_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ht(t_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ht(t_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ac=null;function hm(){return Ac===null?Ac=(function(){return 268435456+Math.round(2147483648*Math.random())})():Ac++,"0x"+Ac.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kd="RestConnection",UC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class PC{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===Bc?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,i,s,o,u){const f=hm(),m=this.zo(e,i.toUriEncodedString());ht(kd,`Sending RPC '${e}' ${f}:`,m,s);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,u);const{host:y}=new URL(m),E=Cm(y);return this.Jo(e,m,p,s,E).then((T=>(ht(kd,`Received RPC '${e}' ${f}: `,T),T)),(T=>{throw Hs(kd,`RPC '${e}' ${f} failed with error: `,T,"url: ",m,"request:",s),T}))}Ho(e,i,s,o,u,f){return this.Go(e,i,s,o,u)}jo(e,i,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+el})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,u)=>e[u]=o)),s&&s.headers.forEach(((o,u)=>e[u]=o))}zo(e,i){const s=UC[e];return`${this.Uo}/v1/${i}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BC{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xe="WebChannelConnection";class qC extends PC{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,s,o,u){const f=hm();return new Promise(((m,p)=>{const y=new p1;y.setWithCredentials(!0),y.listenOnce(y1.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Dc.NO_ERROR:const T=y.getResponseJson();ht(Xe,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(T)),m(T);break;case Dc.TIMEOUT:ht(Xe,`RPC '${e}' ${f} timed out`),p(new ct(tt.DEADLINE_EXCEEDED,"Request time out"));break;case Dc.HTTP_ERROR:const S=y.getStatus();if(ht(Xe,`RPC '${e}' ${f} failed with status:`,S,"response text:",y.getResponseText()),S>0){let L=y.getResponseJson();Array.isArray(L)&&(L=L[0]);const K=L==null?void 0:L.error;if(K&&K.status&&K.message){const $=(function(st){const rt=st.toLowerCase().replace(/_/g,"-");return Object.values(tt).indexOf(rt)>=0?rt:tt.UNKNOWN})(K.status);p(new ct($,K.message))}else p(new ct(tt.UNKNOWN,"Server responded with status "+y.getStatus()))}else p(new ct(tt.UNAVAILABLE,"Connection failed."));break;default:xt(9055,{l_:e,streamId:f,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{ht(Xe,`RPC '${e}' ${f} completed.`)}}));const E=JSON.stringify(o);ht(Xe,`RPC '${e}' ${f} sending request:`,o),y.send(i,"POST",E,s,15)}))}T_(e,i,s){const o=hm(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=b1(),m=_1(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,i,s),p.encodeInitMessageHeaders=!0;const E=u.join("");ht(Xe,`Creating RPC '${e}' stream ${o}: ${E}`,p);const T=f.createWebChannel(E,p);this.I_(T);let S=!1,L=!1;const K=new BC({Yo:H=>{L?ht(Xe,`Not sending because RPC '${e}' stream ${o} is closed:`,H):(S||(ht(Xe,`Opening RPC '${e}' stream ${o} transport.`),T.open(),S=!0),ht(Xe,`RPC '${e}' stream ${o} sending:`,H),T.send(H))},Zo:()=>T.close()}),$=(H,st,rt)=>{H.listen(st,(it=>{try{rt(it)}catch(mt){setTimeout((()=>{throw mt}),0)}}))};return $(T,go.EventType.OPEN,(()=>{L||(ht(Xe,`RPC '${e}' stream ${o} transport opened.`),K.o_())})),$(T,go.EventType.CLOSE,(()=>{L||(L=!0,ht(Xe,`RPC '${e}' stream ${o} transport closed`),K.a_(),this.E_(T))})),$(T,go.EventType.ERROR,(H=>{L||(L=!0,Hs(Xe,`RPC '${e}' stream ${o} transport errored. Name:`,H.name,"Message:",H.message),K.a_(new ct(tt.UNAVAILABLE,"The operation could not be completed")))})),$(T,go.EventType.MESSAGE,(H=>{var st;if(!L){const rt=H.data[0];Yt(!!rt,16349);const it=rt,mt=(it==null?void 0:it.error)||((st=it[0])==null?void 0:st.error);if(mt){ht(Xe,`RPC '${e}' stream ${o} received error:`,mt);const bt=mt.status;let _t=(function(C){const O=Ce[C];if(O!==void 0)return eb(O)})(bt),N=mt.message;_t===void 0&&(_t=tt.INTERNAL,N="Unknown error status: "+bt+" with message "+mt.message),L=!0,K.a_(new ct(_t,N)),T.close()}else ht(Xe,`RPC '${e}' stream ${o} received:`,rt),K.u_(rt)}})),$(m,v1.STAT_EVENT,(H=>{H.stat===Jd.PROXY?ht(Xe,`RPC '${e}' stream ${o} detected buffering proxy`):H.stat===Jd.NOPROXY&&ht(Xe,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{K.__()}),0),K}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function Ld(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dh(a){return new QR(a,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gb{constructor(e,i,s=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=i,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-s);o>0&&ht("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n_="PersistentStream";class pb{constructor(e,i,s,o,u,f,m,p){this.Mi=e,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new gb(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===tt.RESOURCE_EXHAUSTED?(ea(i.toString()),ea("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===tt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===i&&this.G_(s,o)}),(s=>{e((()=>{const o=new ct(tt.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,i){const s=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ht(n_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(ht(n_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class HC extends pb{constructor(e,i,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,o,f),this.serializer=u}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=$R(this.serializer,e),s=(function(u){if(!("targetChange"in u))return At.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?At.min():f.readTime?Ri(f.readTime):At.min()})(e);return this.listener.H_(i,s)}Y_(e){const i={};i.database=um(this.serializer),i.addTarget=(function(u,f){let m;const p=f.target;if(m=im(p)?{documents:JR(u,p)}:{query:WR(u,p).ft},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=ab(u,f.resumeToken);const y=sm(u,f.expectedCount);y!==null&&(m.expectedCount=y)}else if(f.snapshotVersion.compareTo(At.min())>0){m.readTime=Qc(u,f.snapshotVersion.toTimestamp());const y=sm(u,f.expectedCount);y!==null&&(m.expectedCount=y)}return m})(this.serializer,e);const s=eC(this.serializer,e);s&&(i.labels=s),this.q_(i)}Z_(e){const i={};i.database=um(this.serializer),i.removeTarget=e,this.q_(i)}}class FC extends pb{constructor(e,i,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,o,f),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return Yt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Yt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Yt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=ZR(e.writeResults,e.commitTime),s=Ri(e.commitTime);return this.listener.na(s,i)}ra(){const e={};e.database=um(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((s=>XR(this.serializer,s)))};this.q_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GC{}class QC extends GC{constructor(e,i,s,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ct(tt.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Go(e,lm(i,s),o,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===tt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ct(tt.UNKNOWN,u.toString())}))}Ho(e,i,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,m])=>this.connection.Ho(e,lm(i,s),o,f,m,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===tt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ct(tt.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class YC{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ea(i),this.aa=!1):ht("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Or="RemoteStore";class KC{constructor(e,i,s,o,u){this.localStore=e,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((f=>{s.enqueueAndForget((async()=>{Br(this)&&(ht(Or,"Restarting streams for network reachability change."),await(async function(p){const y=wt(p);y.Ea.add(4),await Bo(y),y.Ra.set("Unknown"),y.Ea.delete(4),await mh(y)})(this))}))})),this.Ra=new YC(s,o)}}async function mh(a){if(Br(a))for(const e of a.da)await e(!0)}async function Bo(a){for(const e of a.da)await e(!1)}function yb(a,e){const i=wt(a);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),Xm(i)?$m(i):rl(i).O_()&&Km(i,e))}function Ym(a,e){const i=wt(a),s=rl(i);i.Ia.delete(e),s.O_()&&vb(i,e),i.Ia.size===0&&(s.O_()?s.L_():Br(i)&&i.Ra.set("Unknown"))}function Km(a,e){if(a.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(At.min())>0){const i=a.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}rl(a).Y_(e)}function vb(a,e){a.Va.Ue(e),rl(a).Z_(e)}function $m(a){a.Va=new qR({getRemoteKeysForTarget:e=>a.remoteSyncer.getRemoteKeysForTarget(e),At:e=>a.Ia.get(e)||null,ht:()=>a.datastore.serializer.databaseId}),rl(a).start(),a.Ra.ua()}function Xm(a){return Br(a)&&!rl(a).x_()&&a.Ia.size>0}function Br(a){return wt(a).Ea.size===0}function _b(a){a.Va=void 0}async function $C(a){a.Ra.set("Online")}async function XC(a){a.Ia.forEach(((e,i)=>{Km(a,e)}))}async function ZC(a,e){_b(a),Xm(a)?(a.Ra.ha(e),$m(a)):a.Ra.set("Unknown")}async function JC(a,e,i){if(a.Ra.set("Online"),e instanceof ib&&e.state===2&&e.cause)try{await(async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ia.delete(m),o.Va.removeTarget(m))})(a,e)}catch(s){ht(Or,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Kc(a,s)}else if(e instanceof Oc?a.Va.Ze(e):e instanceof nb?a.Va.st(e):a.Va.tt(e),!i.isEqual(At.min()))try{const s=await mb(a.localStore);i.compareTo(s)>=0&&await(function(u,f){const m=u.Va.Tt(f);return m.targetChanges.forEach(((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.Ia.get(y);E&&u.Ia.set(y,E.withResumeToken(p.resumeToken,f))}})),m.targetMismatches.forEach(((p,y)=>{const E=u.Ia.get(p);if(!E)return;u.Ia.set(p,E.withResumeToken(Ke.EMPTY_BYTE_STRING,E.snapshotVersion)),vb(u,p);const T=new ka(E.target,p,y,E.sequenceNumber);Km(u,T)})),u.remoteSyncer.applyRemoteEvent(m)})(a,i)}catch(s){ht(Or,"Failed to raise snapshot:",s),await Kc(a,s)}}async function Kc(a,e,i){if(!il(e))throw e;a.Ea.add(1),await Bo(a),a.Ra.set("Offline"),i||(i=()=>mb(a.localStore)),a.asyncQueue.enqueueRetryable((async()=>{ht(Or,"Retrying IndexedDB access"),await i(),a.Ea.delete(1),await mh(a)}))}function bb(a,e){return e().catch((i=>Kc(a,i,e)))}async function gh(a){const e=wt(a),i=Ya(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Mm;for(;WC(e);)try{const o=await OC(e.localStore,s);if(o===null){e.Ta.length===0&&i.L_();break}s=o.batchId,tN(e,o)}catch(o){await Kc(e,o)}Eb(e)&&xb(e)}function WC(a){return Br(a)&&a.Ta.length<10}function tN(a,e){a.Ta.push(e);const i=Ya(a);i.O_()&&i.X_&&i.ea(e.mutations)}function Eb(a){return Br(a)&&!Ya(a).x_()&&a.Ta.length>0}function xb(a){Ya(a).start()}async function eN(a){Ya(a).ra()}async function nN(a){const e=Ya(a);for(const i of a.Ta)e.ea(i.mutations)}async function iN(a,e,i){const s=a.Ta.shift(),o=Pm.from(s,e,i);await bb(a,(()=>a.remoteSyncer.applySuccessfulWrite(o))),await gh(a)}async function aN(a,e){e&&Ya(a).X_&&await(async function(s,o){if((function(f){return UR(f)&&f!==tt.ABORTED})(o.code)){const u=s.Ta.shift();Ya(s).B_(),await bb(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await gh(s)}})(a,e),Eb(a)&&xb(a)}async function i_(a,e){const i=wt(a);i.asyncQueue.verifyOperationInProgress(),ht(Or,"RemoteStore received new credentials");const s=Br(i);i.Ea.add(3),await Bo(i),s&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await mh(i)}async function rN(a,e){const i=wt(a);e?(i.Ea.delete(2),await mh(i)):e||(i.Ea.add(2),await Bo(i),i.Ra.set("Unknown"))}function rl(a){return a.ma||(a.ma=(function(i,s,o){const u=wt(i);return u.sa(),new HC(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(a.datastore,a.asyncQueue,{Xo:$C.bind(null,a),t_:XC.bind(null,a),r_:ZC.bind(null,a),H_:JC.bind(null,a)}),a.da.push((async e=>{e?(a.ma.B_(),Xm(a)?$m(a):a.Ra.set("Unknown")):(await a.ma.stop(),_b(a))}))),a.ma}function Ya(a){return a.fa||(a.fa=(function(i,s,o){const u=wt(i);return u.sa(),new FC(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(a.datastore,a.asyncQueue,{Xo:()=>Promise.resolve(),t_:eN.bind(null,a),r_:aN.bind(null,a),ta:nN.bind(null,a),na:iN.bind(null,a)}),a.da.push((async e=>{e?(a.fa.B_(),await gh(a)):(await a.fa.stop(),a.Ta.length>0&&(ht(Or,`Stopping write stream with ${a.Ta.length} pending writes`),a.Ta=[]))}))),a.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zm{constructor(e,i,s,o,u){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Pa,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,s,o,u){const f=Date.now()+s,m=new Zm(e,i,f,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ct(tt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Jm(a,e){if(ea("AsyncQueue",`${e}: ${a}`),il(a))return new ct(tt.UNAVAILABLE,`${e}: ${a}`);throw a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us{static emptySet(e){return new Us(e.comparator)}constructor(e){this.comparator=e?(i,s)=>e(i,s)||vt.comparator(i.key,s.key):(i,s)=>vt.comparator(i.key,s.key),this.keyedMap=po(),this.sortedSet=new ce(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,s)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof Us)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const s=new Us;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=i,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a_{constructor(){this.ga=new ce(vt.comparator)}track(e){const i=e.doc.key,s=this.ga.get(i);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(i,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(i,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(i):e.type===1&&s.type===2?this.ga=this.ga.insert(i,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):xt(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,s)=>{e.push(s)})),e}}class $s{constructor(e,i,s,o,u,f,m,p,y){this.query=e,this.docs=i,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,i,s,o,u){const f=[];return i.forEach((m=>{f.push({type:0,doc:m})})),new $s(e,i,Us.emptySet(i),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&lh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,s=e.docChanges;if(i.length!==s.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==s[o].type||!i[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sN{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class lN{constructor(){this.queries=r_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,s){const o=wt(i),u=o.queries;o.queries=r_(),u.forEach(((f,m)=>{for(const p of m.Sa)p.onError(s)}))})(this,new ct(tt.ABORTED,"Firestore shutting down"))}}function r_(){return new Ur((a=>H1(a)),lh)}async function oN(a,e){const i=wt(a);let s=3;const o=e.query;let u=i.queries.get(o);u?!u.ba()&&e.Da()&&(s=2):(u=new sN,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await i.onListen(o,!0);break;case 1:u.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(f){const m=Jm(f,`Initialization of query '${js(e.query)}' failed`);return void e.onError(m)}i.queries.set(o,u),u.Sa.push(e),e.va(i.onlineState),u.wa&&e.Fa(u.wa)&&Wm(i)}async function uN(a,e){const i=wt(a),s=e.query;let o=3;const u=i.queries.get(s);if(u){const f=u.Sa.indexOf(e);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function cN(a,e){const i=wt(a);let s=!1;for(const o of e){const u=o.query,f=i.queries.get(u);if(f){for(const m of f.Sa)m.Fa(o)&&(s=!0);f.wa=o}}s&&Wm(i)}function hN(a,e,i){const s=wt(a),o=s.queries.get(e);if(o)for(const u of o.Sa)u.onError(i);s.queries.delete(e)}function Wm(a){a.Ca.forEach((e=>{e.next()}))}var fm,s_;(s_=fm||(fm={})).Ma="default",s_.Cache="cache";class fN{constructor(e,i,s){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new $s(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const s=i!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=$s.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==fm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tb{constructor(e){this.key=e}}class Ab{constructor(e){this.key=e}}class dN{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Lt(),this.mutatedKeys=Lt(),this.eu=F1(e),this.tu=new Us(this.eu)}get nu(){return this.Ya}ru(e,i){const s=i?i.iu:new a_,o=i?i.tu:this.tu;let u=i?i.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((E,T)=>{const S=o.get(E),L=oh(this.query,T)?T:null,K=!!S&&this.mutatedKeys.has(S.key),$=!!L&&(L.hasLocalMutations||this.mutatedKeys.has(L.key)&&L.hasCommittedMutations);let H=!1;S&&L?S.data.isEqual(L.data)?K!==$&&(s.track({type:3,doc:L}),H=!0):this.su(S,L)||(s.track({type:2,doc:L}),H=!0,(p&&this.eu(L,p)>0||y&&this.eu(L,y)<0)&&(m=!0)):!S&&L?(s.track({type:0,doc:L}),H=!0):S&&!L&&(s.track({type:1,doc:S}),H=!0,(p||y)&&(m=!0)),H&&(L?(f=f.add(L),u=$?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{tu:f,iu:s,Cs:m,mutatedKeys:u}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort(((E,T)=>(function(L,K){const $=H=>{switch(H){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return xt(20277,{Rt:H})}};return $(L)-$(K)})(E.type,T.type)||this.eu(E.doc,T.doc))),this.ou(s),o=o??!1;const m=i&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,y=p!==this.Za;return this.Za=p,f.length!==0||y?{snapshot:new $s(this.query,e.tu,u,f,e.mutatedKeys,p===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new a_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Lt(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const i=[];return e.forEach((s=>{this.Xa.has(s)||i.push(new Ab(s))})),this.Xa.forEach((s=>{e.has(s)||i.push(new Tb(s))})),i}cu(e){this.Ya=e.Qs,this.Xa=Lt();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return $s.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const tg="SyncEngine";class mN{constructor(e,i,s){this.query=e,this.targetId=i,this.view=s}}class gN{constructor(e){this.key=e,this.hu=!1}}class pN{constructor(e,i,s,o,u,f){this.localStore=e,this.remoteStore=i,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new Ur((m=>H1(m)),lh),this.Iu=new Map,this.Eu=new Set,this.du=new ce(vt.comparator),this.Au=new Map,this.Ru=new Hm,this.Vu={},this.mu=new Map,this.fu=Ks.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function yN(a,e,i=!0){const s=Db(a);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await Sb(s,e,i,!0),o}async function vN(a,e){const i=Db(a);await Sb(i,e,!0,!1)}async function Sb(a,e,i,s){const o=await jC(a.localStore,Si(e)),u=o.targetId,f=a.sharedClientState.addLocalQueryTarget(u,i);let m;return s&&(m=await _N(a,e,u,f==="current",o.resumeToken)),a.isPrimaryClient&&i&&yb(a.remoteStore,o),m}async function _N(a,e,i,s,o){a.pu=(T,S,L)=>(async function($,H,st,rt){let it=H.view.ru(st);it.Cs&&(it=await Jv($.localStore,H.query,!1).then((({documents:N})=>H.view.ru(N,it))));const mt=rt&&rt.targetChanges.get(H.targetId),bt=rt&&rt.targetMismatches.get(H.targetId)!=null,_t=H.view.applyChanges(it,$.isPrimaryClient,mt,bt);return o_($,H.targetId,_t.au),_t.snapshot})(a,T,S,L);const u=await Jv(a.localStore,e,!0),f=new dN(e,u.Qs),m=f.ru(u.documents),p=Po.createSynthesizedTargetChangeForCurrentChange(i,s&&a.onlineState!=="Offline",o),y=f.applyChanges(m,a.isPrimaryClient,p);o_(a,i,y.au);const E=new mN(e,i,f);return a.Tu.set(e,E),a.Iu.has(i)?a.Iu.get(i).push(e):a.Iu.set(i,[e]),y.snapshot}async function bN(a,e,i){const s=wt(a),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((f=>!lh(f,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await cm(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),i&&Ym(s.remoteStore,o.targetId),dm(s,o.targetId)})).catch(nl)):(dm(s,o.targetId),await cm(s.localStore,o.targetId,!0))}async function EN(a,e){const i=wt(a),s=i.Tu.get(e),o=i.Iu.get(s.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),Ym(i.remoteStore,s.targetId))}async function xN(a,e,i){const s=NN(a);try{const o=await(function(f,m){const p=wt(f),y=re.now(),E=m.reduce(((L,K)=>L.add(K.key)),Lt());let T,S;return p.persistence.runTransaction("Locally write mutations","readwrite",(L=>{let K=na(),$=Lt();return p.Ns.getEntries(L,E).next((H=>{K=H,K.forEach(((st,rt)=>{rt.isValidDocument()||($=$.add(st))}))})).next((()=>p.localDocuments.getOverlayedDocuments(L,K))).next((H=>{T=H;const st=[];for(const rt of m){const it=OR(rt,T.get(rt.key).overlayedDocument);it!=null&&st.push(new Pr(rt.key,it,O1(it.value.mapValue),wi.exists(!0)))}return p.mutationQueue.addMutationBatch(L,y,st,m)})).next((H=>{S=H;const st=H.applyToLocalDocumentSet(T,$);return p.documentOverlayCache.saveOverlays(L,H.batchId,st)}))})).then((()=>({batchId:S.batchId,changes:Q1(T)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(f,m,p){let y=f.Vu[f.currentUser.toKey()];y||(y=new ce(kt)),y=y.insert(m,p),f.Vu[f.currentUser.toKey()]=y})(s,o.batchId,i),await qo(s,o.changes),await gh(s.remoteStore)}catch(o){const u=Jm(o,"Failed to persist write");i.reject(u)}}async function wb(a,e){const i=wt(a);try{const s=await VC(i.localStore,e);e.targetChanges.forEach(((o,u)=>{const f=i.Au.get(u);f&&(Yt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?Yt(f.hu,14607):o.removedDocuments.size>0&&(Yt(f.hu,42227),f.hu=!1))})),await qo(i,s,e)}catch(s){await nl(s)}}function l_(a,e,i){const s=wt(a);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const o=[];s.Tu.forEach(((u,f)=>{const m=f.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(f,m){const p=wt(f);p.onlineState=m;let y=!1;p.queries.forEach(((E,T)=>{for(const S of T.Sa)S.va(m)&&(y=!0)})),y&&Wm(p)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function TN(a,e,i){const s=wt(a);s.sharedClientState.updateQueryState(e,"rejected",i);const o=s.Au.get(e),u=o&&o.key;if(u){let f=new ce(vt.comparator);f=f.insert(u,Je.newNoDocument(u,At.min()));const m=Lt().add(u),p=new fh(At.min(),new Map,new ce(kt),f,m);await wb(s,p),s.du=s.du.remove(u),s.Au.delete(e),eg(s)}else await cm(s.localStore,e,!1).then((()=>dm(s,e,i))).catch(nl)}async function AN(a,e){const i=wt(a),s=e.batch.batchId;try{const o=await IC(i.localStore,e);Cb(i,s,null),Rb(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await qo(i,o)}catch(o){await nl(o)}}async function SN(a,e,i){const s=wt(a);try{const o=await(function(f,m){const p=wt(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let E;return p.mutationQueue.lookupMutationBatch(y,m).next((T=>(Yt(T!==null,37113),E=T.keys(),p.mutationQueue.removeMutationBatch(y,T)))).next((()=>p.mutationQueue.performConsistencyCheck(y))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(y,E,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E))).next((()=>p.localDocuments.getDocuments(y,E)))}))})(s.localStore,e);Cb(s,e,i),Rb(s,e),s.sharedClientState.updateMutationState(e,"rejected",i),await qo(s,o)}catch(o){await nl(o)}}function Rb(a,e){(a.mu.get(e)||[]).forEach((i=>{i.resolve()})),a.mu.delete(e)}function Cb(a,e,i){const s=wt(a);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(i?u.reject(i):u.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function dm(a,e,i=null){a.sharedClientState.removeLocalQueryTarget(e);for(const s of a.Iu.get(e))a.Tu.delete(s),i&&a.Pu.yu(s,i);a.Iu.delete(e),a.isPrimaryClient&&a.Ru.jr(e).forEach((s=>{a.Ru.containsKey(s)||Nb(a,s)}))}function Nb(a,e){a.Eu.delete(e.path.canonicalString());const i=a.du.get(e);i!==null&&(Ym(a.remoteStore,i),a.du=a.du.remove(e),a.Au.delete(i),eg(a))}function o_(a,e,i){for(const s of i)s instanceof Tb?(a.Ru.addReference(s.key,e),wN(a,s)):s instanceof Ab?(ht(tg,"Document no longer in limbo: "+s.key),a.Ru.removeReference(s.key,e),a.Ru.containsKey(s.key)||Nb(a,s.key)):xt(19791,{wu:s})}function wN(a,e){const i=e.key,s=i.path.canonicalString();a.du.get(i)||a.Eu.has(s)||(ht(tg,"New document in limbo: "+i),a.Eu.add(s),eg(a))}function eg(a){for(;a.Eu.size>0&&a.du.size<a.maxConcurrentLimboResolutions;){const e=a.Eu.values().next().value;a.Eu.delete(e);const i=new vt(ne.fromString(e)),s=a.fu.next();a.Au.set(s,new gN(i)),a.du=a.du.insert(i,s),yb(a.remoteStore,new ka(Si(B1(i.path)),s,"TargetPurposeLimboResolution",ah.ce))}}async function qo(a,e,i){const s=wt(a),o=[],u=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,p)=>{f.push(s.pu(p,e,i).then((y=>{var E;if((y||i)&&s.isPrimaryClient){const T=y?!y.fromCache:(E=i==null?void 0:i.targetChanges.get(p.targetId))==null?void 0:E.current;s.sharedClientState.updateQueryState(p.targetId,T?"current":"not-current")}if(y){o.push(y);const T=Gm.As(p.targetId,y);u.push(T)}})))})),await Promise.all(f),s.Pu.H_(o),await(async function(p,y){const E=wt(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>nt.forEach(y,(S=>nt.forEach(S.Es,(L=>E.persistence.referenceDelegate.addReference(T,S.targetId,L))).next((()=>nt.forEach(S.ds,(L=>E.persistence.referenceDelegate.removeReference(T,S.targetId,L)))))))))}catch(T){if(!il(T))throw T;ht(Qm,"Failed to update sequence numbers: "+T)}for(const T of y){const S=T.targetId;if(!T.fromCache){const L=E.Ms.get(S),K=L.snapshotVersion,$=L.withLastLimboFreeSnapshotVersion(K);E.Ms=E.Ms.insert(S,$)}}})(s.localStore,u))}async function RN(a,e){const i=wt(a);if(!i.currentUser.isEqual(e)){ht(tg,"User change. New user:",e.toKey());const s=await db(i.localStore,e);i.currentUser=e,(function(u,f){u.mu.forEach((m=>{m.forEach((p=>{p.reject(new ct(tt.CANCELLED,f))}))})),u.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await qo(i,s.Ls)}}function CN(a,e){const i=wt(a),s=i.Au.get(e);if(s&&s.hu)return Lt().add(s.key);{let o=Lt();const u=i.Iu.get(e);if(!u)return o;for(const f of u){const m=i.Tu.get(f);o=o.unionWith(m.view.nu)}return o}}function Db(a){const e=wt(a);return e.remoteStore.remoteSyncer.applyRemoteEvent=wb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=CN.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=TN.bind(null,e),e.Pu.H_=cN.bind(null,e.eventManager),e.Pu.yu=hN.bind(null,e.eventManager),e}function NN(a){const e=wt(a);return e.remoteStore.remoteSyncer.applySuccessfulWrite=AN.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=SN.bind(null,e),e}class $c{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=dh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return DC(this.persistence,new RC,e.initialUser,this.serializer)}Cu(e){return new fb(Fm.mi,this.serializer)}Du(e){return new LC}async terminate(){var e,i;(e=this.gcScheduler)==null||e.stop(),(i=this.indexBackfillerScheduler)==null||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}$c.provider={build:()=>new $c};class DN extends $c{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){Yt(this.persistence.referenceDelegate instanceof Yc,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new fC(s,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?hn.withCacheSize(this.cacheSizeBytes):hn.DEFAULT;return new fb((s=>Yc.mi(s,i)),this.serializer)}}class mm{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>l_(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=RN.bind(null,this.syncEngine),await rN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new lN})()}createDatastore(e){const i=dh(e.databaseInfo.databaseId),s=(function(u){return new qC(u)})(e.databaseInfo);return(function(u,f,m,p){return new QC(u,f,m,p)})(e.authCredentials,e.appCheckCredentials,s,i)}createRemoteStore(e){return(function(s,o,u,f,m){return new KC(s,o,u,f,m)})(this.localStore,this.datastore,e.asyncQueue,(i=>l_(this.syncEngine,i,0)),(function(){return e_.v()?new e_:new zC})())}createSyncEngine(e,i){return(function(o,u,f,m,p,y,E){const T=new pN(o,u,f,m,p,y);return E&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){var e,i;await(async function(o){const u=wt(o);ht(Or,"RemoteStore shutting down."),u.Ea.add(5),await Bo(u),u.Aa.shutdown(),u.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(i=this.eventManager)==null||i.terminate()}}mm.provider={build:()=>new mm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IN{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ea("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ka="FirestoreClient";class VN{constructor(e,i,s,o,u){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=o,this.user=Ze.UNAUTHENTICATED,this.clientId=Vm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async f=>{ht(Ka,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(s,(f=>(ht(Ka,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Pa;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const s=Jm(i,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function zd(a,e){a.asyncQueue.verifyOperationInProgress(),ht(Ka,"Initializing OfflineComponentProvider");const i=a.configuration;await e.initialize(i);let s=i.initialUser;a.setCredentialChangeListener((async o=>{s.isEqual(o)||(await db(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>a.terminate())),a._offlineComponents=e}async function u_(a,e){a.asyncQueue.verifyOperationInProgress();const i=await MN(a);ht(Ka,"Initializing OnlineComponentProvider"),await e.initialize(i,a.configuration),a.setCredentialChangeListener((s=>i_(e.remoteStore,s))),a.setAppCheckTokenChangeListener(((s,o)=>i_(e.remoteStore,o))),a._onlineComponents=e}async function MN(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){ht(Ka,"Using user provided OfflineComponentProvider");try{await zd(a,a._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(o){return o.name==="FirebaseError"?o.code===tt.FAILED_PRECONDITION||o.code===tt.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;Hs("Error using user provided cache. Falling back to memory cache: "+i),await zd(a,new $c)}}else ht(Ka,"Using default OfflineComponentProvider"),await zd(a,new DN(void 0));return a._offlineComponents}async function Ib(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(ht(Ka,"Using user provided OnlineComponentProvider"),await u_(a,a._uninitializedComponentsProvider._online)):(ht(Ka,"Using default OnlineComponentProvider"),await u_(a,new mm))),a._onlineComponents}function ON(a){return Ib(a).then((e=>e.syncEngine))}async function jN(a){const e=await Ib(a),i=e.eventManager;return i.onListen=yN.bind(null,e.syncEngine),i.onUnlisten=bN.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=vN.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=EN.bind(null,e.syncEngine),i}function kN(a,e,i={}){const s=new Pa;return a.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,p,y){const E=new IN({next:S=>{E.Nu(),f.enqueueAndForget((()=>uN(u,T))),S.fromCache&&p.source==="server"?y.reject(new ct(tt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(S)},error:S=>y.reject(S)}),T=new fN(m,E,{includeMetadataChanges:!0,qa:!0});return oN(u,T)})(await jN(a),a.asyncQueue,e,i,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vb(a){const e={};return a.timeoutSeconds!==void 0&&(e.timeoutSeconds=a.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c_=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mb="firestore.googleapis.com",h_=!0;class f_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ct(tt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Mb,this.ssl=h_}else this.host=e.host,this.ssl=e.ssl??h_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=hb;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<cC)throw new ct(tt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Kw("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Vb(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ct(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ct(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ct(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ph{constructor(e,i,s,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new f_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ct(tt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ct(tt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new f_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new zw;switch(s.type){case"firstParty":return new qw(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ct(tt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const s=c_.get(i);s&&(ht("ComponentProvider","Removing Datastore"),c_.delete(i),s.terminate())})(this),Promise.resolve()}}function LN(a,e,i,s={}){var y;a=Gs(a,ph);const o=Cm(e),u=a._getSettings(),f={...u,emulatorOptions:a._getEmulatorOptions()},m=`${e}:${i}`;o&&(fS(`https://${m}`),pS("Firestore",!0)),u.host!==Mb&&u.host!==m&&Hs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:m,ssl:o,emulatorOptions:s};if(!So(p,f)&&(a._setSettings(p),s.mockUserToken)){let E,T;if(typeof s.mockUserToken=="string")E=s.mockUserToken,T=Ze.MOCK_USER;else{E=dS(s.mockUserToken,(y=a._app)==null?void 0:y.options.projectId);const S=s.mockUserToken.sub||s.mockUserToken.user_id;if(!S)throw new ct(tt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new Ze(S)}a._authCredentials=new Uw(new x1(E,T))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr{constructor(e,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new qr(this.firestore,e,this._query)}}class Oe{constructor(e,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ba(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Oe(this.firestore,e,this._key)}toJSON(){return{type:Oe._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,s){if(Uo(i,Oe._jsonSchema))return new Oe(e,s||null,new vt(ne.fromString(i.referencePath)))}}Oe._jsonSchemaVersion="firestore/documentReference/1.0",Oe._jsonSchema={type:De("string",Oe._jsonSchemaVersion),referencePath:De("string")};class Ba extends qr{constructor(e,i,s){super(e,i,B1(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Oe(this.firestore,null,new vt(e))}withConverter(e){return new Ba(this.firestore,e,this._path)}}function Xs(a,e,...i){if(a=Un(a),T1("collection","path",e),a instanceof ph){const s=ne.fromString(e,...i);return Sv(s),new Ba(a,null,s)}{if(!(a instanceof Oe||a instanceof Ba))throw new ct(tt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child(ne.fromString(e,...i));return Sv(s),new Ba(a.firestore,null,s)}}function Xc(a,e,...i){if(a=Un(a),arguments.length===1&&(e=Vm.newId()),T1("doc","path",e),a instanceof ph){const s=ne.fromString(e,...i);return Av(s),new Oe(a,null,new vt(s))}{if(!(a instanceof Oe||a instanceof Ba))throw new ct(tt.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child(ne.fromString(e,...i));return Av(s),new Oe(a.firestore,a instanceof Ba?a.converter:null,new vt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d_="AsyncQueue";class m_{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new gb(this,"async_queue_retry"),this._c=()=>{const s=Ld();s&&ht(d_,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const i=Ld();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=Ld();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Pa;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!il(e))throw e;ht(d_,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,ea("INTERNAL UNHANDLED ERROR: ",g_(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=i,i}enqueueAfterDelay(e,i,s){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const o=Zm.createAndSchedule(this,e,i,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&xt(47125,{Pc:g_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,s)=>i.targetTimeMs-s.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function g_(a){let e=a.message||"";return a.stack&&(e=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),e}class yh extends ph{constructor(e,i,s,o){super(e,i,s,o),this.type="firestore",this._queue=new m_,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new m_(e),this._firestoreClient=void 0,await e}}}function zN(a,e){const i=typeof a=="object"?a:f1(),s=typeof a=="string"?a:Bc,o=zo(i,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=cS("firestore");u&&LN(o,...u)}return o}function Ob(a){if(a._terminated)throw new ct(tt.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||UN(a),a._firestoreClient}function UN(a){var s,o,u;const e=a._freezeSettings(),i=(function(m,p,y,E){return new rR(m,p,y,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,Vb(E.experimentalLongPollingOptions),E.useFetchStreams,E.isUsingEmulator)})(a._databaseId,((s=a._app)==null?void 0:s.options.appId)||"",a._persistenceKey,e);a._componentsProvider||(o=e.localCache)!=null&&o._offlineComponentProvider&&((u=e.localCache)!=null&&u._onlineComponentProvider)&&(a._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),a._firestoreClient=new VN(a._authCredentials,a._appCheckCredentials,a._queue,i,a._componentsProvider&&(function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}})(a._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new zn(Ke.fromBase64String(e))}catch(i){throw new ct(tt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new zn(Ke.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:zn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Uo(e,zn._jsonSchema))return zn.fromBase64String(e.bytes)}}zn._jsonSchemaVersion="firestore/bytes/1.0",zn._jsonSchema={type:De("string",zn._jsonSchemaVersion),bytes:De("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new ct(tt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ye(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ng{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new ct(tt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new ct(tt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return kt(this._lat,e._lat)||kt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ci._jsonSchemaVersion}}static fromJSON(e){if(Uo(e,Ci._jsonSchema))return new Ci(e.latitude,e.longitude)}}Ci._jsonSchemaVersion="firestore/geoPoint/1.0",Ci._jsonSchema={type:De("string",Ci._jsonSchemaVersion),latitude:De("number"),longitude:De("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ni._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Uo(e,Ni._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new Ni(e.vectorValues);throw new ct(tt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ni._jsonSchemaVersion="firestore/vectorValue/1.0",Ni._jsonSchema={type:De("string",Ni._jsonSchemaVersion),vectorValues:De("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PN=/^__.*__$/;class jb{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return new Pr(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function kb(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw xt(40011,{Ac:a})}}class ig{constructor(e,i,s,o,u,f){this.settings=e,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new ig({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var o;const i=(o=this.path)==null?void 0:o.child(e),s=this.Vc({path:i,fc:!1});return s.gc(e),s}yc(e){var o;const i=(o=this.path)==null?void 0:o.child(e),s=this.Vc({path:i,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Zc(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(kb(this.Ac)&&PN.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class BN{constructor(e,i,s){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=s||dh(e)}Cc(e,i,s,o=!1){return new ig({Ac:e,methodName:i,Dc:s,path:Ye.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Lb(a){const e=a._freezeSettings(),i=dh(a._databaseId);return new BN(a._databaseId,!!e.ignoreUndefinedProperties,i)}class _h extends ng{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof _h}}function qN(a,e,i,s){const o=a.Cc(1,e,i);Ub("Data must be an object, but it was:",o,s);const u=[],f=En.empty();Za(s,((p,y)=>{const E=ag(e,p,i);y=Un(y);const T=o.yc(E);if(y instanceof _h)u.push(E);else{const S=Ho(y,T);S!=null&&(u.push(E),f.set(E,S))}}));const m=new Jn(u);return new jb(f,m,o.fieldTransforms)}function HN(a,e,i,s,o,u){const f=a.Cc(1,e,i),m=[p_(e,s,i)],p=[o];if(u.length%2!=0)throw new ct(tt.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<u.length;S+=2)m.push(p_(e,u[S])),p.push(u[S+1]);const y=[],E=En.empty();for(let S=m.length-1;S>=0;--S)if(!YN(y,m[S])){const L=m[S];let K=p[S];K=Un(K);const $=f.yc(L);if(K instanceof _h)y.push(L);else{const H=Ho(K,$);H!=null&&(y.push(L),E.set(L,H))}}const T=new Jn(y);return new jb(E,T,f.fieldTransforms)}function FN(a,e,i,s=!1){return Ho(i,a.Cc(s?4:3,e))}function Ho(a,e){if(zb(a=Un(a)))return Ub("Unsupported field value:",e,a),GN(a,e);if(a instanceof ng)return(function(s,o){if(!kb(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(a,e),null;if(a===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),a instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const u=[];let f=0;for(const m of s){let p=Ho(m,o.wc(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}})(a,e)}return(function(s,o){if((s=Un(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return CR(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=re.fromDate(s);return{timestampValue:Qc(o.serializer,u)}}if(s instanceof re){const u=new re(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Qc(o.serializer,u)}}if(s instanceof Ci)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof zn)return{bytesValue:ab(o.serializer,s._byteString)};if(s instanceof Oe){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:qm(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Ni)return(function(f,m){return{mapValue:{fields:{[V1]:{stringValue:M1},[qc]:{arrayValue:{values:f.toArray().map((y=>{if(typeof y!="number")throw m.Sc("VectorValues must only contain numeric values.");return zm(m.serializer,y)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${ih(s)}`)})(a,e)}function GN(a,e){const i={};return w1(a)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Za(a,((s,o)=>{const u=Ho(o,e.mc(s));u!=null&&(i[s]=u)})),{mapValue:{fields:i}}}function zb(a){return!(typeof a!="object"||a===null||a instanceof Array||a instanceof Date||a instanceof re||a instanceof Ci||a instanceof zn||a instanceof Oe||a instanceof ng||a instanceof Ni)}function Ub(a,e,i){if(!zb(i)||!A1(i)){const s=ih(i);throw s==="an object"?e.Sc(a+" a custom object"):e.Sc(a+" "+s)}}function p_(a,e,i){if((e=Un(e))instanceof vh)return e._internalPath;if(typeof e=="string")return ag(a,e);throw Zc("Field path arguments must be of type string or ",a,!1,void 0,i)}const QN=new RegExp("[~\\*/\\[\\]]");function ag(a,e,i){if(e.search(QN)>=0)throw Zc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,i);try{return new vh(...e.split("."))._internalPath}catch{throw Zc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,i)}}function Zc(a,e,i,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;i&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${s}`),f&&(p+=` in document ${o}`),p+=")"),new ct(tt.INVALID_ARGUMENT,m+a+p)}function YN(a,e){return a.some((i=>i.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pb{constructor(e,i,s,o,u){this._firestore=e,this._userDataWriter=i,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Oe(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new KN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(rg("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class KN extends Pb{data(){return super.data()}}function rg(a,e){return typeof e=="string"?ag(a,e):e instanceof vh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $N(a){if(a.limitType==="L"&&a.explicitOrderBy.length===0)throw new ct(tt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class sg{}class Bb extends sg{}function lg(a,e,...i){let s=[];e instanceof sg&&s.push(e),s=s.concat(i),(function(u){const f=u.filter((p=>p instanceof ug)).length,m=u.filter((p=>p instanceof og)).length;if(f>1||f>0&&m>0)throw new ct(tt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)a=o._apply(a);return a}class og extends Bb{constructor(e,i,s){super(),this._field=e,this._op=i,this._value=s,this.type="where"}static _create(e,i,s){return new og(e,i,s)}_apply(e){const i=this._parse(e);return qb(e._query,i),new qr(e.firestore,e.converter,am(e._query,i))}_parse(e){const i=Lb(e.firestore);return(function(u,f,m,p,y,E,T){let S;if(y.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new ct(tt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){v_(T,E);const K=[];for(const $ of T)K.push(y_(p,u,$));S={arrayValue:{values:K}}}else S=y_(p,u,T)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||v_(T,E),S=FN(m,f,T,E==="in"||E==="not-in");return Ne.create(y,E,S)})(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}class ug extends sg{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new ug(e,i)}_parse(e){const i=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return i.length===1?i[0]:Wn.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:((function(o,u){let f=o;const m=u.getFlattenedFilters();for(const p of m)qb(f,p),f=am(f,p)})(e._query,i),new qr(e.firestore,e.converter,am(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class cg extends Bb{constructor(e,i){super(),this._field=e,this._direction=i,this.type="orderBy"}static _create(e,i){return new cg(e,i)}_apply(e){const i=(function(o,u,f){if(o.startAt!==null)throw new ct(tt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new ct(tt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Io(u,f)})(e._query,this._field,this._direction);return new qr(e.firestore,e.converter,(function(o,u){const f=o.explicitOrderBy.concat([u]);return new al(o.path,o.collectionGroup,f,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,i))}}function hg(a,e="asc"){const i=e,s=rg("orderBy",a);return cg._create(s,i)}function y_(a,e,i){if(typeof(i=Un(i))=="string"){if(i==="")throw new ct(tt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!q1(e)&&i.indexOf("/")!==-1)throw new ct(tt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const s=e.path.child(ne.fromString(i));if(!vt.isDocumentKey(s))throw new ct(tt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Mv(a,new vt(s))}if(i instanceof Oe)return Mv(a,i._key);throw new ct(tt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ih(i)}.`)}function v_(a,e){if(!Array.isArray(a)||a.length===0)throw new ct(tt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function qb(a,e){const i=(function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(a.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(i!==null)throw i===e.op?new ct(tt.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ct(tt.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}class XN{convertValue(e,i="none"){switch(Qa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ve(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Ga(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw xt(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const s={};return Za(e,((o,u)=>{s[o]=this.convertValue(u,i)})),s}convertVectorValue(e){var s,o,u;const i=(u=(o=(s=e.fields)==null?void 0:s[qc].arrayValue)==null?void 0:o.values)==null?void 0:u.map((f=>ve(f.doubleValue)));return new Ni(i)}convertGeoPoint(e){return new Ci(ve(e.latitude),ve(e.longitude))}convertArray(e,i){return(e.values||[]).map((s=>this.convertValue(s,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const s=sh(e);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(Co(e));default:return null}}convertTimestamp(e){const i=Fa(e);return new re(i.seconds,i.nanos)}convertDocumentKey(e,i){const s=ne.fromString(e);Yt(cb(s),9688,{name:e});const o=new No(s.get(1),s.get(3)),u=new vt(s.popFirst(5));return o.isEqual(i)||ea(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),u}}class Sc{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ps extends Pb{constructor(e,i,s,o,u,f){super(e,i,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new jc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const s=this._document.data.field(rg("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ct(tt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=Ps._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Ps._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ps._jsonSchema={type:De("string",Ps._jsonSchemaVersion),bundleSource:De("string","DocumentSnapshot"),bundleName:De("string"),bundle:De("string")};class jc extends Ps{data(e={}){return super.data(e)}}class Bs{constructor(e,i,s,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new Sc(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((s=>{e.call(i,new jc(this._firestore,this._userDataWriter,s.key,s,new Sc(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ct(tt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((m=>{const p=new jc(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Sc(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const p=new jc(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Sc(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,E=-1;return m.type!==0&&(y=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:ZN(m.type),doc:p,oldIndex:y,newIndex:E}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ct(tt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Bs._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Vm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(i.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function ZN(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return xt(61501,{type:a})}}Bs._jsonSchemaVersion="firestore/querySnapshot/1.0",Bs._jsonSchema={type:De("string",Bs._jsonSchemaVersion),bundleSource:De("string","QuerySnapshot"),bundleName:De("string"),bundle:De("string")};class JN extends XN{constructor(e){super(),this.firestore=e}convertBytes(e){return new zn(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Oe(this.firestore,null,i)}}function Zs(a){a=Gs(a,qr);const e=Gs(a.firestore,yh),i=Ob(e),s=new JN(e);return $N(a._query),kN(i,a._query).then((o=>new Bs(e,s,a,o)))}function Hb(a,e,i,...s){a=Gs(a,Oe);const o=Gs(a.firestore,yh),u=Lb(o);let f;return f=typeof(e=Un(e))=="string"||e instanceof vh?HN(u,"updateDoc",a._key,e,i,s):qN(u,"updateDoc",a._key,e),Gb(o,[f.toMutation(a._key,wi.exists(!0))])}function Fb(a){return Gb(Gs(a.firestore,yh),[new Um(a._key,wi.none())])}function Gb(a,e){return(function(s,o){const u=new Pa;return s.asyncQueue.enqueueAndForget((async()=>xN(await ON(s),o,u))),u.promise})(Ob(a),e)}(function(e,i=!0){(function(o){el=o})(Rw),qa(new Wi("firestore",((s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new yh(new Pw(s.getProvider("auth-internal")),new Hw(f,s.getProvider("app-check-internal")),(function(y,E){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ct(tt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new No(y.options.projectId,E)})(f,o),f);return u={useFetchStreams:i,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),Ai(bv,Ev,e),Ai(bv,Ev,"esm2020")})();var WN="firebase",t4="12.7.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ai(WN,t4,"app");const Qb="@firebase/installations",fg="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yb=1e4,Kb=`w:${fg}`,$b="FIS_v2",e4="https://firebaseinstallations.googleapis.com/v1",n4=3600*1e3,i4="installations",a4="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r4={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},jr=new nh(i4,a4,r4);function Xb(a){return a instanceof Xa&&a.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zb({projectId:a}){return`${e4}/projects/${a}/installations`}function Jb(a){return{token:a.token,requestStatus:2,expiresIn:l4(a.expiresIn),creationTime:Date.now()}}async function Wb(a,e){const s=(await e.json()).error;return jr.create("request-failed",{requestName:a,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function tE({apiKey:a}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":a})}function s4(a,{refreshToken:e}){const i=tE(a);return i.append("Authorization",o4(e)),i}async function eE(a){const e=await a();return e.status>=500&&e.status<600?a():e}function l4(a){return Number(a.replace("s","000"))}function o4(a){return`${$b} ${a}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u4({appConfig:a,heartbeatServiceProvider:e},{fid:i}){const s=Zb(a),o=tE(a),u=e.getImmediate({optional:!0});if(u){const y=await u.getHeartbeatsHeader();y&&o.append("x-firebase-client",y)}const f={fid:i,authVersion:$b,appId:a.appId,sdkVersion:Kb},m={method:"POST",headers:o,body:JSON.stringify(f)},p=await eE(()=>fetch(s,m));if(p.ok){const y=await p.json();return{fid:y.fid||i,registrationStatus:2,refreshToken:y.refreshToken,authToken:Jb(y.authToken)}}else throw await Wb("Create Installation",p)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nE(a){return new Promise(e=>{setTimeout(e,a)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c4(a){return btoa(String.fromCharCode(...a)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h4=/^[cdef][\w-]{21}$/,gm="";function f4(){try{const a=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(a),a[0]=112+a[0]%16;const i=d4(a);return h4.test(i)?i:gm}catch{return gm}}function d4(a){return c4(a).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bh(a){return`${a.appName}!${a.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iE=new Map;function aE(a,e){const i=bh(a);rE(i,e),m4(i,e)}function rE(a,e){const i=iE.get(a);if(i)for(const s of i)s(e)}function m4(a,e){const i=g4();i&&i.postMessage({key:a,fid:e}),p4()}let Vr=null;function g4(){return!Vr&&"BroadcastChannel"in self&&(Vr=new BroadcastChannel("[Firebase] FID Change"),Vr.onmessage=a=>{rE(a.data.key,a.data.fid)}),Vr}function p4(){iE.size===0&&Vr&&(Vr.close(),Vr=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y4="firebase-installations-database",v4=1,kr="firebase-installations-store";let Ud=null;function dg(){return Ud||(Ud=c1(y4,v4,{upgrade:(a,e)=>{switch(e){case 0:a.createObjectStore(kr)}}})),Ud}async function Jc(a,e){const i=bh(a),o=(await dg()).transaction(kr,"readwrite"),u=o.objectStore(kr),f=await u.get(i);return await u.put(e,i),await o.done,(!f||f.fid!==e.fid)&&aE(a,e.fid),e}async function sE(a){const e=bh(a),s=(await dg()).transaction(kr,"readwrite");await s.objectStore(kr).delete(e),await s.done}async function Eh(a,e){const i=bh(a),o=(await dg()).transaction(kr,"readwrite"),u=o.objectStore(kr),f=await u.get(i),m=e(f);return m===void 0?await u.delete(i):await u.put(m,i),await o.done,m&&(!f||f.fid!==m.fid)&&aE(a,m.fid),m}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mg(a){let e;const i=await Eh(a.appConfig,s=>{const o=_4(s),u=b4(a,o);return e=u.registrationPromise,u.installationEntry});return i.fid===gm?{installationEntry:await e}:{installationEntry:i,registrationPromise:e}}function _4(a){const e=a||{fid:f4(),registrationStatus:0};return lE(e)}function b4(a,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(jr.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const i={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},s=E4(a,i);return{installationEntry:i,registrationPromise:s}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:x4(a)}:{installationEntry:e}}async function E4(a,e){try{const i=await u4(a,e);return Jc(a.appConfig,i)}catch(i){throw Xb(i)&&i.customData.serverCode===409?await sE(a.appConfig):await Jc(a.appConfig,{fid:e.fid,registrationStatus:0}),i}}async function x4(a){let e=await __(a.appConfig);for(;e.registrationStatus===1;)await nE(100),e=await __(a.appConfig);if(e.registrationStatus===0){const{installationEntry:i,registrationPromise:s}=await mg(a);return s||i}return e}function __(a){return Eh(a,e=>{if(!e)throw jr.create("installation-not-found");return lE(e)})}function lE(a){return T4(a)?{fid:a.fid,registrationStatus:0}:a}function T4(a){return a.registrationStatus===1&&a.registrationTime+Yb<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A4({appConfig:a,heartbeatServiceProvider:e},i){const s=S4(a,i),o=s4(a,i),u=e.getImmediate({optional:!0});if(u){const y=await u.getHeartbeatsHeader();y&&o.append("x-firebase-client",y)}const f={installation:{sdkVersion:Kb,appId:a.appId}},m={method:"POST",headers:o,body:JSON.stringify(f)},p=await eE(()=>fetch(s,m));if(p.ok){const y=await p.json();return Jb(y)}else throw await Wb("Generate Auth Token",p)}function S4(a,{fid:e}){return`${Zb(a)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gg(a,e=!1){let i;const s=await Eh(a.appConfig,u=>{if(!oE(u))throw jr.create("not-registered");const f=u.authToken;if(!e&&C4(f))return u;if(f.requestStatus===1)return i=w4(a,e),u;{if(!navigator.onLine)throw jr.create("app-offline");const m=D4(u);return i=R4(a,m),m}});return i?await i:s.authToken}async function w4(a,e){let i=await b_(a.appConfig);for(;i.authToken.requestStatus===1;)await nE(100),i=await b_(a.appConfig);const s=i.authToken;return s.requestStatus===0?gg(a,e):s}function b_(a){return Eh(a,e=>{if(!oE(e))throw jr.create("not-registered");const i=e.authToken;return I4(i)?{...e,authToken:{requestStatus:0}}:e})}async function R4(a,e){try{const i=await A4(a,e),s={...e,authToken:i};return await Jc(a.appConfig,s),i}catch(i){if(Xb(i)&&(i.customData.serverCode===401||i.customData.serverCode===404))await sE(a.appConfig);else{const s={...e,authToken:{requestStatus:0}};await Jc(a.appConfig,s)}throw i}}function oE(a){return a!==void 0&&a.registrationStatus===2}function C4(a){return a.requestStatus===2&&!N4(a)}function N4(a){const e=Date.now();return e<a.creationTime||a.creationTime+a.expiresIn<e+n4}function D4(a){const e={requestStatus:1,requestTime:Date.now()};return{...a,authToken:e}}function I4(a){return a.requestStatus===1&&a.requestTime+Yb<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V4(a){const e=a,{installationEntry:i,registrationPromise:s}=await mg(e);return s?s.catch(console.error):gg(e).catch(console.error),i.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M4(a,e=!1){const i=a;return await O4(i),(await gg(i,e)).token}async function O4(a){const{registrationPromise:e}=await mg(a);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j4(a){if(!a||!a.options)throw Pd("App Configuration");if(!a.name)throw Pd("App Name");const e=["projectId","apiKey","appId"];for(const i of e)if(!a.options[i])throw Pd(i);return{appName:a.name,projectId:a.options.projectId,apiKey:a.options.apiKey,appId:a.options.appId}}function Pd(a){return jr.create("missing-app-config-values",{valueName:a})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uE="installations",k4="installations-internal",L4=a=>{const e=a.getProvider("app").getImmediate(),i=j4(e),s=zo(e,"heartbeat");return{app:e,appConfig:i,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},z4=a=>{const e=a.getProvider("app").getImmediate(),i=zo(e,uE).getImmediate();return{getId:()=>V4(i),getToken:o=>M4(i,o)}};function U4(){qa(new Wi(uE,L4,"PUBLIC")),qa(new Wi(k4,z4,"PRIVATE"))}U4();Ai(Qb,fg);Ai(Qb,fg,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wc="analytics",P4="firebase_id",B4="origin",q4=60*1e3,H4="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",pg="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nn=new Nm("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F4={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},xn=new nh("analytics","Analytics",F4);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G4(a){if(!a.startsWith(pg)){const e=xn.create("invalid-gtag-resource",{gtagURL:a});return nn.warn(e.message),""}return a}function cE(a){return Promise.all(a.map(e=>e.catch(i=>i)))}function Q4(a,e){let i;return window.trustedTypes&&(i=window.trustedTypes.createPolicy(a,e)),i}function Y4(a,e){const i=Q4("firebase-js-sdk-policy",{createScriptURL:G4}),s=document.createElement("script"),o=`${pg}?l=${a}&id=${e}`;s.src=i?i==null?void 0:i.createScriptURL(o):o,s.async=!0,document.head.appendChild(s)}function K4(a){let e=[];return Array.isArray(window[a])?e=window[a]:window[a]=e,e}async function $4(a,e,i,s,o,u){const f=s[o];try{if(f)await e[f];else{const p=(await cE(i)).find(y=>y.measurementId===o);p&&await e[p.appId]}}catch(m){nn.error(m)}a("config",o,u)}async function X4(a,e,i,s,o){try{let u=[];if(o&&o.send_to){let f=o.send_to;Array.isArray(f)||(f=[f]);const m=await cE(i);for(const p of f){const y=m.find(T=>T.measurementId===p),E=y&&e[y.appId];if(E)u.push(E);else{u=[];break}}}u.length===0&&(u=Object.values(e)),await Promise.all(u),a("event",s,o||{})}catch(u){nn.error(u)}}function Z4(a,e,i,s){async function o(u,...f){try{if(u==="event"){const[m,p]=f;await X4(a,e,i,m,p)}else if(u==="config"){const[m,p]=f;await $4(a,e,i,s,m,p)}else if(u==="consent"){const[m,p]=f;a("consent",m,p)}else if(u==="get"){const[m,p,y]=f;a("get",m,p,y)}else if(u==="set"){const[m]=f;a("set",m)}else a(u,...f)}catch(m){nn.error(m)}}return o}function J4(a,e,i,s,o){let u=function(...f){window[s].push(arguments)};return window[o]&&typeof window[o]=="function"&&(u=window[o]),window[o]=Z4(u,a,e,i),{gtagCore:u,wrappedGtag:window[o]}}function W4(a){const e=window.document.getElementsByTagName("script");for(const i of Object.values(e))if(i.src&&i.src.includes(pg)&&i.src.includes(a))return i;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tD=30,eD=1e3;class nD{constructor(e={},i=eD){this.throttleMetadata=e,this.intervalMillis=i}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,i){this.throttleMetadata[e]=i}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const hE=new nD;function iD(a){return new Headers({Accept:"application/json","x-goog-api-key":a})}async function aD(a){var f;const{appId:e,apiKey:i}=a,s={method:"GET",headers:iD(i)},o=H4.replace("{app-id}",e),u=await fetch(o,s);if(u.status!==200&&u.status!==304){let m="";try{const p=await u.json();(f=p.error)!=null&&f.message&&(m=p.error.message)}catch{}throw xn.create("config-fetch-failed",{httpStatus:u.status,responseMessage:m})}return u.json()}async function rD(a,e=hE,i){const{appId:s,apiKey:o,measurementId:u}=a.options;if(!s)throw xn.create("no-app-id");if(!o){if(u)return{measurementId:u,appId:s};throw xn.create("no-api-key")}const f=e.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},m=new oD;return setTimeout(async()=>{m.abort()},q4),fE({appId:s,apiKey:o,measurementId:u},f,m,e)}async function fE(a,{throttleEndTimeMillis:e,backoffCount:i},s,o=hE){var m;const{appId:u,measurementId:f}=a;try{await sD(s,e)}catch(p){if(f)return nn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${p==null?void 0:p.message}]`),{appId:u,measurementId:f};throw p}try{const p=await aD(a);return o.deleteThrottleMetadata(u),p}catch(p){const y=p;if(!lD(y)){if(o.deleteThrottleMetadata(u),f)return nn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${y==null?void 0:y.message}]`),{appId:u,measurementId:f};throw p}const E=Number((m=y==null?void 0:y.customData)==null?void 0:m.httpStatus)===503?cv(i,o.intervalMillis,tD):cv(i,o.intervalMillis),T={throttleEndTimeMillis:Date.now()+E,backoffCount:i+1};return o.setThrottleMetadata(u,T),nn.debug(`Calling attemptFetch again in ${E} millis`),fE(a,T,s,o)}}function sD(a,e){return new Promise((i,s)=>{const o=Math.max(e-Date.now(),0),u=setTimeout(i,o);a.addEventListener(()=>{clearTimeout(u),s(xn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function lD(a){if(!(a instanceof Xa)||!a.customData)return!1;const e=Number(a.customData.httpStatus);return e===429||e===500||e===503||e===504}class oD{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function uD(a,e,i,s,o){if(o&&o.global){a("event",i,s);return}else{const u=await e,f={...s,send_to:u};a("event",i,f)}}async function cD(a,e,i,s){if(s&&s.global){const o={};for(const u of Object.keys(i))o[`user_properties.${u}`]=i[u];return a("set",o),Promise.resolve()}else{const o=await e;a("config",o,{update:!0,user_properties:i})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hD(){if(s1())try{await l1()}catch(a){return nn.warn(xn.create("indexeddb-unavailable",{errorInfo:a==null?void 0:a.toString()}).message),!1}else return nn.warn(xn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function fD(a,e,i,s,o,u,f){const m=rD(a);m.then(S=>{i[S.measurementId]=S.appId,a.options.measurementId&&S.measurementId!==a.options.measurementId&&nn.warn(`The measurement ID in the local Firebase config (${a.options.measurementId}) does not match the measurement ID fetched from the server (${S.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(S=>nn.error(S)),e.push(m);const p=hD().then(S=>{if(S)return s.getId()}),[y,E]=await Promise.all([m,p]);W4(u)||Y4(u,y.measurementId),o("js",new Date);const T=(f==null?void 0:f.config)??{};return T[B4]="firebase",T.update=!0,E!=null&&(T[P4]=E),o("config",y.measurementId,T),y.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dD{constructor(e){this.app=e}_delete(){return delete qs[this.app.options.appId],Promise.resolve()}}let qs={},E_=[];const x_={};let Bd="dataLayer",mD="gtag",T_,yg,A_=!1;function gD(){const a=[];if(_S()&&a.push("This is a browser extension environment."),ES()||a.push("Cookies are not available."),a.length>0){const e=a.map((s,o)=>`(${o+1}) ${s}`).join(" "),i=xn.create("invalid-analytics-context",{errorInfo:e});nn.warn(i.message)}}function pD(a,e,i){gD();const s=a.options.appId;if(!s)throw xn.create("no-app-id");if(!a.options.apiKey)if(a.options.measurementId)nn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${a.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw xn.create("no-api-key");if(qs[s]!=null)throw xn.create("already-exists",{id:s});if(!A_){K4(Bd);const{wrappedGtag:u,gtagCore:f}=J4(qs,E_,x_,Bd,mD);yg=u,T_=f,A_=!0}return qs[s]=fD(a,E_,x_,e,T_,Bd,i),new dD(a)}function yD(a=f1()){a=Un(a);const e=zo(a,Wc);return e.isInitialized()?e.getImmediate():vD(a)}function vD(a,e={}){const i=zo(a,Wc);if(i.isInitialized()){const o=i.getImmediate();if(So(e,i.getOptions()))return o;throw xn.create("already-initialized")}return i.initialize({options:e})}function _D(a,e,i){a=Un(a),cD(yg,qs[a.app.options.appId],e,i).catch(s=>nn.error(s))}function bD(a,e,i,s){a=Un(a),uD(yg,qs[a.app.options.appId],e,i,s).catch(o=>nn.error(o))}const S_="@firebase/analytics",w_="0.10.19";function ED(){qa(new Wi(Wc,(e,{options:i})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();return pD(s,o,i)},"PUBLIC")),qa(new Wi("analytics-internal",a,"PRIVATE")),Ai(S_,w_),Ai(S_,w_,"esm2020");function a(e){try{const i=e.getProvider(Wc).getImmediate();return{logEvent:(s,o,u)=>bD(i,s,o,u),setUserProperties:(s,o)=>_D(i,s,o)}}catch(i){throw xn.create("interop-component-reg-failed",{reason:i})}}}ED();const xD={apiKey:"AIzaSyBJc0xO9KSjCef0pw7-YrJ0w4pzk-PAsCA",authDomain:"evoclabs-41905.firebaseapp.com",projectId:"evoclabs-41905",storageBucket:"evoclabs-41905.firebasestorage.app",messagingSenderId:"230797425266",appId:"1:230797425266:web:7230b02573b4177e64e0eb",measurementId:"G-25T2MC064F"},dE=h1(xD);let TD;if(typeof window<"u")try{TD=yD(dE)}catch(a){console.warn("Analytics initialization failed:",a)}const Ti=zN(dE),Oo=["leads","forms","submissions","contacts","formSubmissions"],Dr=a=>a?typeof a=="string"||typeof a=="number"?new Date(a):a.seconds?new Date(a.seconds*1e3):new Date(a):new Date(0),AD=a=>Dr(a).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}),mE=a=>Dr(a).toLocaleString("en-IN",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"});async function SD(a,e){const i=a.collection?[a.collection,...Oo]:Oo;for(const s of i)try{await Hb(Xc(Ti,s,a.id),e);return}catch{continue}}async function wD(a){const e=a.collection?[a.collection,...Oo]:Oo;for(const i of e)try{await Fb(Xc(Ti,i,a.id));return}catch{continue}}function RD(a){const e=["Name","Email/Phone","Form Type","Status","Budget/Revenue","Category","Website","Submitted"],i=a.map(m=>[m.name,m.workEmail||m.email||m.phoneNumber||"",m.formType,m.status||"leads",m.budget||m.revenueRange||"",m.category||"",m.website||"",mE(m.createdAt||m.timestamp)]),s=[e,...i].map(m=>m.map(p=>`"${String(p).replace(/"/g,'""')}"`).join(",")).join(`
`),o=new Blob([s],{type:"text/csv"}),u=URL.createObjectURL(o),f=document.createElement("a");f.href=u,f.download=`leads-${new Date().toISOString().slice(0,10)}.csv`,f.click(),URL.revokeObjectURL(u)}const pm={leads:{label:"New Lead",cls:"bg-gray-100 text-gray-600 border-gray-200"},contacted:{label:"Contacted",cls:"bg-blue-50 text-blue-600 border-blue-200"},won:{label:"Won",cls:"bg-green-50 text-green-600 border-green-200"},lost:{label:"Lost",cls:"bg-red-50 text-red-500 border-red-200"}};function CD({status:a}){const e=pm[a]??pm.leads;return _.jsx("span",{className:de("inline-flex items-center px-2.5 py-1 rounded-lg text-xs font-semibold border",e.cls),children:e.label})}function ND({lead:a,onClose:e,onStatusChange:i,onDelete:s}){const[o,u]=U.useState(!1),f=Object.entries(pm);return U.useEffect(()=>{const m=p=>p.key==="Escape"&&e();return document.addEventListener("keydown",m),()=>document.removeEventListener("keydown",m)},[e]),_.jsxs(_.Fragment,{children:[_.jsx("div",{className:"fixed inset-0 bg-black/40 backdrop-blur-sm z-50",onClick:e}),_.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 pointer-events-none",children:_.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-100 max-w-xl w-full max-h-[90vh] overflow-y-auto pointer-events-auto",onClick:m=>m.stopPropagation(),children:[_.jsxs("div",{className:"flex items-start justify-between px-6 py-5 border-b border-gray-100",children:[_.jsxs("div",{children:[_.jsx("h2",{className:"text-lg font-bold text-gray-900",children:a.name}),_.jsxs("div",{className:"flex flex-col gap-1 mt-1",children:[(a.workEmail||a.email)&&_.jsxs("a",{href:`mailto:${a.workEmail||a.email}`,className:"text-sm text-orange-500 hover:underline flex items-center gap-1.5",children:[_.jsx(Lo,{size:13}),a.workEmail||a.email]}),a.phoneNumber&&_.jsxs("p",{className:"text-sm text-gray-500 flex items-center gap-1.5",children:[_.jsx("span",{className:"text-xs font-bold text-gray-400",children:"+91"}),a.phoneNumber]})]})]}),_.jsxs("div",{className:"flex items-center gap-1.5 shrink-0",children:[o?_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("span",{className:"text-xs text-gray-500",children:"Confirm delete?"}),_.jsx("button",{onClick:()=>{s(a),e()},className:"px-3 py-1.5 bg-red-500 text-white rounded-lg text-xs font-semibold hover:bg-red-600 transition-colors",children:"Delete"}),_.jsx("button",{onClick:()=>u(!1),className:"px-3 py-1.5 bg-gray-100 text-gray-600 rounded-lg text-xs font-semibold hover:bg-gray-200 transition-colors",children:"Cancel"})]}):_.jsx("button",{onClick:()=>u(!0),className:"p-2 hover:bg-red-50 text-red-400 hover:text-red-600 rounded-lg transition-colors",title:"Delete lead",children:_.jsx(n1,{size:16})}),_.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:_.jsx(zr,{size:16,className:"text-gray-400"})})]})]}),_.jsxs("div",{className:"px-6 py-5 space-y-5",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-xs font-semibold text-gray-400 uppercase tracking-widest mb-2",children:"Update Status"}),_.jsx("div",{className:"flex flex-wrap gap-2",children:f.map(([m,p])=>_.jsxs("button",{onClick:()=>{i(a,m),e()},className:de("px-3 py-1.5 rounded-lg text-xs font-semibold border transition-colors",(a.status||"leads")===m?p.cls:"bg-white text-gray-400 border-gray-200 hover:bg-gray-50 hover:text-gray-700"),children:[p.label,(a.status||"leads")===m&&" "]},m))})]}),_.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-xs font-semibold text-gray-400 uppercase tracking-widest mb-1.5",children:"Form Type"}),_.jsx("span",{className:de("inline-flex items-center px-2.5 py-1 rounded-lg text-xs font-semibold border",a.formType==="book-demo"?"bg-orange-50 text-orange-600 border-orange-200":"bg-blue-50 text-blue-600 border-blue-200"),children:a.formType==="book-demo"?"Book Demo":"Contact Us"})]}),(a.budget||a.revenueRange)&&_.jsxs("div",{children:[_.jsx("label",{className:"block text-xs font-semibold text-gray-400 uppercase tracking-widest mb-1.5",children:"Budget / Revenue"}),_.jsx("p",{className:"text-sm font-semibold text-gray-800",children:a.budget||a.revenueRange})]})]}),a.category&&_.jsxs("div",{children:[_.jsx("label",{className:"block text-xs font-semibold text-gray-400 uppercase tracking-widest mb-1.5",children:"Category"}),_.jsx("span",{className:"inline-flex items-center px-2.5 py-1 rounded-lg text-xs font-semibold bg-orange-50 text-orange-600 border border-orange-200",children:a.category})]}),a.website&&_.jsxs("div",{children:[_.jsx("label",{className:"block text-xs font-semibold text-gray-400 uppercase tracking-widest mb-1.5",children:"Website"}),_.jsxs("a",{href:a.website.startsWith("http")?a.website:`https://${a.website}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1.5 text-sm text-orange-500 hover:underline",children:[_.jsx(Sm,{size:13}),a.website]})]}),a.goals&&_.jsxs("div",{children:[_.jsxs("label",{className:"block text-xs font-semibold text-gray-400 uppercase tracking-widest mb-1.5",children:[_.jsx(QA,{size:11,className:"inline mr-1"}),"Goals"]}),_.jsx("p",{className:"text-sm text-gray-700 leading-relaxed",children:a.goals})]}),a.message&&_.jsxs("div",{children:[_.jsxs("label",{className:"block text-xs font-semibold text-gray-400 uppercase tracking-widest mb-1.5",children:[_.jsx(OA,{size:11,className:"inline mr-1"}),"Message"]}),_.jsx("p",{className:"text-sm text-gray-700 leading-relaxed",children:a.message})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-xs font-semibold text-gray-400 uppercase tracking-widest mb-1.5",children:"Submitted"}),_.jsxs("p",{className:"text-sm text-gray-600 flex items-center gap-1.5",children:[_.jsx(tl,{size:13}),mE(a.createdAt||a.timestamp)]})]})]})]})})]})}const DD=()=>{const[a,e]=U.useState([]),[i,s]=U.useState(!0),[o,u]=U.useState(!1),[f,m]=U.useState(null),[p,y]=U.useState("all"),[E,T]=U.useState("all"),[S,L]=U.useState(""),[K,$]=U.useState(""),[H,st]=U.useState("desc"),[rt,it]=U.useState(null),[mt,bt]=U.useState(1),_t=10,N=async(et=!1)=>{et?u(!0):s(!0),m(null);try{let M=[];for(const G of Oo)try{let at;try{at=await Zs(lg(Xs(Ti,G),hg("createdAt","desc")))}catch{at=await Zs(Xs(Ti,G))}if(at.forEach(ut=>{M.push({id:ut.id,...ut.data(),collection:G})}),M.length>0)break}catch{continue}M.length===0?m("No leads found. Make sure your Firestore collection is set up correctly."):(M.sort((G,at)=>Dr(at.createdAt||at.timestamp).getTime()-Dr(G.createdAt||G.timestamp).getTime()),e(M))}catch(M){m(`Failed to load leads: ${M.message}`)}finally{s(!1),u(!1)}};U.useEffect(()=>{N()},[]);const w=kc.useMemo(()=>{let et=a;if(p!=="all"&&(et=et.filter(M=>M.formType===p)),E!=="all"&&(et=et.filter(M=>(M.status||"leads")===E)),S&&K){const M=new Date(S).getTime(),G=new Date(K).getTime()+864e5;et=et.filter(at=>{const ut=Dr(at.createdAt||at.timestamp).getTime();return ut>=M&&ut<=G})}return et=[...et].sort((M,G)=>{const at=Dr(M.createdAt||M.timestamp).getTime(),ut=Dr(G.createdAt||G.timestamp).getTime();return H==="desc"?ut-at:at-ut}),et},[a,p,E,S,K,H]);U.useEffect(()=>bt(1),[p,E,S,K,H]);const C=kc.useMemo(()=>({total:a.length,new:a.filter(et=>!et.status||et.status==="leads").length,contacted:a.filter(et=>et.status==="contacted").length,won:a.filter(et=>et.status==="won").length,lost:a.filter(et=>et.status==="lost").length}),[a]),O=async(et,M)=>{e(G=>G.map(at=>at.id===et.id?{...at,status:M}:at)),await SD(et,{status:M})},V=async et=>{e(M=>M.filter(G=>G.id!==et.id)),await wD(et)},D=Math.max(1,Math.ceil(w.length/_t)),R=w.slice((mt-1)*_t,mt*_t),gt=et=>bt(Math.max(1,Math.min(D,et)));return i?_.jsx("div",{className:"flex h-screen items-center justify-center bg-gray-50",children:_.jsxs("div",{className:"flex flex-col items-center gap-3",children:[_.jsx(wm,{className:"h-7 w-7 animate-spin text-orange-500"}),_.jsx("p",{className:"text-sm text-gray-500",children:"Loading leads"})]})}):_.jsxs(_.Fragment,{children:[_.jsxs("div",{className:"flex flex-col min-h-screen bg-gray-50",children:[_.jsxs("div",{className:"bg-white border-b border-gray-100 px-6 py-5 flex items-center justify-between gap-4",children:[_.jsxs("div",{children:[_.jsx("h1",{className:"text-2xl font-bold text-gray-900 tracking-tight",children:"Leads"}),_.jsx("p",{className:"text-sm text-gray-500 mt-0.5",children:"Manage form submissions from your website"})]}),_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsxs("button",{onClick:()=>N(!0),disabled:o,className:"flex items-center gap-2 px-3 py-2 rounded-lg border border-gray-200 text-sm text-gray-600 hover:bg-gray-50 hover:border-gray-300 transition-colors disabled:opacity-50",children:[_.jsx(t1,{size:14,className:o?"animate-spin":""}),_.jsx("span",{className:"hidden sm:inline",children:"Refresh"})]}),_.jsxs("button",{onClick:()=>RD(w),disabled:w.length===0,className:"flex items-center gap-2 px-3 py-2 rounded-lg bg-gray-900 text-white text-sm font-semibold hover:bg-gray-800 transition-colors disabled:opacity-40",children:[_.jsx(W_,{size:14}),_.jsx("span",{className:"hidden sm:inline",children:"Export CSV"})]})]})]}),_.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-5 gap-3 px-6 py-5",children:[{label:"Total Leads",value:C.total,icon:vo,color:"text-gray-600",bg:"bg-gray-100"},{label:"New",value:C.new,icon:vo,color:"text-blue-600",bg:"bg-blue-50"},{label:"Contacted",value:C.contacted,icon:Lo,color:"text-purple-600",bg:"bg-purple-50"},{label:"Won",value:C.won,icon:uA,color:"text-green-600",bg:"bg-green-50"},{label:"Lost",value:C.lost,icon:Z_,color:"text-red-500",bg:"bg-red-50"}].map(({label:et,value:M,icon:G,color:at,bg:ut})=>_.jsxs("div",{className:"bg-white rounded-xl border border-gray-100 px-5 py-4 shadow-sm",children:[_.jsxs("div",{className:"flex items-center justify-between",children:[_.jsx("p",{className:"text-sm text-gray-500 font-medium",children:et}),_.jsx("div",{className:de("p-2 rounded-lg",ut),children:_.jsx(G,{size:15,className:at})})]}),_.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-2",children:M})]},et))}),_.jsxs("div",{className:"px-6 pb-4 flex flex-wrap items-center gap-3",children:[_.jsxs("div",{className:"flex items-center gap-1.5 bg-white border border-gray-200 rounded-lg px-3 py-1.5",children:[_.jsx(Qd,{size:13,className:"text-gray-400 shrink-0"}),_.jsxs("select",{value:p,onChange:et=>y(et.target.value),className:"bg-transparent text-sm text-gray-700 border-none outline-none cursor-pointer pr-4",children:[_.jsx("option",{value:"all",children:"All Types"}),_.jsx("option",{value:"book-demo",children:"Book Demo"}),_.jsx("option",{value:"contact",children:"Contact Us"})]})]}),_.jsxs("div",{className:"flex items-center gap-1.5 bg-white border border-gray-200 rounded-lg px-3 py-1.5",children:[_.jsx(Qd,{size:13,className:"text-gray-400 shrink-0"}),_.jsxs("select",{value:E,onChange:et=>T(et.target.value),className:"bg-transparent text-sm text-gray-700 border-none outline-none cursor-pointer pr-4",children:[_.jsx("option",{value:"all",children:"All Statuses"}),_.jsx("option",{value:"leads",children:"New Lead"}),_.jsx("option",{value:"contacted",children:"Contacted"}),_.jsx("option",{value:"won",children:"Won"}),_.jsx("option",{value:"lost",children:"Lost"})]})]}),_.jsxs("div",{className:"flex items-center gap-1.5 bg-white border border-gray-200 rounded-lg px-3 py-1.5",children:[_.jsx(tl,{size:13,className:"text-gray-400 shrink-0"}),_.jsx("input",{type:"date",value:S,onChange:et=>L(et.target.value),className:"bg-transparent text-sm text-gray-700 border-none outline-none [color-scheme:light] cursor-pointer"}),_.jsx("span",{className:"text-gray-300",children:""}),_.jsx("input",{type:"date",value:K,onChange:et=>$(et.target.value),className:"bg-transparent text-sm text-gray-700 border-none outline-none [color-scheme:light] cursor-pointer"}),(S||K)&&_.jsx("button",{onClick:()=>{L(""),$("")},className:"text-gray-400 hover:text-gray-600 transition-colors ml-1",children:_.jsx(zr,{size:13})})]}),_.jsxs("button",{onClick:()=>st(et=>et==="desc"?"asc":"desc"),className:"flex items-center gap-1.5 bg-white border border-gray-200 rounded-lg px-3 py-1.5 text-sm text-gray-600 hover:bg-gray-50 transition-colors",children:[_.jsx(q2,{size:13}),"Date ",H==="desc"?"":""]}),(p!=="all"||E!=="all"||S||K)&&_.jsx("button",{onClick:()=>{y("all"),T("all"),L(""),$("")},className:"text-xs text-orange-500 hover:text-orange-600 underline-offset-2 hover:underline transition-colors",children:"Clear all filters"}),_.jsx("div",{className:"flex-1"}),_.jsxs("p",{className:"text-xs text-gray-400",children:[w.length," of ",a.length," leads"]})]}),f&&_.jsx("div",{className:"mx-6 mb-4 bg-red-50 border border-red-200 rounded-xl p-4 text-sm text-red-600",children:f}),_.jsx("div",{className:"px-6 pb-6",children:_.jsxs("div",{className:"bg-white rounded-xl border border-gray-100 shadow-sm overflow-hidden",children:[_.jsx("div",{className:"overflow-x-auto",children:_.jsxs("table",{className:"w-full text-sm",children:[_.jsx("thead",{children:_.jsxs("tr",{className:"border-b border-gray-100",children:[_.jsx("th",{className:"px-5 py-3.5 text-left text-xs font-semibold text-gray-400 uppercase tracking-wider",children:"Lead"}),_.jsx("th",{className:"px-5 py-3.5 text-left text-xs font-semibold text-gray-400 uppercase tracking-wider",children:"Contact"}),_.jsx("th",{className:"px-5 py-3.5 text-left text-xs font-semibold text-gray-400 uppercase tracking-wider",children:"Type"}),_.jsx("th",{className:"px-5 py-3.5 text-left text-xs font-semibold text-gray-400 uppercase tracking-wider",children:"Budget / Revenue"}),_.jsx("th",{className:"px-5 py-3.5 text-left text-xs font-semibold text-gray-400 uppercase tracking-wider",children:"Status"}),_.jsx("th",{className:"px-5 py-3.5 text-left text-xs font-semibold text-gray-400 uppercase tracking-wider",children:"Submitted"})]})}),_.jsx("tbody",{className:"divide-y divide-gray-50",children:R.length===0?_.jsx("tr",{children:_.jsx("td",{colSpan:6,className:"px-5 py-16 text-center",children:_.jsxs("div",{className:"flex flex-col items-center gap-3 text-gray-400",children:[_.jsx(vo,{size:36,className:"text-gray-200"}),_.jsx("p",{className:"text-sm font-medium",children:"No leads found"}),_.jsx("p",{className:"text-xs",children:"Try adjusting your filters"})]})})}):R.map(et=>_.jsxs("tr",{className:"hover:bg-gray-50/70 transition-colors cursor-pointer group",onClick:()=>it(et),children:[_.jsxs("td",{className:"px-5 py-4",children:[_.jsx("p",{className:"font-semibold text-gray-800",children:et.name}),et.category&&_.jsx("span",{className:"mt-0.5 inline-flex items-center px-2 py-0.5 rounded-md text-[11px] font-medium bg-orange-50 text-orange-600",children:et.category})]}),_.jsxs("td",{className:"px-5 py-4",children:[(et.workEmail||et.email)&&_.jsx("p",{className:"text-gray-500 text-xs truncate max-w-[200px]",children:et.workEmail||et.email}),et.phoneNumber&&_.jsxs("p",{className:"text-gray-400 text-xs",children:["+91 ",et.phoneNumber]}),et.website&&_.jsxs("a",{href:et.website.startsWith("http")?et.website:`https://${et.website}`,target:"_blank",rel:"noopener noreferrer",className:"text-orange-500 hover:text-orange-600 text-xs flex items-center gap-0.5 mt-0.5 w-fit",onClick:M=>M.stopPropagation(),children:[_.jsx(Sm,{size:11}),et.website.replace(/^https?:\/\//,"").substring(0,28)]})]}),_.jsx("td",{className:"px-5 py-4",children:_.jsx("span",{className:de("inline-flex items-center px-2.5 py-1 rounded-lg text-xs font-semibold border",et.formType==="book-demo"?"bg-orange-50 text-orange-600 border-orange-200":"bg-blue-50 text-blue-600 border-blue-200"),children:et.formType==="book-demo"?"Book Demo":"Contact"})}),_.jsx("td",{className:"px-5 py-4",children:et.budget||et.revenueRange?_.jsxs("div",{className:"flex items-center gap-1 text-gray-800 font-medium text-sm",children:[_.jsx(J_,{size:13,className:"text-gray-400"}),et.budget||et.revenueRange]}):_.jsx("span",{className:"text-gray-300 text-sm",children:""})}),_.jsx("td",{className:"px-5 py-4",children:_.jsx(CD,{status:et.status||"leads"})}),_.jsx("td",{className:"px-5 py-4 text-gray-400 text-xs whitespace-nowrap",children:AD(et.createdAt||et.timestamp)})]},et.id))})]})}),D>1&&_.jsxs("div",{className:"flex items-center justify-between px-5 py-3 border-t border-gray-100",children:[_.jsxs("p",{className:"text-xs text-gray-400",children:["Page ",mt," of ",D," "," ",w.length," results"]}),_.jsxs("div",{className:"flex items-center gap-1",children:[_.jsx("button",{onClick:()=>gt(1),disabled:mt===1,className:"p-1.5 rounded-lg text-gray-400 hover:bg-gray-100 disabled:opacity-30 transition-colors",children:_.jsx(nA,{size:15})}),_.jsx("button",{onClick:()=>gt(mt-1),disabled:mt===1,className:"p-1.5 rounded-lg text-gray-400 hover:bg-gray-100 disabled:opacity-30 transition-colors",children:_.jsx(X2,{size:15})}),Array.from({length:Math.min(5,D)},(et,M)=>{let G=M+1;return D>5&&mt>3&&(G=mt-2+M),G>D?null:_.jsx("button",{onClick:()=>gt(G),className:de("w-8 h-8 rounded-lg text-xs font-medium transition-colors",mt===G?"bg-orange-500 text-white":"text-gray-500 hover:bg-gray-100"),children:G},G)}),_.jsx("button",{onClick:()=>gt(mt+1),disabled:mt===D,className:"p-1.5 rounded-lg text-gray-400 hover:bg-gray-100 disabled:opacity-30 transition-colors",children:_.jsx(J2,{size:15})}),_.jsx("button",{onClick:()=>gt(D),disabled:mt===D,className:"p-1.5 rounded-lg text-gray-400 hover:bg-gray-100 disabled:opacity-30 transition-colors",children:_.jsx(aA,{size:15})})]})]})]})})]}),rt&&_.jsx(ND,{lead:rt,onClose:()=>it(null),onStatusChange:O,onDelete:V})]})},gE=a=>a?typeof a=="string"||typeof a=="number"?new Date(a):a.seconds?new Date(a.seconds*1e3):new Date(a):new Date(0),ID=a=>gE(a).toLocaleDateString(),VD=a=>gE(a).toLocaleString(),MD=a=>{switch(a){case"leads":return"bg-slate-100 text-slate-700 border-slate-300";case"contacted":return"bg-blue-100 text-blue-700 border-blue-300";case"won":return"bg-green-100 text-green-700 border-green-300";case"lost":return"bg-red-100 text-red-700 border-red-300";default:return"bg-slate-100 text-slate-700 border-slate-300"}};function OD({lead:a,onClick:e,hasNotes:i,onDragStart:s,onDragEnd:o,isDragging:u}){return _.jsxs("div",{draggable:!0,onDragStart:s,onDragEnd:o,onClick:e,className:de("bg-white border border-gray-100 rounded-xl p-3.5 cursor-grab active:cursor-grabbing transition-all shadow-sm hover:shadow-md relative group",u&&"opacity-50 rotate-2 scale-95"),children:[_.jsx("div",{className:"absolute top-2.5 right-2.5 opacity-0 group-hover:opacity-100 transition-opacity",children:_.jsx(vA,{size:13,className:"text-gray-300"})}),_.jsxs("div",{className:"space-y-2",children:[_.jsx("h4",{className:"font-semibold text-gray-800 text-sm leading-tight pr-4 line-clamp-1",children:a.name}),(a.workEmail||a.email)&&_.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-gray-400",children:[_.jsx(Lo,{size:11}),_.jsx("span",{className:"truncate",children:a.workEmail||a.email})]}),a.phoneNumber&&_.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-gray-400",children:[_.jsx("span",{className:"text-[10px] font-bold",children:"+91"}),_.jsx("span",{children:a.phoneNumber})]}),a.category&&_.jsx("span",{className:"inline-flex text-[10px] font-semibold text-orange-600 bg-orange-50 px-2 py-0.5 rounded-md border border-orange-100",children:a.category}),(a.budget||a.revenueRange)&&_.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-700 font-medium",children:[_.jsx(J_,{size:11,className:"text-gray-400"}),a.budget||a.revenueRange]}),_.jsxs("div",{className:"flex items-center gap-1 text-[11px] text-gray-400 pt-1.5 mt-1 border-t border-gray-50",children:[_.jsx(tl,{size:10}),_.jsx("span",{children:ID(a.createdAt||a.timestamp)})]})]})]})}function jD({id:a,title:e,leads:i,onCardClick:s,onDrop:o,onDragOver:u,draggedLeadId:f}){const[m,p]=U.useState(!1),y=L=>{L.preventDefault(),L.stopPropagation(),p(!0),u(L)},E=L=>{L.preventDefault(),L.stopPropagation(),p(!1)},T=L=>{L.preventDefault(),L.stopPropagation(),p(!1),o(L,a)},S={leads:"bg-gray-400",contacted:"bg-blue-400",won:"bg-green-400",lost:"bg-red-400"};return _.jsxs("div",{className:de("flex flex-col min-w-[280px] w-[280px] rounded-xl bg-gray-50 border border-gray-100 overflow-hidden transition-colors",m&&"bg-blue-50 border-blue-200"),onDragOver:y,onDragLeave:E,onDrop:T,children:[_.jsxs("div",{className:"flex items-center justify-between gap-2 px-4 py-3 bg-white border-b border-gray-100",children:[_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("span",{className:de("w-2 h-2 rounded-full",S[a])}),_.jsx("h3",{className:"text-sm font-semibold text-gray-800",children:e})]}),_.jsx("span",{className:"text-xs font-semibold bg-gray-100 text-gray-500 px-2 py-0.5 rounded-full",children:i.length})]}),_.jsx("div",{className:"flex-1 p-3 space-y-2.5 overflow-y-auto",children:i.length>0?i.map(L=>_.jsx("div",{children:_.jsx(OD,{lead:L,onClick:()=>s(L),onDragStart:K=>{K.dataTransfer.effectAllowed="move",K.dataTransfer.setData("text/plain",L.id)},onDragEnd:()=>{},isDragging:f===L.id})},L.id)):_.jsx("div",{className:de("flex items-center justify-center h-24 text-xs text-gray-400 border border-dashed border-gray-200 rounded-xl transition-colors",m&&"border-blue-300 bg-blue-50 text-blue-400"),children:m?"Drop here":"No leads"})})]})}function kD({lead:a,isOpen:e,onClose:i,onStatusChange:s,onDelete:o}){const[u,f]=U.useState(!1);if(!a||!e)return null;const m=[{value:"leads",label:"Leads"},{value:"contacted",label:"Contacted"},{value:"won",label:"Won"},{value:"lost",label:"Lost"}];return _.jsxs(_.Fragment,{children:[_.jsx("div",{className:"fixed inset-0 bg-black/40 backdrop-blur-sm z-50",onClick:i}),_.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:_.jsx("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-100 max-w-2xl w-full max-h-[90vh] overflow-y-auto",onClick:p=>p.stopPropagation(),children:_.jsxs("div",{className:"p-6 space-y-6",children:[_.jsxs("div",{className:"flex items-start justify-between",children:[_.jsxs("div",{children:[_.jsx("h2",{className:"text-lg font-bold text-gray-900",children:a.name}),_.jsxs("div",{className:"flex flex-col gap-1 mt-1",children:[(a.workEmail||a.email)&&_.jsxs("p",{className:"text-sm text-gray-500 flex items-center gap-2",children:[_.jsx(Lo,{size:13})," ",a.workEmail||a.email]}),a.phoneNumber&&_.jsxs("p",{className:"text-sm text-gray-500 flex items-center gap-2",children:[_.jsx("span",{className:"text-xs font-bold",children:"+91"})," ",a.phoneNumber]})]})]}),_.jsxs("div",{className:"flex items-center gap-2",children:[u?_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("span",{className:"text-xs text-[hsl(var(--muted-foreground))]",children:"Delete?"}),_.jsx("button",{onClick:()=>{o(a.id),i()},className:"px-3 py-1.5 bg-[hsl(var(--destructive))] text-[hsl(var(--destructive-foreground))] rounded-md text-sm font-medium hover:opacity-90 transition-opacity",children:"Confirm"}),_.jsx("button",{onClick:()=>f(!1),className:"px-3 py-1.5 bg-[hsl(var(--muted))] text-[hsl(var(--muted-foreground))] rounded-md text-sm font-medium hover:bg-[hsl(var(--accent))] transition-colors",children:"Cancel"})]}):_.jsx("button",{onClick:()=>f(!0),className:"p-2 hover:bg-[hsl(var(--destructive))]/10 text-[hsl(var(--destructive))] rounded-lg transition-colors",title:"Delete lead",children:_.jsx(n1,{size:20})}),_.jsx("button",{onClick:i,className:"p-2 hover:bg-[hsl(var(--accent))] rounded-lg transition-colors",children:_.jsx(zr,{size:20,className:"text-[hsl(var(--muted-foreground))]"})})]})]}),_.jsxs("div",{className:"space-y-4",children:[_.jsxs("div",{children:[_.jsx("label",{className:"text-xs font-medium text-[hsl(var(--muted-foreground))] uppercase tracking-wide mb-2 block",children:"Status"}),_.jsx("div",{className:"flex gap-2 flex-wrap",children:m.map(p=>_.jsx("button",{onClick:()=>{s(a.id,p.value),i()},className:de("px-3 py-1.5 rounded-md text-sm font-medium transition-colors border",a.status===p.value?MD(p.value):"bg-white text-[hsl(var(--muted-foreground))] border-[hsl(var(--border))] hover:bg-[hsl(var(--accent))]"),children:p.label},p.value))})]}),_.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[_.jsxs("div",{children:[_.jsx("label",{className:"text-xs font-medium text-[hsl(var(--muted-foreground))] uppercase tracking-wide mb-1 block",children:"Budget / Revenue / Category"}),_.jsxs("div",{className:"flex flex-col gap-2",children:[a.budget&&_.jsxs("p",{className:"text-sm text-[hsl(var(--foreground))] font-medium",children:["Budget: ",a.budget]}),a.revenueRange&&_.jsxs("p",{className:"text-sm text-[hsl(var(--foreground))] font-medium",children:["Revenue: ",a.revenueRange]}),a.category&&_.jsxs("p",{className:"text-sm text-[hsl(var(--foreground))]",children:["Category:"," ",_.jsx("span",{className:"text-xs font-medium bg-[hsl(var(--primary))]/10 text-[hsl(var(--primary))] px-2 py-0.5 rounded-full",children:a.category})]}),!a.budget&&!a.revenueRange&&!a.category&&_.jsx("p",{className:"text-sm text-[hsl(var(--muted-foreground))]",children:"N/A"})]})]}),_.jsxs("div",{children:[_.jsx("label",{className:"text-xs font-medium text-[hsl(var(--muted-foreground))] uppercase tracking-wide mb-1 block",children:"Form Type"}),_.jsx("span",{className:de("inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border",a.formType==="book-demo"?"bg-white text-orange-600 border-orange-400":"bg-white text-orange-700 border-orange-500"),children:a.formType==="book-demo"?"Book Demo":"Contact"})]})]}),a.website&&_.jsxs("div",{children:[_.jsx("label",{className:"text-xs font-medium text-[hsl(var(--muted-foreground))] uppercase tracking-wide mb-1 block",children:"Website"}),_.jsxs("a",{href:a.website,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1.5 text-[hsl(var(--primary))] hover:opacity-80 text-sm",children:[_.jsx(Sm,{size:14}),_.jsx("span",{className:"truncate",children:a.website})]})]}),a.goals&&_.jsxs("div",{children:[_.jsx("label",{className:"text-xs font-medium text-[hsl(var(--muted-foreground))] uppercase tracking-wide mb-1 block",children:"Goals"}),_.jsx("p",{className:"text-sm text-[hsl(var(--foreground))]",children:a.goals})]}),a.message&&_.jsxs("div",{children:[_.jsx("label",{className:"text-xs font-medium text-[hsl(var(--muted-foreground))] uppercase tracking-wide mb-1 block",children:"Message"}),_.jsx("p",{className:"text-sm text-[hsl(var(--foreground))]",children:a.message})]}),_.jsxs("div",{children:[_.jsx("label",{className:"text-xs font-medium text-[hsl(var(--muted-foreground))] uppercase tracking-wide mb-1 block",children:"Submitted"}),_.jsxs("div",{className:"flex items-center gap-1.5 text-sm text-[hsl(var(--muted-foreground))]",children:[_.jsx(tl,{size:14}),_.jsx("span",{children:VD(a.createdAt||a.timestamp)})]})]})]})]})})})]})}const LD=()=>{const[a,e]=U.useState([]),[i,s]=U.useState(!0),[o,u]=U.useState(null),[f,m]=U.useState(null),[p,y]=U.useState(null),[E,T]=U.useState("all"),[S,L]=U.useState({start:"",end:""}),K=a.filter(D=>{if(E!=="all"&&D.formType!==E)return!1;if(S.start&&S.end){const R=new Date(S.start).getTime(),gt=new Date(S.end).getTime()+864e5,et=D.createdAt||D.timestamp;if(!et)return!1;const M=typeof et=="string"?new Date(et).getTime():et.seconds?et.seconds*1e3:0;if(M<R||M>gt)return!1}return!0}),$=U.useRef(null),[H,st]=U.useState(!1),rt=U.useRef({x:0,left:0});U.useEffect(()=>{(async()=>{try{const R=["leads","forms","submissions","contacts","formSubmissions"];let gt=[],et=null;for(const M of R)try{let G;try{const at=lg(Xs(Ti,M),hg("createdAt","desc"));G=await Zs(at)}catch{G=await Zs(Xs(Ti,M))}if(G.forEach(at=>{const ut=at.data();gt.push({id:at.id,...ut,status:ut.status||"leads",collection:M})}),gt.length>0)break}catch(G){et=G;continue}gt.length===0&&et?u(`No leads found. Error: ${et.message}`):e(gt)}catch(R){console.error("Error fetching leads:",R),u(`Failed to load leads: ${R.message}`)}finally{s(!1)}})()},[]);const it=async(D,R)=>{try{e(at=>at.map(ut=>ut.id===D?{...ut,status:R}:ut));const gt=["leads","forms","submissions","contacts","formSubmissions"],et=a.find(at=>at.id===D),M=et!=null&&et.collection?[et.collection,...gt]:gt;let G=!1;for(const at of M)try{const ut=Xc(Ti,at,D);await Hb(ut,{status:R}),G=!0,console.log(`Updated status for ${D} in ${at} to ${R}`);break}catch{continue}G||console.warn("Could not find document to update status in any known collection")}catch(gt){console.error("Error updating status:",gt)}},mt=async D=>{try{e(G=>G.filter(at=>at.id!==D));const R=["leads","forms","submissions","contacts","formSubmissions"],gt=a.find(G=>G.id===D),et=gt!=null&&gt.collection?[gt.collection,...R]:R;let M=!1;for(const G of et)try{const at=Xc(Ti,G,D);await Fb(at),M=!0,console.log(`Deleted document ${D} from ${G}`);break}catch(at){console.log(`Failed to delete from ${G}:`,at);continue}M||console.warn("Could not find document to delete in any known collection")}catch(R){console.error("Error deleting lead:",R)}},bt=async(D,R)=>{D.preventDefault();const gt=D.dataTransfer.getData("text/plain");gt&&await it(gt,R),y(null)},_t=D=>{D.preventDefault(),D.dataTransfer.dropEffect="move"},N=()=>{const D=[{id:"leads",title:"Leads",leads:[]},{id:"contacted",title:"Contacted",leads:[]},{id:"won",title:"Won",leads:[]},{id:"lost",title:"Lost",leads:[]}];return K.forEach(R=>{const gt=R.status||"leads",et=D.find(M=>M.id===gt);et&&et.leads.push(R)}),D},w=D=>{(D.button===2||D.button===1)&&$.current&&(D.preventDefault(),D.stopPropagation(),st(!0),rt.current={x:D.pageX,left:$.current.scrollLeft},document.body.style.userSelect="none",document.body.style.cursor="grabbing")},C=U.useCallback(D=>{if(!H||!$.current)return;D.preventDefault();const gt=(D.pageX-rt.current.x)*1.5;$.current.scrollLeft=rt.current.left-gt},[H]),O=U.useCallback(()=>{st(!1),document.body.style.userSelect="",document.body.style.cursor=""},[]);if(U.useEffect(()=>(H?(window.addEventListener("mousemove",C),window.addEventListener("mouseup",O)):(window.removeEventListener("mousemove",C),window.removeEventListener("mouseup",O)),()=>{window.removeEventListener("mousemove",C),window.removeEventListener("mouseup",O)}),[H,C,O]),i)return _.jsx("div",{className:"flex h-screen items-center justify-center bg-gray-50",children:_.jsxs("div",{className:"flex flex-col items-center gap-3",children:[_.jsx(wm,{className:"h-7 w-7 animate-spin text-orange-500"}),_.jsx("p",{className:"text-sm text-gray-500",children:"Loading pipeline"})]})});const V=N();return _.jsxs("div",{className:"relative h-full flex flex-col bg-[hsl(var(--background))]",children:[_.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 p-6 pb-0 bg-[hsl(var(--background))]",children:[_.jsxs("div",{children:[_.jsx("h1",{className:"text-2xl sm:text-3xl font-bold tracking-tight text-[hsl(var(--foreground))]",children:"Leads"}),_.jsx("h1",{className:"text-2xl font-bold text-gray-900 tracking-tight",children:"Pipeline"}),_.jsx("p",{className:"text-sm text-gray-500 mt-0.5",children:"Drag and drop leads between stages"})]}),_.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[_.jsxs("div",{className:"flex items-center gap-1.5 bg-white border border-gray-200 rounded-lg px-3 py-1.5",children:[_.jsx(Qd,{size:13,className:"text-gray-400"}),_.jsxs("select",{className:"bg-transparent text-sm text-gray-700 border-none outline-none cursor-pointer pr-4",value:E,onChange:D=>T(D.target.value),children:[_.jsx("option",{value:"all",children:"All Types"}),_.jsx("option",{value:"book-demo",children:"Book Demo"}),_.jsx("option",{value:"contact",children:"Contact Us"})]})]}),_.jsxs("div",{className:"flex items-center gap-1.5 bg-white border border-gray-200 rounded-lg px-3 py-1.5",children:[_.jsx(tl,{size:13,className:"text-gray-400"}),_.jsx("input",{type:"date",className:"bg-transparent text-sm text-gray-700 border-none outline-none [color-scheme:light] cursor-pointer",value:S.start,onChange:D=>L(R=>({...R,start:D.target.value}))}),_.jsx("span",{className:"text-gray-300",children:""}),_.jsx("input",{type:"date",className:"bg-transparent text-sm text-gray-700 border-none outline-none [color-scheme:light] cursor-pointer",value:S.end,onChange:D=>L(R=>({...R,end:D.target.value}))}),(S.start||S.end)&&_.jsx("button",{onClick:()=>L({start:"",end:""}),className:"text-gray-400 hover:text-gray-600 ml-1 transition-colors",children:_.jsx(zr,{size:13})})]})]})]}),o&&_.jsx("div",{className:"bg-amber-50 border-b border-amber-200 px-5 py-3 shrink-0",children:_.jsxs("div",{className:"flex items-center gap-2 text-sm text-amber-700",children:[_.jsx(X_,{className:"h-4 w-4 shrink-0"}),_.jsx("span",{children:o})]})}),_.jsx("div",{ref:$,className:de("flex gap-4 flex-1 overflow-x-auto p-6 select-none",H?"cursor-grabbing":"cursor-default"),onMouseDown:w,onContextMenu:D=>(D.preventDefault(),D.stopPropagation(),!1),children:V.map(D=>_.jsx(kc.Fragment,{children:_.jsx(jD,{id:D.id,title:D.title,leads:D.leads,onCardClick:m,onDrop:bt,onDragOver:_t,draggedLeadId:p})},D.id))}),_.jsxs("div",{className:"flex-none px-5 py-2 border-t border-gray-100 bg-white flex items-center justify-center text-xs text-gray-400 gap-2",children:[_.jsx(kA,{size:13}),"Drag cards between columns to update lead status"]}),_.jsx(kD,{lead:f,isOpen:!!f,onClose:()=>m(null),onStatusChange:it,onDelete:mt})]})},pE={meta:"Meta Ads",google:"Google Ads"},yE={lead:"Lead Generation",sales:"Sales / E-commerce"};function zs(a){return a?typeof a=="string"?new Date(a).getTime():a.seconds?a.seconds*1e3:0:0}function vg(a){const e=zs(a);return e?new Date(e).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}):""}function _g(a){const e=Number(a);return!a||isNaN(e)?"":`${e.toLocaleString("en-IN")}`}function zD(a){return a.split(" ").slice(0,2).map(e=>{var i;return((i=e[0])==null?void 0:i.toUpperCase())??""}).join("")}async function UD(a,e){try{await navigator.clipboard.writeText(a)}catch{const i=document.createElement("textarea");i.value=a,document.body.appendChild(i),i.select(),document.execCommand("copy"),document.body.removeChild(i)}e(!0),setTimeout(()=>e(!1),2e3)}function PD(a){const e=["#","Name","Email","Company","Platform","Goal","Budget/Day","Submitted"],i=a.map((m,p)=>[p+1,m.name,m.email,m.company??"",pE[m.platform]??m.platform,yE[m.target]??m.target,m.budget?`${Number(m.budget).toLocaleString("en-IN")}`:"",vg(m.submittedAt)]),s=[e,...i].map(m=>m.map(p=>`"${p}"`).join(",")).join(`
`),o=new Blob([s],{type:"text/csv"}),u=URL.createObjectURL(o),f=document.createElement("a");f.href=u,f.download=`companion-leads-${new Date().toISOString().slice(0,10)}.csv`,f.click(),URL.revokeObjectURL(u)}function wc({label:a,value:e,icon:i,accent:s,sub:o}){return _.jsxs("div",{className:"relative overflow-hidden rounded-2xl border border-[hsl(var(--card-border))] bg-[hsl(var(--card))] p-5 shadow-sm flex flex-col gap-3",children:[_.jsxs("div",{className:"flex items-center justify-between",children:[_.jsx("p",{className:"text-xs font-semibold uppercase tracking-widest text-[hsl(var(--muted-foreground))]",children:a}),_.jsx("div",{className:de("p-2 rounded-xl",s),children:_.jsx(i,{size:16,className:"opacity-90"})})]}),_.jsxs("div",{children:[_.jsx("p",{className:"text-2xl sm:text-3xl font-bold tracking-tight text-[hsl(var(--foreground))]",children:e}),o&&_.jsx("p",{className:"text-xs text-[hsl(var(--muted-foreground))] mt-0.5",children:o})]})]})}function Ms({active:a,onClick:e,children:i}){return _.jsx("button",{onClick:e,className:de("px-3 py-1.5 rounded-full text-xs font-semibold border transition-all duration-150 whitespace-nowrap",a?"bg-[hsl(var(--primary))] text-[hsl(var(--primary-foreground))] border-[hsl(var(--primary))] shadow-sm":"bg-[hsl(var(--card))] text-[hsl(var(--muted-foreground))] border-[hsl(var(--border))] hover:border-[hsl(var(--primary))]/50 hover:text-[hsl(var(--foreground))]"),children:i})}function qd({label:a,sortKey:e,current:i,dir:s,onSort:o}){const u=i===e;return _.jsx("th",{className:"px-5 py-3.5 text-xs font-semibold text-[hsl(var(--muted-foreground))] uppercase tracking-wider cursor-pointer select-none whitespace-nowrap",onClick:()=>o(e),children:_.jsxs("span",{className:"inline-flex items-center gap-1",children:[a,u?s==="asc"?_.jsx(tA,{size:13}):_.jsx(K2,{size:13}):_.jsx(sA,{size:13,className:"opacity-40"})]})})}function bg({platform:a}){const e=a==="google";return _.jsx("span",{className:de("inline-flex items-center px-2.5 py-0.5 rounded-full text-[11px] font-semibold border",e?"bg-yellow-500/10 text-yellow-600 dark:text-yellow-400 border-yellow-500/20":"bg-blue-500/10 text-blue-600 dark:text-blue-400 border-blue-500/20"),children:pE[a]??a})}function Eg({target:a}){const e=a==="sales";return _.jsx("span",{className:de("inline-flex items-center px-2.5 py-0.5 rounded-full text-[11px] font-semibold border",e?"bg-green-500/10 text-green-600 dark:text-green-400 border-green-500/20":"bg-purple-500/10 text-purple-600 dark:text-purple-400 border-purple-500/20"),children:yE[a]??a})}function xg({name:a}){const e=zD(a),i=[...a].reduce((s,o)=>s+o.charCodeAt(0),0)%360;return _.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-xs font-bold text-white shrink-0 select-none",style:{background:`hsl(${i}, 60%, 50%)`},children:e})}function BD({lead:a,onClose:e}){const[i,s]=U.useState(!1);return U.useEffect(()=>{const o=u=>u.key==="Escape"&&e();return document.addEventListener("keydown",o),()=>document.removeEventListener("keydown",o)},[e]),_.jsxs(_.Fragment,{children:[_.jsx("div",{className:"fixed inset-0 bg-black/40 backdrop-blur-sm z-40",onClick:e}),_.jsx("div",{className:"fixed inset-0 z-50 flex items-end sm:items-center justify-center p-4 pointer-events-none",children:_.jsxs("div",{className:"bg-[hsl(var(--card))] border border-[hsl(var(--card-border))] rounded-2xl shadow-2xl w-full max-w-lg max-h-[90vh] overflow-y-auto pointer-events-auto",onClick:o=>o.stopPropagation(),children:[_.jsxs("div",{className:"sticky top-0 flex items-center justify-between px-6 py-4 border-b border-[hsl(var(--border))] bg-[hsl(var(--card))] rounded-t-2xl",children:[_.jsxs("div",{className:"flex items-center gap-3",children:[_.jsx(xg,{name:a.name}),_.jsxs("div",{children:[_.jsx("p",{className:"font-semibold text-[hsl(var(--foreground))] leading-tight",children:a.name}),_.jsx("p",{className:"text-xs text-[hsl(var(--muted-foreground))]",children:a.company||"No company"})]})]}),_.jsx("button",{onClick:e,className:"p-1.5 rounded-lg hover:bg-[hsl(var(--accent))] text-[hsl(var(--muted-foreground))] transition-colors",children:_.jsx(zr,{size:18})})]}),_.jsxs("div",{className:"px-6 py-5 space-y-5",children:[_.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[_.jsx(Rc,{icon:Lo,label:"Email",children:_.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[_.jsx("a",{href:`mailto:${a.email}`,className:"text-[hsl(var(--primary))] hover:underline text-sm break-all flex-1 min-w-0",children:a.email}),_.jsx("button",{onClick:()=>UD(a.email,s),className:"shrink-0 text-[11px] px-2 py-0.5 rounded-md bg-[hsl(var(--muted))] text-[hsl(var(--muted-foreground))] hover:bg-[hsl(var(--accent))] transition-colors whitespace-nowrap",children:i?" Copied":"Copy"})]})}),a.phone?_.jsx(Rc,{icon:zA,label:"Phone",children:_.jsx("p",{className:"text-sm text-[hsl(var(--foreground))] font-medium",children:a.phone})}):a.company?_.jsx(Rc,{icon:sv,label:"Company",children:_.jsx("p",{className:"text-sm text-[hsl(var(--foreground))]",children:a.company})}):null]}),a.phone&&a.company&&_.jsx(Rc,{icon:sv,label:"Company",children:_.jsx("p",{className:"text-sm text-[hsl(var(--foreground))]",children:a.company})}),_.jsxs("div",{className:"flex flex-wrap gap-2",children:[_.jsx(bg,{platform:a.platform}),_.jsx(Eg,{target:a.target})]}),_.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[_.jsxs("div",{className:"rounded-xl bg-[hsl(var(--muted))]/50 p-4",children:[_.jsx("p",{className:"text-xs text-[hsl(var(--muted-foreground))] uppercase tracking-wider mb-1",children:"Daily Budget"}),_.jsx("p",{className:"text-xl font-bold text-[hsl(var(--foreground))]",children:_g(a.budget)})]}),_.jsxs("div",{className:"rounded-xl bg-[hsl(var(--muted))]/50 p-4",children:[_.jsx("p",{className:"text-xs text-[hsl(var(--muted-foreground))] uppercase tracking-wider mb-1",children:"Submitted"}),_.jsx("p",{className:"text-sm font-medium text-[hsl(var(--foreground))]",children:vg(a.submittedAt)})]})]}),_.jsx("div",{className:"pb-2"})]})]})})]})}function Rc({icon:a,label:e,children:i}){return _.jsxs("div",{children:[_.jsxs("p",{className:"text-[10px] uppercase tracking-widest font-semibold text-[hsl(var(--muted-foreground))] flex items-center gap-1 mb-1",children:[_.jsx(a,{size:11}),e]}),i]})}const qD=()=>{const[a,e]=U.useState([]),[i,s]=U.useState(!0),[o,u]=U.useState(null),[f,m]=U.useState(!1),[p,y]=U.useState(""),[E,T]=U.useState({start:"",end:""}),[S,L]=U.useState("all"),[K,$]=U.useState("all"),[H,st]=U.useState("submittedAt"),[rt,it]=U.useState("desc"),[mt,bt]=U.useState(null),[_t,N]=U.useState(!1),w=U.useRef(null),C=async(M=!1)=>{M?m(!0):s(!0);try{const G=lg(Xs(Ti,"contacts"),hg("submittedAt","desc")),at=await Zs(G);e(at.docs.map(ut=>({id:ut.id,...ut.data()}))),u(null)}catch{try{const at=(await Zs(Xs(Ti,"contacts"))).docs.map(ut=>({id:ut.id,...ut.data()}));at.sort((ut,Ut)=>zs(Ut.submittedAt)-zs(ut.submittedAt)),e(at),u(null)}catch{u("Could not load leads. Check Firestore permissions for the 'contacts' collection.")}}finally{s(!1),m(!1)}};U.useEffect(()=>{C()},[]);const O=M=>{M===H?it(G=>G==="asc"?"desc":"asc"):(st(M),it("desc"))},V=U.useMemo(()=>{let M=a;if(p.trim()){const G=p.toLowerCase();M=M.filter(at=>{var ut;return at.name.toLowerCase().includes(G)||at.email.toLowerCase().includes(G)||((ut=at.company)==null?void 0:ut.toLowerCase().includes(G))})}if(S!=="all"&&(M=M.filter(G=>G.platform===S)),K!=="all"&&(M=M.filter(G=>G.target===K)),E.start&&E.end){const G=new Date(E.start).getTime(),at=new Date(E.end).getTime()+864e5;M=M.filter(ut=>{const Ut=zs(ut.submittedAt);return Ut>=G&&Ut<=at})}return M=[...M].sort((G,at)=>{let ut=0;return H==="submittedAt"?ut=zs(G.submittedAt)-zs(at.submittedAt):H==="budget"?ut=Number(G.budget||0)-Number(at.budget||0):H==="name"&&(ut=G.name.localeCompare(at.name)),rt==="asc"?ut:-ut}),M},[a,p,S,K,E,H,rt]),D=V.reduce((M,G)=>M+Number(G.budget||0),0),R=V.length>0?Math.round(D/V.length):0,gt=[p.trim(),S!=="all",K!=="all",E.start||E.end].filter(Boolean).length,et=()=>{y(""),L("all"),$("all"),T({start:"",end:""})};return i?_.jsx("div",{className:"flex h-screen items-center justify-center bg-[hsl(var(--background))]",children:_.jsxs("div",{className:"flex flex-col items-center gap-3",children:[_.jsx(wm,{className:"h-8 w-8 animate-spin text-[hsl(var(--primary))]"}),_.jsx("p",{className:"text-sm text-[hsl(var(--muted-foreground))]",children:"Loading leads"})]})}):_.jsxs(_.Fragment,{children:[_.jsxs("div",{className:"flex-1 min-h-screen bg-[hsl(var(--background))] p-4 sm:p-6 lg:p-8 space-y-6",children:[_.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-4",children:[_.jsxs("div",{children:[_.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[_.jsx("h1",{className:"text-2xl sm:text-3xl font-bold tracking-tight text-[hsl(var(--foreground))]",children:"Companion Leads"}),_.jsx("span",{className:"px-2.5 py-0.5 rounded-full bg-[hsl(var(--primary))]/10 text-[hsl(var(--primary))] text-xs font-bold border border-[hsl(var(--primary))]/20",children:a.length})]}),_.jsx("p",{className:"text-sm text-[hsl(var(--muted-foreground))]",children:"Contact form submissions from the Companion platform"})]}),_.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[_.jsxs("button",{onClick:()=>C(!0),disabled:f,className:"inline-flex items-center gap-1.5 px-3 py-2 rounded-lg border border-[hsl(var(--border))] text-[hsl(var(--muted-foreground))] text-sm font-medium hover:text-[hsl(var(--foreground))] hover:border-[hsl(var(--foreground))]/20 transition-all disabled:opacity-50",children:[_.jsx(t1,{size:14,className:f?"animate-spin":""}),_.jsx("span",{className:"hidden sm:inline",children:"Refresh"})]}),_.jsxs("button",{onClick:()=>PD(V),disabled:V.length===0,className:"inline-flex items-center gap-1.5 px-3 py-2 rounded-lg bg-[hsl(var(--primary))] text-[hsl(var(--primary-foreground))] text-sm font-semibold hover:opacity-90 transition-opacity disabled:opacity-40",children:[_.jsx(W_,{size:14}),_.jsx("span",{className:"hidden sm:inline",children:"Export CSV"})]})]})]}),_.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[_.jsx(wc,{label:"Total Leads",value:V.length,icon:vo,accent:"bg-[hsl(var(--primary))]/10 text-[hsl(var(--primary))]",sub:a.length!==V.length?`of ${a.length} total`:void 0}),_.jsx(wc,{label:"Meta Ads",value:V.filter(M=>M.platform==="meta").length,icon:$A,accent:"bg-blue-500/10 text-blue-500"}),_.jsx(wc,{label:"Google Ads",value:V.filter(M=>M.platform==="google").length,icon:Q2,accent:"bg-yellow-500/10 text-yellow-500"}),_.jsx(wc,{label:"Avg Daily Budget",value:`${R.toLocaleString("en-IN")}`,icon:xA,accent:"bg-green-500/10 text-green-500"})]}),_.jsxs("div",{className:"flex flex-col gap-3",children:[_.jsxs("div",{className:"flex gap-2",children:[_.jsxs("div",{className:"relative flex-1",children:[_.jsx(e1,{size:15,className:"absolute left-3 top-1/2 -translate-y-1/2 text-[hsl(var(--muted-foreground))]"}),_.jsx("input",{ref:w,type:"text",placeholder:"Search by name, email, or company",value:p,onChange:M=>y(M.target.value),className:"w-full pl-9 pr-4 py-2.5 rounded-xl border border-[hsl(var(--border))] bg-[hsl(var(--card))] text-sm text-[hsl(var(--foreground))] placeholder:text-[hsl(var(--muted-foreground))] focus:outline-none focus:ring-2 focus:ring-[hsl(var(--primary))]/30 transition-all"}),p&&_.jsx("button",{onClick:()=>y(""),className:"absolute right-3 top-1/2 -translate-y-1/2 text-[hsl(var(--muted-foreground))] hover:text-[hsl(var(--foreground))]",children:_.jsx(zr,{size:14})})]}),_.jsxs("button",{onClick:()=>N(M=>!M),className:de("sm:hidden inline-flex items-center gap-1.5 px-3 py-2.5 rounded-xl border text-sm font-medium transition-all",_t||gt>0?"bg-[hsl(var(--primary))]/10 border-[hsl(var(--primary))]/30 text-[hsl(var(--primary))]":"border-[hsl(var(--border))] text-[hsl(var(--muted-foreground))]"),children:[_.jsx(FA,{size:15}),gt>0&&_.jsx("span",{className:"bg-[hsl(var(--primary))] text-[hsl(var(--primary-foreground))] text-[10px] font-bold rounded-full w-4 h-4 flex items-center justify-center",children:gt})]})]}),_.jsxs("div",{className:de("flex flex-wrap gap-2 items-center",!_t&&"hidden sm:flex"),children:[_.jsx("span",{className:"text-xs font-semibold text-[hsl(var(--muted-foreground))] uppercase tracking-wider mr-1",children:"Platform:"}),_.jsx(Ms,{active:S==="all",onClick:()=>L("all"),children:"All"}),_.jsx(Ms,{active:S==="meta",onClick:()=>L("meta"),children:"Meta Ads"}),_.jsx(Ms,{active:S==="google",onClick:()=>L("google"),children:"Google Ads"}),_.jsx("span",{className:"text-xs font-semibold text-[hsl(var(--muted-foreground))] uppercase tracking-wider ml-3 mr-1",children:"Goal:"}),_.jsx(Ms,{active:K==="all",onClick:()=>$("all"),children:"All"}),_.jsx(Ms,{active:K==="lead",onClick:()=>$("lead"),children:"Lead Gen"}),_.jsx(Ms,{active:K==="sales",onClick:()=>$("sales"),children:"Sales"}),_.jsxs("div",{className:"flex items-center gap-1.5 ml-3 bg-[hsl(var(--card))] border border-[hsl(var(--border))] rounded-full px-3 py-1",children:[_.jsx(tl,{size:12,className:"text-[hsl(var(--muted-foreground))]"}),_.jsx("input",{type:"date",value:E.start,onChange:M=>T(G=>({...G,start:M.target.value})),className:"bg-transparent text-xs border-none focus:ring-0 text-[hsl(var(--foreground))] [color-scheme:light] dark:[color-scheme:dark] w-28"}),_.jsx("span",{className:"text-[hsl(var(--muted-foreground))] text-xs",children:"-"}),_.jsx("input",{type:"date",value:E.end,onChange:M=>T(G=>({...G,end:M.target.value})),className:"bg-transparent text-xs border-none focus:ring-0 text-[hsl(var(--foreground))] [color-scheme:light] dark:[color-scheme:dark] w-28"}),(E.start||E.end)&&_.jsx("button",{onClick:()=>T({start:"",end:""}),className:"text-[hsl(var(--muted-foreground))] hover:text-[hsl(var(--foreground))]",children:_.jsx(Z_,{size:13})})]}),gt>0&&_.jsx("button",{onClick:et,className:"ml-1 text-xs text-[hsl(var(--muted-foreground))] hover:text-[hsl(var(--destructive))] transition-colors underline-offset-2 hover:underline",children:"Clear all"})]}),!o&&_.jsx("p",{className:"text-xs text-[hsl(var(--muted-foreground))]",children:V.length===a.length?`${a.length} submission${a.length!==1?"s":""}`:`${V.length} of ${a.length} submissions`})]}),o&&_.jsxs("div",{className:"flex items-start gap-3 p-4 rounded-xl bg-red-500/10 border border-red-500/20 text-red-600 dark:text-red-400",children:[_.jsx(X_,{size:18,className:"shrink-0 mt-0.5"}),_.jsxs("div",{children:[_.jsx("p",{className:"font-semibold text-sm",children:"Failed to load leads"}),_.jsx("p",{className:"text-xs mt-0.5 opacity-80",children:o})]})]}),!o&&_.jsx("div",{className:"hidden lg:block rounded-2xl border border-[hsl(var(--card-border))] bg-[hsl(var(--card))] overflow-hidden shadow-sm",children:V.length===0?_.jsx(R_,{hasFilters:gt>0,onClear:et}):_.jsx("div",{className:"overflow-x-auto",children:_.jsxs("table",{className:"w-full text-sm text-left",children:[_.jsx("thead",{className:"border-b border-[hsl(var(--border))] bg-[hsl(var(--muted))]/30",children:_.jsxs("tr",{children:[_.jsx("th",{className:"px-5 py-3.5 text-xs font-semibold text-[hsl(var(--muted-foreground))] uppercase tracking-wider w-10",children:"#"}),_.jsx(qd,{label:"Name",sortKey:"name",current:H,dir:rt,onSort:O}),_.jsx("th",{className:"px-5 py-3.5 text-xs font-semibold text-[hsl(var(--muted-foreground))] uppercase tracking-wider",children:"Company"}),_.jsx("th",{className:"px-5 py-3.5 text-xs font-semibold text-[hsl(var(--muted-foreground))] uppercase tracking-wider",children:"Platform"}),_.jsx("th",{className:"px-5 py-3.5 text-xs font-semibold text-[hsl(var(--muted-foreground))] uppercase tracking-wider",children:"Goal"}),_.jsx(qd,{label:"Budget/Day",sortKey:"budget",current:H,dir:rt,onSort:O}),_.jsx(qd,{label:"Submitted",sortKey:"submittedAt",current:H,dir:rt,onSort:O})]})}),_.jsx("tbody",{className:"divide-y divide-[hsl(var(--border))]",children:V.map((M,G)=>_.jsxs("tr",{className:"hover:bg-[hsl(var(--accent))]/40 transition-colors cursor-pointer group",onClick:()=>bt(M),children:[_.jsx("td",{className:"px-5 py-4 text-[hsl(var(--muted-foreground))] text-xs w-10",children:G+1}),_.jsx("td",{className:"px-5 py-4",children:_.jsxs("div",{className:"flex items-center gap-3",children:[_.jsx(xg,{name:M.name}),_.jsxs("div",{className:"min-w-0",children:[_.jsx("p",{className:"font-semibold text-[hsl(var(--foreground))] truncate group-hover:text-[hsl(var(--primary))] transition-colors",children:M.name}),_.jsx("p",{className:"text-xs text-[hsl(var(--muted-foreground))] truncate",children:M.email})]})]})}),_.jsx("td",{className:"px-5 py-4 text-[hsl(var(--muted-foreground))] text-sm",children:M.company||_.jsx("span",{className:"opacity-30",children:""})}),_.jsx("td",{className:"px-5 py-4",children:_.jsx(bg,{platform:M.platform})}),_.jsx("td",{className:"px-5 py-4",children:_.jsx(Eg,{target:M.target})}),_.jsx("td",{className:"px-5 py-4 font-semibold text-[hsl(var(--foreground))]",children:_g(M.budget)}),_.jsx("td",{className:"px-5 py-4 text-[hsl(var(--muted-foreground))] text-xs whitespace-nowrap",children:vg(M.submittedAt)})]},M.id))})]})})}),!o&&_.jsx("div",{className:"lg:hidden space-y-3",children:V.length===0?_.jsx(R_,{hasFilters:gt>0,onClear:et}):V.map((M,G)=>_.jsx(HD,{lead:M,index:G,onClick:()=>bt(M)},M.id))})]}),mt&&_.jsx(BD,{lead:mt,onClose:()=>bt(null)})]})},HD=({lead:a,index:e,onClick:i})=>_.jsxs("div",{className:"rounded-2xl border border-[hsl(var(--card-border))] bg-[hsl(var(--card))] p-4 space-y-3 shadow-sm",children:[_.jsxs("div",{className:"flex items-start justify-between gap-3",children:[_.jsxs("div",{className:"flex items-center gap-3 min-w-0 flex-1 cursor-pointer",onClick:i,children:[_.jsx(xg,{name:a.name}),_.jsxs("div",{className:"min-w-0",children:[_.jsx("p",{className:"font-semibold text-[hsl(var(--foreground))] truncate",children:a.name}),_.jsx("p",{className:"text-xs text-[hsl(var(--muted-foreground))] truncate",children:a.email})]})]}),_.jsxs("span",{className:"text-xs font-bold text-[hsl(var(--primary))] bg-[hsl(var(--primary))]/10 px-2 py-0.5 rounded-full border border-[hsl(var(--primary))]/20 shrink-0",children:["#",e+1]})]}),_.jsxs("div",{className:"flex flex-wrap gap-2",children:[_.jsx(bg,{platform:a.platform}),_.jsx(Eg,{target:a.target})]}),_.jsxs("div",{className:"flex items-center justify-between pt-2 border-t border-[hsl(var(--border))]",children:[_.jsxs("div",{children:[_.jsx("p",{className:"text-[10px] uppercase tracking-wider text-[hsl(var(--muted-foreground))]",children:"Budget/Day"}),_.jsx("p",{className:"text-sm font-bold text-[hsl(var(--foreground))]",children:_g(a.budget)})]}),_.jsx("div",{className:"flex items-center gap-2",children:_.jsx("button",{onClick:i,className:"flex-1 px-3 py-2.5 rounded-xl bg-[hsl(var(--primary))]/10 text-[hsl(var(--primary))] text-xs font-bold hover:bg-[hsl(var(--primary))]/20 transition-colors",children:"View Details "})})]})]});function R_({hasFilters:a,onClear:e}){return _.jsxs("div",{className:"flex flex-col items-center justify-center py-20 gap-4 text-center px-4 rounded-2xl border border-[hsl(var(--border))] bg-[hsl(var(--card))]",children:[_.jsx("div",{className:"p-4 rounded-full bg-[hsl(var(--muted))]",children:a?_.jsx(e1,{size:22,className:"text-[hsl(var(--muted-foreground))]"}):_.jsx(bA,{size:22,className:"text-[hsl(var(--muted-foreground))]"})}),_.jsxs("div",{children:[_.jsx("p",{className:"font-semibold text-[hsl(var(--foreground))]",children:a?"No results found":"No submissions yet"}),_.jsx("p",{className:"text-sm text-[hsl(var(--muted-foreground))] mt-1",children:a?"Try adjusting your filters or search query.":"Companion form submissions will appear here."})]}),a&&_.jsx("button",{onClick:e,className:"px-4 py-2 rounded-xl bg-[hsl(var(--primary))] text-[hsl(var(--primary-foreground))] text-sm font-semibold hover:opacity-90 transition-opacity",children:"Clear filters"})]})}const FD=U.createContext(void 0),GD=({children:a})=>{const[e]=U.useState("light");U.useEffect(()=>{document.documentElement.classList.remove("dark"),localStorage.setItem("theme","light")},[]);const i=()=>{};return _.jsx(FD.Provider,{value:{theme:e,toggleTheme:i},children:a})};function QD(){const[a,e]=U.useState(!1);return _.jsx(GD,{children:_.jsx(R2,{children:_.jsxs("div",{className:"flex min-h-screen bg-gray-50 font-sans",children:[_.jsx(WA,{onOpenNewLead:()=>{},isOpen:a,onClose:()=>e(!1)}),_.jsxs("div",{className:"lg:hidden fixed top-0 left-0 right-0 h-14 bg-white border-b border-gray-100 z-30 flex items-center px-4 gap-3 shadow-sm",children:[_.jsx("button",{onClick:()=>e(!0),className:"p-2 hover:bg-gray-100 rounded-lg text-gray-500 transition-colors",children:_.jsx(VA,{size:20})}),_.jsx("div",{className:"w-7 h-7 rounded-md bg-gray-900 flex items-center justify-center text-white text-xs font-bold",children:"EL"}),_.jsx("span",{className:"font-bold text-gray-900",children:"Evoc Labs CRM"})]}),_.jsx("main",{className:"flex-1 w-full lg:ml-60 min-h-screen pt-14 lg:pt-0 transition-all duration-300",children:_.jsxs(i2,{children:[_.jsx(mo,{path:"/",element:_.jsx(DD,{})}),_.jsx(mo,{path:"/pipeline",element:_.jsx(LD,{})}),_.jsx(mo,{path:"/companion",element:_.jsx(qD,{})}),_.jsx(mo,{path:"*",element:_.jsx(e2,{to:"/",replace:!0})})]})})]})})})}console.log("Mounting React App...");const vE=document.getElementById("root");if(!vE)throw console.error("Could not find root element to mount to"),new Error("Could not find root element to mount to");const YD=rT.createRoot(vE);YD.render(_.jsx(kc.StrictMode,{children:_.jsx(QD,{})}));
